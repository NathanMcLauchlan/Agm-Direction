!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("agm-direction",["exports","@angular/core","rxjs","rxjs/operators","@angular/common"],factory):factory((global.ng=global.ng||{},global.ng.angularLibraryStarter={}),global.ng.core,global.rxjs,global.rxjs.operators,global.ng.common)}(this,function(exports,core,rxjs,operators,common){"use strict";var GoogleMapsScriptProtocol,MapsAPILoader=function(){function MapsAPILoader(){}return MapsAPILoader.decorators=[{type:core.Injectable}],MapsAPILoader}(),GoogleMapsAPIWrapper=function(){function GoogleMapsAPIWrapper(_loader,_zone){var _this=this;this._loader=_loader,this._zone=_zone,this._map=new Promise(function(resolve){_this._mapResolver=resolve})}return GoogleMapsAPIWrapper.prototype.createMap=function(el,mapOptions){var _this=this;return this._zone.runOutsideAngular(function(){return _this._loader.load().then(function(){var map=new google.maps.Map(el,mapOptions);_this._mapResolver(map)})})},GoogleMapsAPIWrapper.prototype.setMapOptions=function(options){this._map.then(function(m){m.setOptions(options)})},GoogleMapsAPIWrapper.prototype.createMarker=function(options,addToMap){return void 0===options&&(options={}),void 0===addToMap&&(addToMap=!0),this._map.then(function(map){return addToMap&&(options.map=map),new google.maps.Marker(options)})},GoogleMapsAPIWrapper.prototype.createInfoWindow=function(options){return this._map.then(function(){return new google.maps.InfoWindow(options)})},GoogleMapsAPIWrapper.prototype.createCircle=function(options){return this._map.then(function(map){return options.map=map,new google.maps.Circle(options)})},GoogleMapsAPIWrapper.prototype.createRectangle=function(options){return this._map.then(function(map){return options.map=map,new google.maps.Rectangle(options)})},GoogleMapsAPIWrapper.prototype.createPolyline=function(options){return this.getNativeMap().then(function(map){var line=new google.maps.Polyline(options);return line.setMap(map),line})},GoogleMapsAPIWrapper.prototype.createPolygon=function(options){return this.getNativeMap().then(function(map){var polygon=new google.maps.Polygon(options);return polygon.setMap(map),polygon})},GoogleMapsAPIWrapper.prototype.createDataLayer=function(options){return this._map.then(function(m){var data=new google.maps.Data(options);return data.setMap(m),data})},GoogleMapsAPIWrapper.prototype.containsLocation=function(latLng,polygon){return google.maps.geometry.poly.containsLocation(latLng,polygon)},GoogleMapsAPIWrapper.prototype.subscribeToMapEvent=function(eventName){var _this=this;return new rxjs.Observable(function(observer){_this._map.then(function(m){m.addListener(eventName,function(arg){_this._zone.run(function(){return observer.next(arg)})})})})},GoogleMapsAPIWrapper.prototype.clearInstanceListeners=function(){this._map.then(function(map){google.maps.event.clearInstanceListeners(map)})},GoogleMapsAPIWrapper.prototype.setCenter=function(latLng){return this._map.then(function(map){return map.setCenter(latLng)})},GoogleMapsAPIWrapper.prototype.getZoom=function(){return this._map.then(function(map){return map.getZoom()})},GoogleMapsAPIWrapper.prototype.getBounds=function(){return this._map.then(function(map){return map.getBounds()})},GoogleMapsAPIWrapper.prototype.getMapTypeId=function(){return this._map.then(function(map){return map.getMapTypeId()})},GoogleMapsAPIWrapper.prototype.setZoom=function(zoom){return this._map.then(function(map){return map.setZoom(zoom)})},GoogleMapsAPIWrapper.prototype.getCenter=function(){return this._map.then(function(map){return map.getCenter()})},GoogleMapsAPIWrapper.prototype.panTo=function(latLng){return this._map.then(function(map){return map.panTo(latLng)})},GoogleMapsAPIWrapper.prototype.panBy=function(x,y){return this._map.then(function(map){return map.panBy(x,y)})},GoogleMapsAPIWrapper.prototype.fitBounds=function(latLng){return this._map.then(function(map){return map.fitBounds(latLng)})},GoogleMapsAPIWrapper.prototype.panToBounds=function(latLng){return this._map.then(function(map){return map.panToBounds(latLng)})},GoogleMapsAPIWrapper.prototype.getNativeMap=function(){return this._map},GoogleMapsAPIWrapper.prototype.triggerMapEvent=function(eventName){return this._map.then(function(m){return google.maps.event.trigger(m,eventName)})},GoogleMapsAPIWrapper.decorators=[{type:core.Injectable}],GoogleMapsAPIWrapper.ctorParameters=function(){return[{type:MapsAPILoader},{type:core.NgZone}]},GoogleMapsAPIWrapper}(),MarkerManager=function(){function MarkerManager(_mapsWrapper,_zone){this._mapsWrapper=_mapsWrapper,this._zone=_zone,this._markers=new Map}return MarkerManager.prototype.deleteMarker=function(marker){var _this=this,m=this._markers.get(marker);return null==m?Promise.resolve():m.then(function(m){return _this._zone.run(function(){m.setMap(null),_this._markers.delete(marker)})})},MarkerManager.prototype.updateMarkerPosition=function(marker){return this._markers.get(marker).then(function(m){return m.setPosition({lat:marker.latitude,lng:marker.longitude})})},MarkerManager.prototype.updateTitle=function(marker){return this._markers.get(marker).then(function(m){return m.setTitle(marker.title)})},MarkerManager.prototype.updateLabel=function(marker){return this._markers.get(marker).then(function(m){m.setLabel(marker.label)})},MarkerManager.prototype.updateDraggable=function(marker){return this._markers.get(marker).then(function(m){return m.setDraggable(marker.draggable)})},MarkerManager.prototype.updateIcon=function(marker){return this._markers.get(marker).then(function(m){return m.setIcon(marker.iconUrl)})},MarkerManager.prototype.updateOpacity=function(marker){return this._markers.get(marker).then(function(m){return m.setOpacity(marker.opacity)})},MarkerManager.prototype.updateVisible=function(marker){return this._markers.get(marker).then(function(m){return m.setVisible(marker.visible)})},MarkerManager.prototype.updateZIndex=function(marker){return this._markers.get(marker).then(function(m){return m.setZIndex(marker.zIndex)})},MarkerManager.prototype.updateClickable=function(marker){return this._markers.get(marker).then(function(m){return m.setClickable(marker.clickable)})},MarkerManager.prototype.updateAnimation=function(marker){return this._markers.get(marker).then(function(m){"string"==typeof marker.animation?m.setAnimation(google.maps.Animation[marker.animation]):m.setAnimation(marker.animation)})},MarkerManager.prototype.addMarker=function(marker){var markerPromise=this._mapsWrapper.createMarker({position:{lat:marker.latitude,lng:marker.longitude},label:marker.label,draggable:marker.draggable,icon:marker.iconUrl,opacity:marker.opacity,visible:marker.visible,zIndex:marker.zIndex,title:marker.title,clickable:marker.clickable,animation:"string"==typeof marker.animation?google.maps.Animation[marker.animation]:marker.animation});this._markers.set(marker,markerPromise)},MarkerManager.prototype.getNativeMarker=function(marker){return this._markers.get(marker)},MarkerManager.prototype.createEventObservable=function(eventName,marker){var _this=this;return new rxjs.Observable(function(observer){_this._markers.get(marker).then(function(m){m.addListener(eventName,function(e){return _this._zone.run(function(){return observer.next(e)})})})})},MarkerManager.decorators=[{type:core.Injectable}],MarkerManager.ctorParameters=function(){return[{type:GoogleMapsAPIWrapper},{type:core.NgZone}]},MarkerManager}(),InfoWindowManager=function(){function InfoWindowManager(_mapsWrapper,_zone,_markerManager){this._mapsWrapper=_mapsWrapper,this._zone=_zone,this._markerManager=_markerManager,this._infoWindows=new Map}return InfoWindowManager.prototype.deleteInfoWindow=function(infoWindow){var _this=this,iWindow=this._infoWindows.get(infoWindow);return null==iWindow?Promise.resolve():iWindow.then(function(i){return _this._zone.run(function(){i.close(),_this._infoWindows.delete(infoWindow)})})},InfoWindowManager.prototype.setPosition=function(infoWindow){return this._infoWindows.get(infoWindow).then(function(i){return i.setPosition({lat:infoWindow.latitude,lng:infoWindow.longitude})})},InfoWindowManager.prototype.setZIndex=function(infoWindow){return this._infoWindows.get(infoWindow).then(function(i){return i.setZIndex(infoWindow.zIndex)})},InfoWindowManager.prototype.open=function(infoWindow){var _this=this;return this._infoWindows.get(infoWindow).then(function(w){return null!=infoWindow.hostMarker?_this._markerManager.getNativeMarker(infoWindow.hostMarker).then(function(marker){return _this._mapsWrapper.getNativeMap().then(function(map){return w.open(map,marker)})}):_this._mapsWrapper.getNativeMap().then(function(map){return w.open(map)})})},InfoWindowManager.prototype.close=function(infoWindow){return this._infoWindows.get(infoWindow).then(function(w){return w.close()})},InfoWindowManager.prototype.setOptions=function(infoWindow,options){return this._infoWindows.get(infoWindow).then(function(i){return i.setOptions(options)})},InfoWindowManager.prototype.addInfoWindow=function(infoWindow){var options={content:infoWindow.content,maxWidth:infoWindow.maxWidth,zIndex:infoWindow.zIndex,disableAutoPan:infoWindow.disableAutoPan};"number"==typeof infoWindow.latitude&&"number"==typeof infoWindow.longitude&&(options.position={lat:infoWindow.latitude,lng:infoWindow.longitude});var infoWindowPromise=this._mapsWrapper.createInfoWindow(options);this._infoWindows.set(infoWindow,infoWindowPromise)},InfoWindowManager.prototype.createEventObservable=function(eventName,infoWindow){var _this=this;return new rxjs.Observable(function(observer){_this._infoWindows.get(infoWindow).then(function(i){i.addListener(eventName,function(e){return _this._zone.run(function(){return observer.next(e)})})})})},InfoWindowManager.decorators=[{type:core.Injectable}],InfoWindowManager.ctorParameters=function(){return[{type:GoogleMapsAPIWrapper},{type:core.NgZone},{type:MarkerManager}]},InfoWindowManager}(),FitBoundsAccessor=function(){},infoWindowId=0,AgmInfoWindow=function(){function AgmInfoWindow(_infoWindowManager,_el){this._infoWindowManager=_infoWindowManager,this._el=_el,this.isOpen=!1,this.infoWindowClose=new core.EventEmitter,this._infoWindowAddedToManager=!1,this._id=(infoWindowId++).toString()}return AgmInfoWindow.prototype.ngOnInit=function(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()},AgmInfoWindow.prototype.ngOnChanges=function(changes){this._infoWindowAddedToManager&&((changes.latitude||changes.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),changes.zIndex&&this._infoWindowManager.setZIndex(this),changes.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(changes))},AgmInfoWindow.prototype._registerEventListeners=function(){var _this=this;this._infoWindowManager.createEventObservable("closeclick",this).subscribe(function(){_this.isOpen=!1,_this.infoWindowClose.emit()})},AgmInfoWindow.prototype._updateOpenState=function(){this.isOpen?this.open():this.close()},AgmInfoWindow.prototype._setInfoWindowOptions=function(changes){var options={};Object.keys(changes).filter(function(k){return-1!==AgmInfoWindow._infoWindowOptionsInputs.indexOf(k)}).forEach(function(k){options[k]=changes[k].currentValue}),this._infoWindowManager.setOptions(this,options)},AgmInfoWindow.prototype.open=function(){return this._infoWindowManager.open(this)},AgmInfoWindow.prototype.close=function(){var _this=this;return this._infoWindowManager.close(this).then(function(){_this.infoWindowClose.emit()})},AgmInfoWindow.prototype.id=function(){return this._id},AgmInfoWindow.prototype.toString=function(){return"AgmInfoWindow-"+this._id.toString()},AgmInfoWindow.prototype.ngOnDestroy=function(){this._infoWindowManager.deleteInfoWindow(this)},AgmInfoWindow._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],AgmInfoWindow.decorators=[{type:core.Component,args:[{selector:"agm-info-window",template:"<div class='agm-info-window-content'>\n      <ng-content></ng-content>\n    </div>\n  "}]}],AgmInfoWindow.ctorParameters=function(){return[{type:InfoWindowManager},{type:core.ElementRef}]},AgmInfoWindow.propDecorators={latitude:[{type:core.Input}],longitude:[{type:core.Input}],disableAutoPan:[{type:core.Input}],zIndex:[{type:core.Input}],maxWidth:[{type:core.Input}],isOpen:[{type:core.Input}],infoWindowClose:[{type:core.Output}]},AgmInfoWindow}(),markerId=0,WindowRef=(function(){function AgmMarker(_markerManager){this._markerManager=_markerManager,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.markerClick=new core.EventEmitter,this.markerRightClick=new core.EventEmitter,this.dragEnd=new core.EventEmitter,this.mouseOver=new core.EventEmitter,this.mouseOut=new core.EventEmitter,this.infoWindow=new core.QueryList,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new rxjs.ReplaySubject(1),this._id=(markerId++).toString()}AgmMarker.prototype.ngAfterContentInit=function(){var _this=this;this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(function(){return _this.handleInfoWindowUpdate()})},AgmMarker.prototype.handleInfoWindowUpdate=function(){var _this=this;if(1<this.infoWindow.length)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(function(marker){marker.hostMarker=_this})},AgmMarker.prototype.ngOnChanges=function(changes){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(changes.latitude||changes.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),changes.title&&this._markerManager.updateTitle(this),changes.label&&this._markerManager.updateLabel(this),changes.draggable&&this._markerManager.updateDraggable(this),changes.iconUrl&&this._markerManager.updateIcon(this),changes.opacity&&this._markerManager.updateOpacity(this),changes.visible&&this._markerManager.updateVisible(this),changes.zIndex&&this._markerManager.updateZIndex(this),changes.clickable&&this._markerManager.updateClickable(this),changes.animation&&this._markerManager.updateAnimation(this)}},AgmMarker.prototype.getFitBoundsDetails$=function(){return this._fitBoundsDetails$.asObservable()},AgmMarker.prototype._updateFitBoundsDetails=function(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})},AgmMarker.prototype._addEventListeners=function(){var _this=this,cs=this._markerManager.createEventObservable("click",this).subscribe(function(){_this.openInfoWindow&&_this.infoWindow.forEach(function(infoWindow){return infoWindow.open()}),_this.markerClick.emit(_this)});this._observableSubscriptions.push(cs);var rc=this._markerManager.createEventObservable("rightclick",this).subscribe(function(){_this.markerRightClick.emit(null)});this._observableSubscriptions.push(rc);var ds=this._markerManager.createEventObservable("dragend",this).subscribe(function(e){_this.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(ds);var mover=this._markerManager.createEventObservable("mouseover",this).subscribe(function(e){_this.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(mover);var mout=this._markerManager.createEventObservable("mouseout",this).subscribe(function(e){_this.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(mout)},AgmMarker.prototype.id=function(){return this._id},AgmMarker.prototype.toString=function(){return"AgmMarker-"+this._id.toString()},AgmMarker.prototype.ngOnDestroy=function(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(function(s){return s.unsubscribe()})},AgmMarker.decorators=[{type:core.Directive,args:[{selector:"agm-marker",providers:[{provide:FitBoundsAccessor,useExisting:core.forwardRef(function(){return AgmMarker})}],inputs:["latitude","longitude","title","label","draggable: markerDraggable","iconUrl","openInfoWindow","opacity","visible","zIndex","animation"],outputs:["markerClick","dragEnd","mouseOver","mouseOut"]}]}],AgmMarker.ctorParameters=function(){return[{type:MarkerManager}]},AgmMarker.propDecorators={latitude:[{type:core.Input}],longitude:[{type:core.Input}],title:[{type:core.Input}],label:[{type:core.Input}],draggable:[{type:core.Input,args:["markerDraggable"]}],iconUrl:[{type:core.Input}],visible:[{type:core.Input}],openInfoWindow:[{type:core.Input}],opacity:[{type:core.Input}],zIndex:[{type:core.Input}],clickable:[{type:core.Input,args:["markerClickable"]}],markerClick:[{type:core.Output}],markerRightClick:[{type:core.Output}],dragEnd:[{type:core.Output}],mouseOver:[{type:core.Output}],mouseOut:[{type:core.Output}],infoWindow:[{type:core.ContentChildren,args:[AgmInfoWindow]}]}}(),function(){function WindowRef(){}return WindowRef.prototype.getNativeWindow=function(){return window},WindowRef}()),DocumentRef=function(){function DocumentRef(){}return DocumentRef.prototype.getNativeDocument=function(){return document},DocumentRef}(),__extends=function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(GoogleMapsScriptProtocol){GoogleMapsScriptProtocol[GoogleMapsScriptProtocol.HTTP=1]="HTTP",GoogleMapsScriptProtocol[GoogleMapsScriptProtocol.HTTPS=2]="HTTPS",GoogleMapsScriptProtocol[GoogleMapsScriptProtocol.AUTO=3]="AUTO"}(GoogleMapsScriptProtocol||(GoogleMapsScriptProtocol={}));var LAZY_MAPS_API_CONFIG=new core.InjectionToken("angular-google-maps LAZY_MAPS_API_CONFIG"),extendStatics=(function(_super){function LazyMapsAPILoader(config,w,d){void 0===config&&(config=null);var _this=_super.call(this)||this;return _this._SCRIPT_ID="agmGoogleMapsApiScript",_this.callbackName="agmLazyMapsAPILoader",_this._config=config||{},_this._windowRef=w,_this._documentRef=d,_this}__extends(LazyMapsAPILoader,_super),LazyMapsAPILoader.prototype.load=function(){var window=this._windowRef.getNativeWindow();if(window.google&&window.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var scriptOnPage=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(scriptOnPage)return this._assignScriptLoadingPromise(scriptOnPage),this._scriptLoadingPromise;var script=this._documentRef.getNativeDocument().createElement("script");return script.type="text/javascript",script.async=!0,script.defer=!0,script.id=this._SCRIPT_ID,script.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(script),this._documentRef.getNativeDocument().body.appendChild(script),this._scriptLoadingPromise},LazyMapsAPILoader.prototype._assignScriptLoadingPromise=function(scriptElem){var _this=this;this._scriptLoadingPromise=new Promise(function(resolve,reject){_this._windowRef.getNativeWindow()[_this.callbackName]=function(){resolve()},scriptElem.onerror=function(error){reject(error)}})},LazyMapsAPILoader.prototype._getScriptSrc=function(callbackName){var protocol;switch(this._config&&this._config.protocol||GoogleMapsScriptProtocol.HTTPS){case GoogleMapsScriptProtocol.AUTO:protocol="";break;case GoogleMapsScriptProtocol.HTTP:protocol="http:";break;case GoogleMapsScriptProtocol.HTTPS:protocol="https:"}var hostAndPath=this._config.hostAndPath||"maps.googleapis.com/maps/api/js",queryParams={v:this._config.apiVersion||"3",callback:callbackName,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language};return protocol+"//"+hostAndPath+"?"+Object.keys(queryParams).filter(function(k){return null!=queryParams[k]}).filter(function(k){return!Array.isArray(queryParams[k])||Array.isArray(queryParams[k])&&0<queryParams[k].length}).map(function(k){var i=queryParams[k];return Array.isArray(i)?{key:k,value:i.join(",")}:{key:k,value:queryParams[k]}}).map(function(entry){return entry.key+"="+entry.value}).join("&")},LazyMapsAPILoader.decorators=[{type:core.Injectable}],LazyMapsAPILoader.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[LAZY_MAPS_API_CONFIG]}]},{type:WindowRef},{type:DocumentRef}]}}(MapsAPILoader),Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])});function __extends$1(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}
/**
     * @license Angular v6.0.0
     * (c) 2010-2018 Google, Inc. https://angular.io/
     * License: MIT
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var _DOM=null;function getDOM(){return _DOM}var nodeContains,GenericBrowserDomAdapter=function(_super){function GenericBrowserDomAdapter(){var _this=_super.call(this)||this;_this._animationPrefix=null,_this._transitionEnd=null;try{var element_1=_this.createElement("div",document);if(null!=_this.getStyle(element_1,"animationName"))_this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(null!=_this.getStyle(element_1,domPrefixes[i]+"AnimationName")){_this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames_1={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(transEndEventNames_1).forEach(function(key){null!=_this.getStyle(element_1,key)&&(_this._transitionEnd=transEndEventNames_1[key])})}catch(e){_this._animationPrefix=null,_this._transitionEnd=null}return _this}return __extends$1(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},GenericBrowserDomAdapter}(function(){function DomAdapter(){this.resourceLoaderType=null}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}()),_attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */core.ɵglobal.Node&&(nodeContains=core.ɵglobal.Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))});var urlParsingNode,BrowserDomAdapter=function(_super){function BrowserDomAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){var adapter;adapter=new BrowserDomAdapter,_DOM||(_DOM=adapter)},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){var _a;(_a=el)[methodName].apply(_a,__spread(args))},BrowserDomAdapter.prototype.logError=function(error){window.console&&(console.error?console.error(error):console.log(error))},BrowserDomAdapter.prototype.log=function(error){window.console&&window.console.log&&window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console&&window.console.group&&window.console.group(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.contains=function(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(el){return"content"in el&&this.isTemplateElement(el)?el.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=new Array(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(parent,ref,node){parent.insertBefore(node,ref)},BrowserDomAdapter.prototype.insertAllBefore=function(parent,ref,nodes){nodes.forEach(function(n){return parent.insertBefore(n,ref)})},BrowserDomAdapter.prototype.insertAfter=function(parent,ref,node){parent.insertBefore(node,ref.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return this.getDefaultDocument().createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){var el=(doc=doc||this.getDefaultDocument()).createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){var style=(doc=doc||this.getDefaultDocument()).createElement("style");return this.appendChild(style,this.createTextNode(css,doc)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=""},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:0<value.length},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.getDefaultDocument=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(doc){return doc.title},BrowserDomAdapter.prototype.setTitle=function(doc,newTitle){doc.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))},BrowserDomAdapter.prototype.isTemplateElement=function(el){return this.isElementNode(el)&&"TEMPLATE"===el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return null!=node.shadowRoot&&node instanceof HTMLElement},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){return document.importNode(this.templateAwareRoot(node),!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.getAttribute("href")},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(doc){var href=function(){if(!baseElement&&!(baseElement=document.querySelector("base")))return null;return baseElement.getAttribute("href")}();return null==href?null:function(url){urlParsingNode||(urlParsingNode=document.createElement("a"));return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(name){return common.ɵparseCookieValue(document.cookie,name)},BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)},BrowserDomAdapter}(GenericBrowserDomAdapter),baseElement=null;var DOCUMENT$1=common.DOCUMENT;
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function supportsState(){return!!window.history.pushState}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var BrowserPlatformLocation=function(_super){function BrowserPlatformLocation(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._init(),_this}return __extends$1(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()},BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return getDOM().getBaseHref(this._doc)},BrowserPlatformLocation.prototype.onPopState=function(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this.location.pathname},set:function(newPath){this.location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation.decorators=[{type:core.Injectable}],BrowserPlatformLocation.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]}]},BrowserPlatformLocation}(common.PlatformLocation),BrowserGetTestability=(new core.InjectionToken("TRANSITION_ID"),function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){core.ɵglobal.getAngularTestability=function(elem,findInAncestors){void 0===findInAncestors&&(findInAncestors=!0);var testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},core.ɵglobal.getAllAngularTestabilities=function(){return registry.getAllTestabilities()},core.ɵglobal.getAllAngularRootElements=function(){return registry.getAllRootElements()};core.ɵglobal.frameworkStabilizers||(core.ɵglobal.frameworkStabilizers=[]),core.ɵglobal.frameworkStabilizers.push(function(callback){var testabilities=core.ɵglobal.getAllAngularTestabilities(),count=testabilities.length,didWork=!1,decrement=function(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})})},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,getDOM().parentElement(elem),!0):null},BrowserGetTestability}());
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function exportNgVar(name,value){"undefined"!=typeof COMPILED&&COMPILED||((core.ɵglobal.ng=core.ɵglobal.ng||{})[name]=value)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var CORE_TOKENS={ApplicationRef:core.ApplicationRef,NgZone:core.NgZone},INSPECT_GLOBAL_NAME="probe",CORE_TOKENS_GLOBAL_NAME="coreTokens";function inspectNativeElement(element){return core.getDebugNode(element)}core.APP_INITIALIZER,core.NgProbeToken,new core.Optional,new core.InjectionToken("EventManagerPlugins")
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */;var EventManagerPlugin=function(){function EventManagerPlugin(_doc){this._doc=_doc}return EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){var target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error("Unsupported event target "+target+" for event "+eventName);return this.addEventListener(target,eventName,handler)},EventManagerPlugin}(),NAMESPACE_URIS=(function(_super){function DomSharedStylesHost(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._hostNodes=new Set,_this._styleNodes=new Set,_this._hostNodes.add(_doc.head),_this}__extends$1(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){var _this=this;styles.forEach(function(style){var styleEl=_this._doc.createElement("style");styleEl.textContent=style,_this._styleNodes.add(host.appendChild(styleEl))})},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){this._hostNodes.delete(hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){return _this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(styleNode){return getDOM().remove(styleNode)})},DomSharedStylesHost.decorators=[{type:core.Injectable}],DomSharedStylesHost.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]}]}}(function(){function SharedStylesHost(){this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=new Set;styles.forEach(function(style){_this._stylesSet.has(style)||(_this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},SharedStylesHost.decorators=[{type:core.Injectable}],SharedStylesHost.ctorParameters=function(){return[]},SharedStylesHost}()),{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}),COMPONENT_REGEX=/%COMP%/g,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";function flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return function(event){!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}var DefaultDomRenderer2=function(){function DefaultDomRenderer2(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}return DefaultDomRenderer2.prototype.destroy=function(){},DefaultDomRenderer2.prototype.createElement=function(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace],name):document.createElement(name)},DefaultDomRenderer2.prototype.createComment=function(value){return document.createComment(value)},DefaultDomRenderer2.prototype.createText=function(value){return document.createTextNode(value)},DefaultDomRenderer2.prototype.appendChild=function(parent,newChild){parent.appendChild(newChild)},DefaultDomRenderer2.prototype.insertBefore=function(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)},DefaultDomRenderer2.prototype.removeChild=function(parent,oldChild){parent&&parent.removeChild(oldChild)},DefaultDomRenderer2.prototype.selectRootElement=function(selectorOrNode){var el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error('The selector "'+selectorOrNode+'" did not match any elements');return el.textContent="",el},DefaultDomRenderer2.prototype.parentNode=function(node){return node.parentNode},DefaultDomRenderer2.prototype.nextSibling=function(node){return node.nextSibling},DefaultDomRenderer2.prototype.setAttribute=function(el,name,value,namespace){if(namespace){name=namespace+":"+name;var namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)},DefaultDomRenderer2.prototype.removeAttribute=function(el,name,namespace){if(namespace){var namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(namespace+":"+name)}else el.removeAttribute(name)},DefaultDomRenderer2.prototype.addClass=function(el,name){el.classList.add(name)},DefaultDomRenderer2.prototype.removeClass=function(el,name){el.classList.remove(name)},DefaultDomRenderer2.prototype.setStyle=function(el,style,value,flags){flags&core.RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&core.RendererStyleFlags2.Important?"important":""):el.style[style]=value},DefaultDomRenderer2.prototype.removeStyle=function(el,style,flags){flags&core.RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""},DefaultDomRenderer2.prototype.setProperty=function(el,name,value){checkNoSyntheticProp(name,"property"),el[name]=value},DefaultDomRenderer2.prototype.setValue=function(node,value){node.nodeValue=value},DefaultDomRenderer2.prototype.listen=function(target,event,callback){return checkNoSyntheticProp(event,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))},DefaultDomRenderer2}(),AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error("Found the synthetic "+nameKind+" "+name+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}(function(_super){function EmulatedEncapsulationDomRenderer2(eventManager,sharedStylesHost,component){var componentShortId,_this=_super.call(this,eventManager)||this,styles=flattenStyles((_this.component=component).id,component.styles,[]);return sharedStylesHost.addStyles(styles),_this.contentAttr=(componentShortId=component.id,CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)),_this.hostAttr=function(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}(component.id),_this}__extends$1(EmulatedEncapsulationDomRenderer2,_super),EmulatedEncapsulationDomRenderer2.prototype.applyToHost=function(element){_super.prototype.setAttribute.call(this,element,this.hostAttr,"")},EmulatedEncapsulationDomRenderer2.prototype.createElement=function(parent,name){var el=_super.prototype.createElement.call(this,parent,name);return _super.prototype.setAttribute.call(this,el,this.contentAttr,""),el}})(DefaultDomRenderer2),function(_super){function ShadowDomRenderer(eventManager,sharedStylesHost,hostEl,component){var _this=_super.call(this,eventManager)||this;_this.sharedStylesHost=sharedStylesHost,_this.hostEl=hostEl,_this.component=component,_this.shadowRoot=hostEl.createShadowRoot(),_this.sharedStylesHost.addHost(_this.shadowRoot);for(var styles=flattenStyles(component.id,component.styles,[]),i=0;i<styles.length;i++){var styleEl=document.createElement("style");styleEl.textContent=styles[i],_this.shadowRoot.appendChild(styleEl)}return _this}__extends$1(ShadowDomRenderer,_super),ShadowDomRenderer.prototype.nodeOrShadowRoot=function(node){return node===this.hostEl?this.shadowRoot:node},ShadowDomRenderer.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},ShadowDomRenderer.prototype.appendChild=function(parent,newChild){return _super.prototype.appendChild.call(this,this.nodeOrShadowRoot(parent),newChild)},ShadowDomRenderer.prototype.insertBefore=function(parent,newChild,refChild){return _super.prototype.insertBefore.call(this,this.nodeOrShadowRoot(parent),newChild,refChild)},ShadowDomRenderer.prototype.removeChild=function(parent,oldChild){return _super.prototype.removeChild.call(this,this.nodeOrShadowRoot(parent),oldChild)},ShadowDomRenderer.prototype.parentNode=function(node){return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this,this.nodeOrShadowRoot(node)))}}(DefaultDomRenderer2);var blackListedMap,__symbol__="undefined"!=typeof Zone&&Zone.__symbol__||function(v){return"__zone_symbol__"+v},ADD_EVENT_LISTENER=__symbol__("addEventListener"),REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),symbolNames={},stopSymbol="__zone_symbol__propagationStopped",blackListedEvents="undefined"!=typeof Zone&&Zone[__symbol__("BLACK_LISTED_EVENTS")];blackListedEvents&&(blackListedMap={},blackListedEvents.forEach(function(eventName){blackListedMap[eventName]=eventName}));var isBlackListedEvent=function(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)},globalListener=function(event){var symbolName=symbolNames[event.type];if(symbolName){var taskDatas=this[symbolName];if(taskDatas){var args=[event];if(1===taskDatas.length)return(taskData=taskDatas[0]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args);for(var copiedTasks=taskDatas.slice(),i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++){var taskData;(taskData=copiedTasks[i]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}}},EVENT_NAMES=(function(_super){function DomEventsPlugin(doc,ngZone){var _this=_super.call(this,doc)||this;return _this.ngZone=ngZone,_this.patchEvent(),_this}__extends$1(DomEventsPlugin,_super),DomEventsPlugin.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var delegate=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}}},DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zoneJsLoaded=element[ADD_EVENT_LISTENER],callback=handler;if(!zoneJsLoaded||core.NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element.addEventListener(eventName,callback,!1);else{var symbolName=symbolNames[eventName];symbolName||(symbolName=symbolNames[eventName]=__symbol__("ANGULAR"+eventName+"FALSE"));var taskDatas=element[symbolName],globalListenerRegistered=taskDatas&&0<taskDatas.length;taskDatas||(taskDatas=element[symbolName]=[]);var zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{for(var callbackRegistered=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return function(){return _this.removeEventListener(element,eventName,callback)}},DomEventsPlugin.prototype.removeEventListener=function(target,eventName,callback){var underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target.removeEventListener.apply(target,[eventName,callback,!1]);var symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target.removeEventListener.apply(target,[eventName,callback,!1]);for(var found=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target.removeEventListener.apply(target,[eventName,callback,!1])},DomEventsPlugin.decorators=[{type:core.Injectable}],DomEventsPlugin.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]},{type:core.NgZone}]}}(EventManagerPlugin),{pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0}),HAMMER_GESTURE_CONFIG=new core.InjectionToken("HammerGestureConfig"),HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var mc=new Hammer(element,this.options);for(var eventName in mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0}),this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},HammerGestureConfig.decorators=[{type:core.Injectable}],HammerGestureConfig.ctorParameters=function(){return[]},HammerGestureConfig}(),MODIFIER_KEYS=(function(_super){function HammerGesturesPlugin(doc,_config,console){var _this=_super.call(this,doc)||this;return _this._config=_config,_this.console=console,_this}__extends$1(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!!window.Hammer||(this.console.warn("Hammer.js is not loaded, can not bind '"+eventName+"' event."),!1))},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();return eventName=eventName.toLowerCase(),zone.runOutsideAngular(function(){var mc=_this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded(function(){handler(eventObj)})};return mc.on(eventName,callback),function(){return mc.off(eventName,callback)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return-1<this._config.events.indexOf(eventName)},HammerGesturesPlugin.decorators=[{type:core.Injectable}],HammerGesturesPlugin.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]},{type:HammerGestureConfig,decorators:[{type:core.Inject,args:[HAMMER_GESTURE_CONFIG]}]},{type:core.ɵConsole}]}}(EventManagerPlugin),["alt","control","meta","shift"]),MODIFIER_KEY_GETTERS={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},SafeValueImpl=(function(_super){function KeyEventsPlugin(doc){return _super.call(this,doc)||this}__extends$1(KeyEventsPlugin,_super),KeyEventsPlugin.prototype.supports=function(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler)})},KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;var key=KeyEventsPlugin._normalizeKey(parts.pop()),fullKey="";if(MODIFIER_KEYS.forEach(function(modifierName){var index=parts.indexOf(modifierName);-1<index&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;var result={};return result.domEventName=domEventName,result.fullKey=fullKey,result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=getDOM().getEventKey(event);return" "===(key=key.toLowerCase())?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(function(modifierName){modifierName!=key&&((0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+"."))}),fullKey+=key},KeyEventsPlugin.eventCallback=function(fullKey,handler,zone){return function(event){KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}},KeyEventsPlugin.decorators=[{type:core.Injectable}],KeyEventsPlugin.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]}]}}(EventManagerPlugin),function(_super){function DomSanitizerImpl(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this}__extends$1(DomSanitizerImpl,_super),DomSanitizerImpl.prototype.sanitize=function(ctx,value){if(null==value)return null;switch(ctx){case core.SecurityContext.NONE:return value;case core.SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),core.ɵ_sanitizeHtml(this._doc,String(value)));case core.SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),core.ɵ_sanitizeStyle(value));case core.SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case core.SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),core.ɵ_sanitizeUrl(String(value)));case core.SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+ctx+" (see http://g.co/ng/security#xss)")}},DomSanitizerImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl)throw new Error("Required a safe "+expectedType+", got a "+value.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)},DomSanitizerImpl.decorators=[{type:core.Injectable}],DomSanitizerImpl.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[DOCUMENT$1]}]}]}}(function(){}),function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}()),SafeHtmlImpl=function(_super){function SafeHtmlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(SafeHtmlImpl,_super),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(SafeValueImpl),SafeStyleImpl=function(_super){function SafeStyleImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(SafeStyleImpl,_super),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(SafeValueImpl),SafeScriptImpl=function(_super){function SafeScriptImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(SafeScriptImpl,_super),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(SafeValueImpl),SafeUrlImpl=function(_super){function SafeUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(SafeUrlImpl,_super),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(SafeValueImpl),SafeResourceUrlImpl=function(_super){function SafeResourceUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1(SafeResourceUrlImpl,_super),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(SafeValueImpl),INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:core.PLATFORM_ID,useValue:common.ɵPLATFORM_BROWSER_ID},{provide:core.PLATFORM_INITIALIZER,useValue:function(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()},multi:!0},{provide:common.PlatformLocation,useClass:BrowserPlatformLocation,deps:[DOCUMENT$1]},{provide:DOCUMENT$1,useFactory:function(){return document}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */,deps:[]}];core.createPlatformFactory(core.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS);var RequestMethod,ReadyState,ResponseType,ContentType,ResponseContentType;
/**
     * @license Angular v6.0.4
     * (c) 2010-2018 Google, Inc. https://angular.io/
     * License: MIT
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */new core.Version("6.0.0");!function(RequestMethod){RequestMethod[RequestMethod.Get=0]="Get",RequestMethod[RequestMethod.Post=1]="Post",RequestMethod[RequestMethod.Put=2]="Put",RequestMethod[RequestMethod.Delete=3]="Delete",RequestMethod[RequestMethod.Options=4]="Options",RequestMethod[RequestMethod.Head=5]="Head",RequestMethod[RequestMethod.Patch=6]="Patch"}(RequestMethod||(RequestMethod={})),function(ReadyState){ReadyState[ReadyState.Unsent=0]="Unsent",ReadyState[ReadyState.Open=1]="Open",ReadyState[ReadyState.HeadersReceived=2]="HeadersReceived",ReadyState[ReadyState.Loading=3]="Loading",ReadyState[ReadyState.Done=4]="Done",ReadyState[ReadyState.Cancelled=5]="Cancelled"}(ReadyState||(ReadyState={})),function(ResponseType){ResponseType[ResponseType.Basic=0]="Basic",ResponseType[ResponseType.Cors=1]="Cors",ResponseType[ResponseType.Default=2]="Default",ResponseType[ResponseType.Error=3]="Error",ResponseType[ResponseType.Opaque=4]="Opaque"}(ResponseType||(ResponseType={})),function(ContentType){ContentType[ContentType.NONE=0]="NONE",ContentType[ContentType.JSON=1]="JSON",ContentType[ContentType.FORM=2]="FORM",ContentType[ContentType.FORM_DATA=3]="FORM_DATA",ContentType[ContentType.TEXT=4]="TEXT",ContentType[ContentType.BLOB=5]="BLOB",ContentType[ContentType.ARRAY_BUFFER=6]="ARRAY_BUFFER"}(ContentType||(ContentType={})),function(ResponseContentType){ResponseContentType[ResponseContentType.Text=0]="Text",ResponseContentType[ResponseContentType.Json=1]="Json",ResponseContentType[ResponseContentType.ArrayBuffer=2]="ArrayBuffer",ResponseContentType[ResponseContentType.Blob=3]="Blob"}(ResponseContentType||(ResponseContentType={}));
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var Headers=function(){function Headers(headers){var _this=this;this._headers=new Map,this._normalizedNames=new Map,headers&&(headers instanceof Headers?headers.forEach(function(values,name){values.forEach(function(value){return _this.append(name,value)})}):Object.keys(headers).forEach(function(name){var values=Array.isArray(headers[name])?headers[name]:[headers[name]];_this.delete(name),values.forEach(function(value){return _this.append(name,value)})}))}return Headers.fromResponseHeaderString=function(headersString){var headers=new Headers;return headersString.split("\n").forEach(function(line){var index=line.indexOf(":");if(0<index){var name_1=line.slice(0,index),value=line.slice(index+1).trim();headers.set(name_1,value)}}),headers},Headers.prototype.append=function(name,value){var values=this.getAll(name);null===values?this.set(name,value):values.push(value)},Headers.prototype.delete=function(name){var lcName=name.toLowerCase();this._normalizedNames.delete(lcName),this._headers.delete(lcName)},Headers.prototype.forEach=function(fn){var _this=this;this._headers.forEach(function(values,lcName){return fn(values,_this._normalizedNames.get(lcName),_this._headers)})},Headers.prototype.get=function(name){var values=this.getAll(name);return null===values?null:0<values.length?values[0]:null},Headers.prototype.has=function(name){return this._headers.has(name.toLowerCase())},Headers.prototype.keys=function(){return Array.from(this._normalizedNames.values())},Headers.prototype.set=function(name,value){Array.isArray(value)?value.length&&this._headers.set(name.toLowerCase(),[value.join(",")]):this._headers.set(name.toLowerCase(),[value]),this.mayBeSetNormalizedName(name)},Headers.prototype.values=function(){return Array.from(this._headers.values())},Headers.prototype.toJSON=function(){var _this=this,serialized={};return this._headers.forEach(function(values,name){var split=[];values.forEach(function(v){return split.push.apply(split,__spread(v.split(",")))}),serialized[_this._normalizedNames.get(name)]=split}),serialized},Headers.prototype.getAll=function(name){return this.has(name)&&this._headers.get(name.toLowerCase())||null},Headers.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},Headers.prototype.mayBeSetNormalizedName=function(name){var lcName=name.toLowerCase();this._normalizedNames.has(lcName)||this._normalizedNames.set(lcName,name)},Headers}(),ResponseOptions=function(){function ResponseOptions(opts){void 0===opts&&(opts={});var body=opts.body,status=opts.status,headers=opts.headers,statusText=opts.statusText,type=opts.type,url=opts.url;this.body=null!=body?body:null,this.status=null!=status?status:null,this.headers=null!=headers?headers:null,this.statusText=null!=statusText?statusText:null,this.type=null!=type?type:null,this.url=null!=url?url:null}return ResponseOptions.prototype.merge=function(options){return new ResponseOptions({body:options&&null!=options.body?options.body:this.body,status:options&&null!=options.status?options.status:this.status,headers:options&&null!=options.headers?options.headers:this.headers,statusText:options&&null!=options.statusText?options.statusText:this.statusText,type:options&&null!=options.type?options.type:this.type,url:options&&null!=options.url?options.url:this.url})},ResponseOptions}(),ConnectionBackend=(function(_super){function BaseResponseOptions(){return _super.call(this,{status:200,statusText:"Ok",type:ResponseType.Default,headers:new Headers})||this}__extends$1(BaseResponseOptions,_super),BaseResponseOptions.decorators=[{type:core.Injectable}],BaseResponseOptions.ctorParameters=function(){return[]}}(ResponseOptions),function(){});
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function normalizeMethodName(method){if("string"!=typeof method)return method;switch(method.toUpperCase()){case"GET":return RequestMethod.Get;case"POST":return RequestMethod.Post;case"PUT":return RequestMethod.Put;case"DELETE":return RequestMethod.Delete;case"OPTIONS":return RequestMethod.Options;case"HEAD":return RequestMethod.Head;case"PATCH":return RequestMethod.Patch}throw new Error('Invalid request method. The method "'+method+'" is not supported.')}var QueryEncoder=function(){function QueryEncoder(){}return QueryEncoder.prototype.encodeKey=function(k){return standardEncoding(k)},QueryEncoder.prototype.encodeValue=function(v){return standardEncoding(v)},QueryEncoder}();function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var URLSearchParams=function(){function URLSearchParams(rawParams,queryEncoder){void 0===rawParams&&(rawParams=""),void 0===queryEncoder&&(queryEncoder=new QueryEncoder),this.rawParams=rawParams,this.queryEncoder=queryEncoder,this.paramsMap=
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function(rawParams){void 0===rawParams&&(rawParams="");var map=new Map;return 0<rawParams.length&&rawParams.split("&").forEach(function(param){var eqIdx=param.indexOf("="),_a=__read(-1==eqIdx?[param,""]:[param.slice(0,eqIdx),param.slice(eqIdx+1)],2),key=_a[0],val=_a[1],list=map.get(key)||[];list.push(val),map.set(key,list)}),map}(rawParams)}return URLSearchParams.prototype.clone=function(){var clone=new URLSearchParams("",this.queryEncoder);return clone.appendAll(this),clone},URLSearchParams.prototype.has=function(param){return this.paramsMap.has(param)},URLSearchParams.prototype.get=function(param){var storedParam=this.paramsMap.get(param);return Array.isArray(storedParam)?storedParam[0]:null},URLSearchParams.prototype.getAll=function(param){return this.paramsMap.get(param)||[]},URLSearchParams.prototype.set=function(param,val){if(null!=val){var list=this.paramsMap.get(param)||[];list.length=0,list.push(val),this.paramsMap.set(param,list)}else this.delete(param)},URLSearchParams.prototype.setAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var list=_this.paramsMap.get(param)||[];list.length=0,list.push(value[0]),_this.paramsMap.set(param,list)})},URLSearchParams.prototype.append=function(param,val){if(null!=val){var list=this.paramsMap.get(param)||[];list.push(val),this.paramsMap.set(param,list)}},URLSearchParams.prototype.appendAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){for(var list=_this.paramsMap.get(param)||[],i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.replaceAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){for(var list=_this.paramsMap.get(param)||[],i=list.length=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.toString=function(){var _this=this,paramsList=[];return this.paramsMap.forEach(function(values,k){values.forEach(function(v){return paramsList.push(_this.queryEncoder.encodeKey(k)+"="+_this.queryEncoder.encodeValue(v))})}),paramsList.join("&")},URLSearchParams.prototype.delete=function(param){this.paramsMap.delete(param)},URLSearchParams}(),Body=function(){function Body(){}return Body.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},Body.prototype.text=function(encodingHint){if(void 0===encodingHint&&(encodingHint="legacy"),this._body instanceof URLSearchParams)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(encodingHint){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+encodingHint)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},Body.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(input){for(var view=new Uint16Array(input.length),i=0,strLen=input.length;i<strLen;i++)view[i]=input.charCodeAt(i);return view.buffer}(this.text())},Body.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},Body}(),Response=function(_super){function Response(responseOptions){var _this=_super.call(this)||this;return _this._body=responseOptions.body,_this.status=responseOptions.status,_this.ok=200<=_this.status&&_this.status<=299,_this.statusText=responseOptions.statusText,_this.headers=responseOptions.headers,_this.type=responseOptions.type,_this.url=responseOptions.url,_this}return __extends$1(Response,_super),Response.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},Response}(Body),_nextRequestId=0,JSONP_HOME="__ng_jsonp__",_jsonpConnections=null;
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function _getJsonpConnections(){var w="object"==typeof window?window:{};return null===_jsonpConnections&&(_jsonpConnections=w[JSONP_HOME]={}),_jsonpConnections}var BrowserJsonp=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(url){var node=document.createElement("script");return node.src=url,node},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},BrowserJsonp.prototype.requestCallback=function(id){return JSONP_HOME+"."+id+".finished"},BrowserJsonp.prototype.exposeConnection=function(id,connection){_getJsonpConnections()[id]=connection},BrowserJsonp.prototype.removeConnection=function(id){_getJsonpConnections()[id]=null},BrowserJsonp.prototype.send=function(node){document.body.appendChild(node)},BrowserJsonp.prototype.cleanup=function(node){node.parentNode&&node.parentNode.removeChild(node)},BrowserJsonp.decorators=[{type:core.Injectable}],BrowserJsonp}(),JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function JSONPConnection(req,_dom,baseResponseOptions){var _this=this;if(this._dom=_dom,this.baseResponseOptions=baseResponseOptions,this._finished=!1,req.method!==RequestMethod.Get)throw new TypeError(JSONP_ERR_WRONG_METHOD);this.request=req,this.response=new rxjs.Observable(function(responseObserver){_this.readyState=ReadyState.Loading;var id=_this._id=_dom.nextRequestID();_dom.exposeConnection(id,_this);var callback=_dom.requestCallback(_this._id),url=req.url;-1<url.indexOf("=JSONP_CALLBACK&")?url=url.replace("=JSONP_CALLBACK&","="+callback+"&"):url.lastIndexOf("=JSONP_CALLBACK")===url.length-"=JSONP_CALLBACK".length&&(url=url.substring(0,url.length-"=JSONP_CALLBACK".length)+"="+callback);var script=_this._script=_dom.build(url),onLoad=function(event){if(_this.readyState!==ReadyState.Cancelled){if(_this.readyState=ReadyState.Done,_dom.cleanup(script),!_this._finished){var responseOptions_1=new ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:ResponseType.Error,url:url});return baseResponseOptions&&(responseOptions_1=baseResponseOptions.merge(responseOptions_1)),void responseObserver.error(new Response(responseOptions_1))}var responseOptions=new ResponseOptions({body:_this._responseData,url:url});_this.baseResponseOptions&&(responseOptions=_this.baseResponseOptions.merge(responseOptions)),responseObserver.next(new Response(responseOptions)),responseObserver.complete()}},onError=function(error){if(_this.readyState!==ReadyState.Cancelled){_this.readyState=ReadyState.Done,_dom.cleanup(script);var responseOptions=new ResponseOptions({body:error.message,type:ResponseType.Error});baseResponseOptions&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new Response(responseOptions))}};return script.addEventListener("load",onLoad),script.addEventListener("error",onError),_dom.send(script),function(){_this.readyState=ReadyState.Cancelled,script.removeEventListener("load",onLoad),script.removeEventListener("error",onError),_this._dom.cleanup(script)}})}return JSONPConnection.prototype.finished=function(data){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==ReadyState.Cancelled&&(this._responseData=data)},JSONPConnection}(),RequestOptions=(function(_super){function JSONPBackend(_browserJSONP,_baseResponseOptions){var _this=_super.call(this)||this;return _this._browserJSONP=_browserJSONP,_this._baseResponseOptions=_baseResponseOptions,_this}__extends$1(JSONPBackend,_super),JSONPBackend.prototype.createConnection=function(request){return new JSONPConnection(request,this._browserJSONP,this._baseResponseOptions)},JSONPBackend.decorators=[{type:core.Injectable}],JSONPBackend.ctorParameters=function(){return[{type:BrowserJsonp},{type:ResponseOptions}]}}(ConnectionBackend),function(){function RequestOptions(opts){void 0===opts&&(opts={});var method=opts.method,headers=opts.headers,body=opts.body,url=opts.url,search=opts.search,params=opts.params,withCredentials=opts.withCredentials,responseType=opts.responseType;this.method=null!=method?normalizeMethodName(method):null,this.headers=null!=headers?headers:null,this.body=null!=body?body:null,this.url=null!=url?url:null,this.params=this._mergeSearchParams(params||search),this.withCredentials=null!=withCredentials?withCredentials:null,this.responseType=null!=responseType?responseType:null}return Object.defineProperty(RequestOptions.prototype,"search",{get:function(){return this.params},set:function(params){this.params=params},enumerable:!0,configurable:!0}),RequestOptions.prototype.merge=function(options){return new RequestOptions({method:options&&null!=options.method?options.method:this.method,headers:options&&null!=options.headers?options.headers:new Headers(this.headers),body:options&&null!=options.body?options.body:this.body,url:options&&null!=options.url?options.url:this.url,params:options&&this._mergeSearchParams(options.params||options.search),withCredentials:options&&null!=options.withCredentials?options.withCredentials:this.withCredentials,responseType:options&&null!=options.responseType?options.responseType:this.responseType})},RequestOptions.prototype._mergeSearchParams=function(params){return params?params instanceof URLSearchParams?params.clone():"string"==typeof params?new URLSearchParams(params):this._parseParams(params):this.params},RequestOptions.prototype._parseParams=function(objParams){var _this=this;void 0===objParams&&(objParams={});var params=new URLSearchParams;return Object.keys(objParams).forEach(function(key){var value=objParams[key];Array.isArray(value)?value.forEach(function(item){return _this._appendParam(key,item,params)}):_this._appendParam(key,value,params)}),params},RequestOptions.prototype._appendParam=function(key,value,params){"string"!=typeof value&&(value=JSON.stringify(value)),params.append(key,value)},RequestOptions}()),Request=(function(_super){function BaseRequestOptions(){return _super.call(this,{method:RequestMethod.Get,headers:new Headers})||this}__extends$1(BaseRequestOptions,_super),BaseRequestOptions.decorators=[{type:core.Injectable}],BaseRequestOptions.ctorParameters=function(){return[]}}(RequestOptions),function(_super){function Request(requestOptions){var _this=_super.call(this)||this,url=requestOptions.url;_this.url=requestOptions.url;var paramsArg=requestOptions.params||requestOptions.search;if(paramsArg){var params=void 0;if(0<(params="object"!=typeof paramsArg||paramsArg instanceof URLSearchParams?paramsArg.toString():function(params){var searchParams=new URLSearchParams;return Object.keys(params).forEach(function(key){var value=params[key];value&&Array.isArray(value)?value.forEach(function(element){return searchParams.append(key,element.toString())}):searchParams.append(key,value.toString())}),searchParams}(paramsArg).toString()).length){var prefix="?";-1!=_this.url.indexOf("?")&&(prefix="&"==_this.url[_this.url.length-1]?"":"&"),_this.url=url+prefix+params}}return _this._body=requestOptions.body,_this.method=normalizeMethodName(requestOptions.method),_this.headers=new Headers(requestOptions.headers),_this.contentType=_this.detectContentType(),_this.withCredentials=requestOptions.withCredentials,_this.responseType=requestOptions.responseType,_this}return __extends$1(Request,_super),Request.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return ContentType.JSON;case"application/x-www-form-urlencoded":return ContentType.FORM;case"multipart/form-data":return ContentType.FORM_DATA;case"text/plain":case"text/html":return ContentType.TEXT;case"application/octet-stream":return this._body instanceof ArrayBuffer$1?ContentType.ARRAY_BUFFER:ContentType.BLOB;default:return this.detectContentTypeFromBody()}},Request.prototype.detectContentTypeFromBody=function(){return null==this._body?ContentType.NONE:this._body instanceof URLSearchParams?ContentType.FORM:this._body instanceof FormData?ContentType.FORM_DATA:this._body instanceof Blob$1?ContentType.BLOB:this._body instanceof ArrayBuffer$1?ContentType.ARRAY_BUFFER:this._body&&"object"==typeof this._body?ContentType.JSON:ContentType.TEXT},Request.prototype.getBody=function(){switch(this.contentType){case ContentType.JSON:case ContentType.FORM:return this.text();case ContentType.FORM_DATA:return this._body;case ContentType.TEXT:return this.text();case ContentType.BLOB:return this.blob();case ContentType.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},Request}(Body));
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var noop=function(){},w="object"==typeof window?window:noop,FormData=w.FormData||noop,Blob$1=w.Blob||noop,ArrayBuffer$1=w.ArrayBuffer||noop;
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function httpRequest(backend,request){return backend.createConnection(request).response}function mergeOptions(defaultOpts,providedOpts,method,url){var newOptions=defaultOpts;return providedOpts?newOptions.merge(new RequestOptions({method:providedOpts.method||method,url:providedOpts.url||url,search:providedOpts.search,params:providedOpts.params,headers:providedOpts.headers,body:providedOpts.body,withCredentials:providedOpts.withCredentials,responseType:providedOpts.responseType})):newOptions.merge(new RequestOptions({method:method,url:url}))}var Http=function(){function Http(_backend,_defaultOptions){this._backend=_backend,this._defaultOptions=_defaultOptions}return Http.prototype.request=function(url,options){var responseObservable;if("string"==typeof url)responseObservable=httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Get,url)));else{if(!(url instanceof Request))throw new Error("First argument must be a url string or Request instance.");responseObservable=httpRequest(this._backend,url)}return responseObservable},Http.prototype.get=function(url,options){return this.request(new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Get,url)))},Http.prototype.post=function(url,body,options){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:body})),options,RequestMethod.Post,url)))},Http.prototype.put=function(url,body,options){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:body})),options,RequestMethod.Put,url)))},Http.prototype.delete=function(url,options){return this.request(new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Delete,url)))},Http.prototype.patch=function(url,body,options){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:body})),options,RequestMethod.Patch,url)))},Http.prototype.head=function(url,options){return this.request(new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Head,url)))},Http.prototype.options=function(url,options){return this.request(new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Options,url)))},Http.decorators=[{type:core.Injectable}],Http.ctorParameters=function(){return[{type:ConnectionBackend},{type:RequestOptions}]},Http}(),AgmDirection=(function(_super){function Jsonp(backend,defaultOptions){return _super.call(this,backend,defaultOptions)||this}__extends$1(Jsonp,_super),Jsonp.prototype.request=function(url,options){if("string"==typeof url&&(url=new Request(mergeOptions(this._defaultOptions,options,RequestMethod.Get,url))),!(url instanceof Request))throw new Error("First argument must be a url string or Request instance.");if(url.method!==RequestMethod.Get)throw new Error("JSONP requests must use GET request method.");return httpRequest(this._backend,url)},Jsonp.decorators=[{type:core.Injectable}],Jsonp.ctorParameters=function(){return[{type:ConnectionBackend},{type:RequestOptions}]}}(Http),new core.Version("6.0.4"),function(){function AgmDirection(gmapsApi,http){this.gmapsApi=gmapsApi,this.http=http,this.travelMode="DRIVING",this.transitOptions=void 0,this.drivingOptions=void 0,this.waypoints=[],this.optimizeWaypoints=!0,this.provideRouteAlternatives=!1,this.avoidHighways=!1,this.avoidTolls=!1,this.visible=!0,this.onChange=new core.EventEmitter,this.onResponse=new core.EventEmitter,this.sendInfoWindow=new core.EventEmitter,this.directionsService=void 0,this.directionsDisplay=void 0,this.waypointsMarker=[],this.isFirstChange=!0}return AgmDirection.prototype.ngOnInit=function(){!0===this.visible&&this.directionDraw()},AgmDirection.prototype.ngOnChanges=function(obj){if(this.visible){if(this.isFirstChange)return void 0===this.directionsDisplay&&this.directionDraw(),void(this.isFirstChange=!1);void 0!==obj.renderOptions&&!1===obj.renderOptions.firstChange&&(void 0!==this.originMarker&&(this.originMarker.setMap(null),this.destinationMarker.setMap(null),this.waypointsMarker.forEach(function(w){return w.setMap(null)})),this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0),this.directionDraw()}else try{void 0!==this.originMarker&&(this.originMarker.setMap(null),this.destinationMarker.setMap(null),this.waypointsMarker.forEach(function(w){return w.setMap(null)})),this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0}catch(e){}},AgmDirection.prototype.directionDraw=function(){var _this=this;this.gmapsApi.getNativeMap().then(function(map){void 0===_this.directionsDisplay&&(_this.directionsDisplay=new google.maps.DirectionsRenderer(_this.renderOptions),_this.directionsDisplay.setMap(map),_this.directionsDisplay.addListener("directions_changed",function(){_this.onChange.emit(_this.directionsDisplay.getDirections())})),void 0===_this.directionsService&&(_this.directionsService=new google.maps.DirectionsService),void 0===_this.panel?_this.directionsDisplay.setPanel(null):_this.directionsDisplay.setPanel(_this.panel);var requestObj={origin:_this.origin,destination:_this.destination,waypoints:_this.waypoints};var hash=function(s){for(var i=0,h=0;i<s.length;i++)h=Math.imul(31,h)+s.charCodeAt(i)|0;return h}(JSON.stringify(requestObj));"object"==typeof _this.renderRoute&&null!==_this.renderRoute?(_this.directionsDisplay.setDirections(_this.renderRoute),_this.renderRoute=null):_this.http.get("/umbraco/api/thirdpartycaching/GetGoogleDirections?request="+hash).subscribe(function(cacheResponse){if(cacheResponse=cacheResponse.json(),console.log("cached response: ",cacheResponse),null==cacheResponse)_this.directionsService.route({origin:_this.origin,destination:_this.destination,travelMode:_this.travelMode,transitOptions:_this.transitOptions,drivingOptions:_this.drivingOptions,waypoints:_this.waypoints,optimizeWaypoints:_this.optimizeWaypoints,provideRouteAlternatives:_this.provideRouteAlternatives,avoidHighways:_this.avoidHighways,avoidTolls:_this.avoidTolls},function(response,status){if(_this.onResponse.emit(response),"OK"===status&&(_this.directionsDisplay.setDirections(response),_this.http.post("/umbraco/api/thirdpartycaching/SaveGoogleDirections?request="+hash,response).subscribe(function(saveRes){console.log("save response:",saveRes)}),void 0!==_this.markerOptions)){try{void 0!==_this.originMarker&&(google.maps.event.clearListeners(_this.originMarker,"click"),_this.originMarker.setMap(null)),void 0!==_this.destinationMarker&&(google.maps.event.clearListeners(_this.destinationMarker,"click"),_this.destinationMarker.setMap(null)),_this.waypointsMarker.forEach(function(w){void 0!==w&&(google.maps.event.clearListeners(w,"click"),w.setMap(null))})}catch(err){console.error("Can not reset custom marker.",err)}var _route_1=response.routes[0].legs[0];try{void 0!==_this.markerOptions.origin&&(_this.markerOptions.origin.map=map,_this.markerOptions.origin.position=_route_1.start_location,_this.originMarker=_this.setMarker(map,_this.originMarker,_this.markerOptions.origin,_route_1.start_address)),void 0!==_this.markerOptions.destination&&(_this.markerOptions.destination.map=map,_this.markerOptions.destination.position=_route_1.end_location,_this.destinationMarker=_this.setMarker(map,_this.destinationMarker,_this.markerOptions.destination,_route_1.end_address)),void 0!==_this.markerOptions.waypoints&&_this.waypoints.forEach(function(waypoint,index){Array.isArray(_this.markerOptions.waypoints)?(_this.markerOptions.waypoints[index].map=map,_this.markerOptions.waypoints[index].position=_route_1.via_waypoints[index],_this.waypointsMarker.push(_this.setMarker(map,waypoint,_this.markerOptions.waypoints[index],_route_1.via_waypoints[index]))):(_this.markerOptions.waypoints.map=map,_this.markerOptions.waypoints.position=_route_1.via_waypoints[index],_this.waypointsMarker.push(_this.setMarker(map,waypoint,_this.markerOptions.waypoints,_route_1.via_waypoints[index])))})}catch(err){console.error("MarkerOptions error.",err)}}});else if(_this.onResponse.emit(cacheResponse),_this.directionsDisplay.setDirections(cacheResponse),void 0!==_this.markerOptions){try{void 0!==_this.originMarker&&(google.maps.event.clearListeners(_this.originMarker,"click"),_this.originMarker.setMap(null)),void 0!==_this.destinationMarker&&(google.maps.event.clearListeners(_this.destinationMarker,"click"),_this.destinationMarker.setMap(null)),_this.waypointsMarker.forEach(function(w){void 0!==w&&(google.maps.event.clearListeners(w,"click"),w.setMap(null))})}catch(err){console.error("Can not reset custom marker.",err)}var _route_2=cacheResponse.routes[0].legs[0];try{void 0!==_this.markerOptions.origin&&(_this.markerOptions.origin.map=map,_this.markerOptions.origin.position=_route_2.start_location,_this.originMarker=_this.setMarker(map,_this.originMarker,_this.markerOptions.origin,_route_2.start_address)),void 0!==_this.markerOptions.destination&&(_this.markerOptions.destination.map=map,_this.markerOptions.destination.position=_route_2.end_location,_this.destinationMarker=_this.setMarker(map,_this.destinationMarker,_this.markerOptions.destination,_route_2.end_address)),void 0!==_this.markerOptions.waypoints&&_this.waypoints.forEach(function(waypoint,index){Array.isArray(_this.markerOptions.waypoints)?(_this.markerOptions.waypoints[index].map=map,_this.markerOptions.waypoints[index].position=_route_2.via_waypoints[index],_this.waypointsMarker.push(_this.setMarker(map,waypoint,_this.markerOptions.waypoints[index],_route_2.via_waypoints[index]))):(_this.markerOptions.waypoints.map=map,_this.markerOptions.waypoints.position=_route_2.via_waypoints[index],_this.waypointsMarker.push(_this.setMarker(map,waypoint,_this.markerOptions.waypoints,_route_2.via_waypoints[index])))})}catch(err){console.error("MarkerOptions error.",err)}}})})},AgmDirection.prototype.setMarker=function(map,marker,markerOpts,content){var _this=this;return void 0===this.infoWindow&&(this.infoWindow=new google.maps.InfoWindow({}),this.sendInfoWindow.emit(this.infoWindow)),(marker=new google.maps.Marker(markerOpts)).addListener("click",function(){var infowindoContent=void 0===markerOpts.infoWindow?content:markerOpts.infoWindow;_this.infoWindow.setContent(infowindoContent),_this.infoWindow.open(map,marker)}),marker},AgmDirection.decorators=[{type:core.Directive,args:[{selector:"agm-direction"}]}],AgmDirection.ctorParameters=function(){return[{type:GoogleMapsAPIWrapper},{type:Http}]},AgmDirection.propDecorators={origin:[{type:core.Input}],destination:[{type:core.Input}],travelMode:[{type:core.Input}],transitOptions:[{type:core.Input}],drivingOptions:[{type:core.Input}],waypoints:[{type:core.Input}],optimizeWaypoints:[{type:core.Input}],provideRouteAlternatives:[{type:core.Input}],avoidHighways:[{type:core.Input}],avoidTolls:[{type:core.Input}],renderOptions:[{type:core.Input}],visible:[{type:core.Input}],panel:[{type:core.Input}],markerOptions:[{type:core.Input}],infoWindow:[{type:core.Input}],renderRoute:[{type:core.Input}],onChange:[{type:core.Output}],onResponse:[{type:core.Output}],sendInfoWindow:[{type:core.Output}]},AgmDirection}()),AgmDirectionModule=function(){function AgmDirectionModule(){}return AgmDirectionModule.forRoot=function(){return{ngModule:AgmDirectionModule}},AgmDirectionModule.decorators=[{type:core.NgModule,args:[{imports:[],declarations:[AgmDirection],exports:[AgmDirection]}]}],AgmDirectionModule}();exports.AgmDirectionModule=AgmDirectionModule,exports.ɵa=AgmDirection,Object.defineProperty(exports,"__esModule",{value:!0})});