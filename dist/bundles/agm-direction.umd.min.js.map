{"version":3,"sources":["agm-direction.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","angularLibraryStarter","core","rxjs","operators","common","this","GoogleMapsScriptProtocol","MapsAPILoader","decorators","type","Injectable","GoogleMapsAPIWrapper","_loader","_zone","_this","_map","Promise","resolve","_mapResolver","prototype","createMap","el","mapOptions","runOutsideAngular","load","then","map","google","maps","Map","setMapOptions","options","m","setOptions","createMarker","addToMap","Marker","createInfoWindow","InfoWindow","createCircle","Circle","createRectangle","Rectangle","createPolyline","getNativeMap","line","Polyline","setMap","createPolygon","polygon","Polygon","createDataLayer","data","Data","containsLocation","latLng","geometry","poly","subscribeToMapEvent","eventName","Observable","observer","addListener","arg","run","next","clearInstanceListeners","event","setCenter","getZoom","getBounds","getMapTypeId","setZoom","zoom","getCenter","panTo","panBy","x","y","fitBounds","panToBounds","triggerMapEvent","trigger","ctorParameters","NgZone","MarkerManager","_mapsWrapper","_markers","deleteMarker","marker","get","delete","updateMarkerPosition","setPosition","lat","latitude","lng","longitude","updateTitle","setTitle","title","updateLabel","setLabel","label","updateDraggable","setDraggable","draggable","updateIcon","setIcon","iconUrl","updateOpacity","setOpacity","opacity","updateVisible","setVisible","visible","updateZIndex","setZIndex","zIndex","updateClickable","setClickable","clickable","updateAnimation","animation","setAnimation","Animation","addMarker","markerPromise","position","icon","set","getNativeMarker","createEventObservable","e","InfoWindowManager","_markerManager","_infoWindows","deleteInfoWindow","infoWindow","iWindow","i","close","open","w","hostMarker","addInfoWindow","content","maxWidth","disableAutoPan","infoWindowPromise","FitBoundsAccessor","infoWindowId","AgmInfoWindow","_infoWindowManager","_el","isOpen","infoWindowClose","EventEmitter","_infoWindowAddedToManager","_id","toString","ngOnInit","nativeElement","querySelector","_updateOpenState","_registerEventListeners","ngOnChanges","changes","_setInfoWindowOptions","subscribe","emit","Object","keys","filter","k","_infoWindowOptionsInputs","indexOf","forEach","currentValue","id","ngOnDestroy","Component","args","selector","template","ElementRef","propDecorators","Input","Output","markerId","WindowRef","AgmMarker","openInfoWindow","markerClick","markerRightClick","dragEnd","mouseOver","mouseOut","QueryList","_markerAddedToManger","_observableSubscriptions","_fitBoundsDetails$","ReplaySubject","ngAfterContentInit","handleInfoWindowUpdate","length","Error","Number","_updateFitBoundsDetails","_addEventListeners","getFitBoundsDetails$","asObservable","cs","push","rc","ds","coords","mover","mout","s","unsubscribe","Directive","providers","provide","useExisting","forwardRef","inputs","outputs","ContentChildren","getNativeWindow","window","DocumentRef","getNativeDocument","document","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","LAZY_MAPS_API_CONFIG","InjectionToken","_super","LazyMapsAPILoader","config","call","_SCRIPT_ID","callbackName","_config","_windowRef","_documentRef","_scriptLoadingPromise","scriptOnPage","getElementById","_assignScriptLoadingPromise","script","createElement","async","defer","src","_getScriptSrc","body","appendChild","scriptElem","reject","onerror","error","protocol","HTTPS","AUTO","HTTP","hostAndPath","queryParams","v","apiVersion","callback","key","apiKey","client","clientId","channel","libraries","region","language","isArray","value","join","entry","undefined","Optional","Inject","__extends$1","__assign","assign","t","n","arguments","__read","o","Symbol","iterator","r","ar","done","__spread","concat","_DOM","getDOM","nodeContains","GenericBrowserDomAdapter","_animationPrefix","_transitionEnd","element_1","getStyle","domPrefixes","toLowerCase","transEndEventNames_1","WebkitTransition","MozTransition","OTransition","transition","getDistributedNodes","resolveAndSetHref","baseUrl","href","supportsDOMEvents","supportsNativeShadowDOM","createShadowRoot","getAnimationPrefix","getTransitionEnd","supportsAnimation","DomAdapter","resourceLoaderType","defineProperty","_attrToPropMap","enumerable","configurable","class","innerHtml","readonly","tabindex","_keyMap","\b","\t","","\u001b","Del","Esc","Left","Right","Up","Down","Menu","Scroll","Win","_chromeNumKeyPadMap","A","B","C","D","E","F","G","H","I","J","K","M","N","O","`","","ɵglobal","contains","node","compareDocumentPosition","urlParsingNode","BrowserDomAdapter","apply","parse","templateHtml","makeCurrent","adapter","hasProperty","element","name","setProperty","getProperty","invoke","methodName","_a","logError","console","log","logGroup","group","logGroupEnd","groupEnd","nodeA","nodeB","querySelectorAll","on","evt","listener","addEventListener","onAndCancel","removeEventListener","dispatchEvent","createMouseEvent","eventType","getDefaultDocument","createEvent","initEvent","preventDefault","returnValue","isPrevented","defaultPrevented","getInnerHTML","innerHTML","getTemplateContent","isTemplateElement","getOuterHTML","outerHTML","nodeName","nodeValue","firstChild","nextSibling","parentElement","parentNode","childNodes","childNodesAsList","res","clearNodes","removeChild","replaceChild","newChild","oldChild","remove","insertBefore","parent","ref","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","textContent","setText","getValue","setValue","getChecked","checked","setChecked","createComment","text","createTemplate","html","tagName","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","setAttribute","createStyleElement","css","style","getShadowRoot","shadowRoot","getHost","host","clone","cloneNode","getElementsByClassName","getElementsByTagName","classList","slice","addClass","className","add","removeClass","hasClass","setStyle","styleName","styleValue","removeStyle","stylename","hasStyle","attributeMap","elAttrs","attributes","attrib","item","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttribute","removeAttributeNS","templateAwareRoot","createHtmlDocument","implementation","createHTMLDocument","getBoundingClientRect","top","bottom","left","right","width","height","getTitle","newTitle","elementMatches","isElementNode","matches","msMatchesSelector","webkitMatchesSelector","isTextNode","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","ELEMENT_NODE","hasShadowRoot","HTMLElement","isShadowRoot","DocumentFragment","importIntoDoc","importNode","adoptNode","getHref","getEventKey","keyIdentifier","startsWith","String","fromCharCode","parseInt","substring","location","getGlobalEventTarget","target","getHistory","history","getLocation","getBaseHref","baseElement","getBaseElementHref","url","pathname","charAt","relativePath","resetBaseElement","getUserAgent","navigator","userAgent","setData","getData","getComputedStyle","supportsWebAnimation","Element","performanceNow","performance","now","Date","getTime","supportsCookies","getCookie","ɵparseCookieValue","cookie","setCookie","encodeURIComponent","DOCUMENT$1","DOCUMENT","supportsState","pushState","BrowserPlatformLocation","_doc","_init","_history","getBaseHrefFromDOM","onPopState","fn","onHashChange","newPath","search","hash","state","replaceState","forward","back","PlatformLocation","BrowserGetTestability","init","setTestabilityGetter","addToWindow","registry","elem","findInAncestors","testability","findTestabilityInTree","getAllTestabilities","getAllRootElements","testabilities","count","didWork","decrement","didWork_","whenStable","getTestability","exportNgVar","COMPILED","CORE_TOKENS","ApplicationRef","INSPECT_GLOBAL_NAME","CORE_TOKENS_GLOBAL_NAME","inspectNativeElement","getDebugNode","APP_INITIALIZER","NgProbeToken","EventManagerPlugin","addGlobalEventListener","handler","NAMESPACE_URIS","DomSharedStylesHost","_hostNodes","Set","_styleNodes","head","_addStylesToHost","styles","styleEl","addHost","hostNode","_stylesSet","removeHost","onStylesAdded","additions","styleNode","SharedStylesHost","addStyles","has","getAllStyles","from","svg","xhtml","xlink","xml","xmlns","COMPONENT_REGEX","HOST_ATTR","CONTENT_ATTR","flattenStyles","compId","replace","decoratePreventDefault","eventHandler","DefaultDomRenderer2","eventManager","destroy","namespace","createText","refChild","selectRootElement","selectorOrNode","namespaceUri","flags","RendererStyleFlags2","DashCase","Important","removeProperty","checkNoSyntheticProp","listen","AT_CHARCODE","charCodeAt","nameKind","EmulatedEncapsulationDomRenderer2","sharedStylesHost","component","componentShortId","contentAttr","hostAttr","shimHostAttribute","applyToHost","ShadowDomRenderer","hostEl","nodeOrShadowRoot","blackListedMap","__symbol__","Zone","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","symbolNames","stopSymbol","blackListedEvents","isBlackListedEvent","globalListener","symbolName","taskDatas","taskData","zone","current","copiedTasks","EVENT_NAMES","DomEventsPlugin","ngZone","patchEvent","Event","delegate","stopImmediatePropagation","supports","zoneJsLoaded","isInAngularZone","globalListenerRegistered","root","callbackRegistered","underlyingRemove","found","splice","pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown","pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout","press","pressup","rotate","rotatestart","rotatemove","rotateend","rotatecancel","swipe","swipeleft","swiperight","swipeup","swipedown","tap","HAMMER_GESTURE_CONFIG","HammerGestureConfig","events","overrides","buildHammer","mc","Hammer","enable","MODIFIER_KEYS","HammerGesturesPlugin","isCustomEvent","warn","manager","getZone","eventObj","runGuarded","off","ɵConsole","MODIFIER_KEY_GETTERS","alt","altKey","control","ctrlKey","meta","metaKey","shift","shiftKey","SafeValueImpl","KeyEventsPlugin","parseEventName","parsedEvent","outsideHandler","eventCallback","parts","split","domEventName","_normalizeKey","pop","fullKey","modifierName","index","result","getEventFullKey","modifierGetter","keyName","DomSanitizerImpl","sanitize","ctx","SecurityContext","NONE","HTML","SafeHtmlImpl","changingThisBreaksApplicationSecurity","checkNotSafeValue","ɵ_sanitizeHtml","STYLE","SafeStyleImpl","ɵ_sanitizeStyle","SCRIPT","SafeScriptImpl","URL","SafeResourceUrlImpl","SafeUrlImpl","ɵ_sanitizeUrl","RESOURCE_URL","expectedType","getTypeName","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","INTERNAL_BROWSER_PLATFORM_PROVIDERS","PLATFORM_ID","useValue","ɵPLATFORM_BROWSER_ID","PLATFORM_INITIALIZER","multi","useClass","deps","useFactory","createPlatformFactory","platformCore","RequestMethod","ReadyState","ResponseType","ContentType","ResponseContentType","Version","Headers","headers","_headers","_normalizedNames","values","append","fromResponseHeaderString","headersString","name_1","trim","getAll","lcName","mayBeSetNormalizedName","toJSON","serialized","entries","ResponseOptions","opts","status","statusText","merge","ConnectionBackend","BaseResponseOptions","Default","normalizeMethodName","method","toUpperCase","Get","Post","Put","Delete","Options","Head","Patch","QueryEncoder","encodeKey","standardEncoding","encodeValue","URLSearchParams","rawParams","queryEncoder","paramsMap","param","eqIdx","val","list","paramParser","appendAll","storedParam","setAll","searchParams","replaceAll","paramsList","Body","json","_body","JSON","ArrayBuffer","encodingHint","Uint16Array","Uint8Array","stringify","arrayBuffer","input","view","strLen","buffer","stringToArrayBuffer","blob","Blob","Response","responseOptions","ok","_nextRequestId","JSONP_HOME","_jsonpConnections","_getJsonpConnections","BrowserJsonp","build","nextRequestID","requestCallback","exposeConnection","connection","removeConnection","send","cleanup","JSONP_ERR_NO_CALLBACK","JSONP_ERR_WRONG_METHOD","JSONPConnection","req","_dom","baseResponseOptions","_finished","TypeError","request","response","responseObserver","readyState","Loading","lastIndexOf","_script","onLoad","Cancelled","Done","responseOptions_1","_responseData","complete","onError","message","finished","RequestOptions","JSONPBackend","_browserJSONP","_baseResponseOptions","createConnection","params","withCredentials","responseType","_mergeSearchParams","_parseParams","objParams","_appendParam","Request","BaseRequestOptions","requestOptions","paramsArg","urlEncodeParams","prefix","contentType","detectContentType","FORM","FORM_DATA","TEXT","ArrayBuffer$1","ARRAY_BUFFER","BLOB","detectContentTypeFromBody","FormData","Blob$1","getBody","noop","httpRequest","backend","mergeOptions","defaultOpts","providedOpts","newOptions","Http","_backend","_defaultOptions","responseObservable","post","put","patch","AgmDirection","Jsonp","defaultOptions","gmapsApi","http","travelMode","transitOptions","drivingOptions","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","onChange","onResponse","sendInfoWindow","directionsService","directionsDisplay","waypointsMarker","isFirstChange","directionDraw","obj","renderOptions","firstChange","originMarker","destinationMarker","setPanel","DirectionsRenderer","getDirections","DirectionsService","panel","requestObj","origin","destination","h","Math","imul","hashCode","renderRoute","setDirections","cacheResponse","route","saveRes","markerOptions","clearListeners","err","_route_1","routes","legs","start_location","setMarker","start_address","end_location","end_address","waypoint","via_waypoints","_route_2","markerOpts","infowindoContent","setContent","AgmDirectionModule","forRoot","ngModule","NgModule","imports","declarations","ɵa"],"mappings":"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","file":"agm-direction.umd.min.js.map","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('rxjs/operators'), require('@angular/common')) :\n    typeof define === 'function' && define.amd ? define('agm-direction', ['exports', '@angular/core', 'rxjs', 'rxjs/operators', '@angular/common'], factory) :\n    (factory((global.ng = global.ng || {}, global.ng.angularLibraryStarter = {}),global.ng.core,global.rxjs,global.rxjs.operators,global.ng.common));\n}(this, (function (exports,core,rxjs,operators,common) { 'use strict';\n\n    var MapsAPILoader = /** @class */ (function () {\n        function MapsAPILoader() {\n        }\n        MapsAPILoader.decorators = [\n            { type: core.Injectable },\n        ];\n        return MapsAPILoader;\n    }());\n\n    /**\n     * Wrapper class that handles the communication with the Google Maps Javascript\n     * API v3\n     */\n    var GoogleMapsAPIWrapper = /** @class */ (function () {\n        function GoogleMapsAPIWrapper(_loader, _zone) {\n            var _this = this;\n            this._loader = _loader;\n            this._zone = _zone;\n            this._map =\n                new Promise(function (resolve) { _this._mapResolver = resolve; });\n        }\n        GoogleMapsAPIWrapper.prototype.createMap = function (el, mapOptions) {\n            var _this = this;\n            return this._zone.runOutsideAngular(function () {\n                return _this._loader.load().then(function () {\n                    var map = new google.maps.Map(el, mapOptions);\n                    _this._mapResolver(map);\n                    return;\n                });\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.setMapOptions = function (options) {\n            this._map.then(function (m) { m.setOptions(options); });\n        };\n        /**\n         * Creates a google map marker with the map context\n         */\n        /**\n           * Creates a google map marker with the map context\n           */\n        GoogleMapsAPIWrapper.prototype.createMarker = /**\n           * Creates a google map marker with the map context\n           */\n        function (options, addToMap) {\n            if (options === void 0) { options = {}; }\n            if (addToMap === void 0) { addToMap = true; }\n            return this._map.then(function (map) {\n                if (addToMap) {\n                    options.map = map;\n                }\n                return new google.maps.Marker(options);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createInfoWindow = function (options) {\n            return this._map.then(function () { return new google.maps.InfoWindow(options); });\n        };\n        /**\n         * Creates a google.map.Circle for the current map.\n         */\n        /**\n           * Creates a google.map.Circle for the current map.\n           */\n        GoogleMapsAPIWrapper.prototype.createCircle = /**\n           * Creates a google.map.Circle for the current map.\n           */\n        function (options) {\n            return this._map.then(function (map) {\n                options.map = map;\n                return new google.maps.Circle(options);\n            });\n        };\n        /**\n         * Creates a google.map.Rectangle for the current map.\n         */\n        /**\n           * Creates a google.map.Rectangle for the current map.\n           */\n        GoogleMapsAPIWrapper.prototype.createRectangle = /**\n           * Creates a google.map.Rectangle for the current map.\n           */\n        function (options) {\n            return this._map.then(function (map) {\n                options.map = map;\n                return new google.maps.Rectangle(options);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createPolyline = function (options) {\n            return this.getNativeMap().then(function (map) {\n                var line = new google.maps.Polyline(options);\n                line.setMap(map);\n                return line;\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createPolygon = function (options) {\n            return this.getNativeMap().then(function (map) {\n                var polygon = new google.maps.Polygon(options);\n                polygon.setMap(map);\n                return polygon;\n            });\n        };\n        /**\n         * Creates a new google.map.Data layer for the current map\n         */\n        /**\n           * Creates a new google.map.Data layer for the current map\n           */\n        GoogleMapsAPIWrapper.prototype.createDataLayer = /**\n           * Creates a new google.map.Data layer for the current map\n           */\n        function (options) {\n            return this._map.then(function (m) {\n                var data = new google.maps.Data(options);\n                data.setMap(m);\n                return data;\n            });\n        };\n        /**\n         * Determines if given coordinates are insite a Polygon path.\n         */\n        /**\n           * Determines if given coordinates are insite a Polygon path.\n           */\n        GoogleMapsAPIWrapper.prototype.containsLocation = /**\n           * Determines if given coordinates are insite a Polygon path.\n           */\n        function (latLng, polygon) {\n            return google.maps.geometry.poly.containsLocation(latLng, polygon);\n        };\n        GoogleMapsAPIWrapper.prototype.subscribeToMapEvent = function (eventName) {\n            var _this = this;\n            return new rxjs.Observable(function (observer) {\n                _this._map.then(function (m) {\n                    m.addListener(eventName, function (arg) { _this._zone.run(function () { return observer.next(arg); }); });\n                });\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.clearInstanceListeners = function () {\n            this._map.then(function (map) {\n                google.maps.event.clearInstanceListeners(map);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.setCenter = function (latLng) {\n            return this._map.then(function (map) { return map.setCenter(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.getZoom = function () { return this._map.then(function (map) { return map.getZoom(); }); };\n        GoogleMapsAPIWrapper.prototype.getBounds = function () {\n            return this._map.then(function (map) { return map.getBounds(); });\n        };\n        GoogleMapsAPIWrapper.prototype.getMapTypeId = function () {\n            return this._map.then(function (map) { return map.getMapTypeId(); });\n        };\n        GoogleMapsAPIWrapper.prototype.setZoom = function (zoom) {\n            return this._map.then(function (map) { return map.setZoom(zoom); });\n        };\n        GoogleMapsAPIWrapper.prototype.getCenter = function () {\n            return this._map.then(function (map) { return map.getCenter(); });\n        };\n        GoogleMapsAPIWrapper.prototype.panTo = function (latLng) {\n            return this._map.then(function (map) { return map.panTo(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.panBy = function (x, y) {\n            return this._map.then(function (map) { return map.panBy(x, y); });\n        };\n        GoogleMapsAPIWrapper.prototype.fitBounds = function (latLng) {\n            return this._map.then(function (map) { return map.fitBounds(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.panToBounds = function (latLng) {\n            return this._map.then(function (map) { return map.panToBounds(latLng); });\n        };\n        /**\n         * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n         */\n        /**\n           * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n           */\n        GoogleMapsAPIWrapper.prototype.getNativeMap = /**\n           * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n           */\n        function () { return this._map; };\n        /**\n         * Triggers the given event name on the map instance.\n         */\n        /**\n           * Triggers the given event name on the map instance.\n           */\n        GoogleMapsAPIWrapper.prototype.triggerMapEvent = /**\n           * Triggers the given event name on the map instance.\n           */\n        function (eventName) {\n            return this._map.then(function (m) { return google.maps.event.trigger(m, eventName); });\n        };\n        GoogleMapsAPIWrapper.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        GoogleMapsAPIWrapper.ctorParameters = function () { return [\n            { type: MapsAPILoader, },\n            { type: core.NgZone, },\n        ]; };\n        return GoogleMapsAPIWrapper;\n    }());\n\n    var MarkerManager = /** @class */ (function () {\n        function MarkerManager(_mapsWrapper, _zone) {\n            this._mapsWrapper = _mapsWrapper;\n            this._zone = _zone;\n            this._markers = new Map();\n        }\n        MarkerManager.prototype.deleteMarker = function (marker) {\n            var _this = this;\n            var m = this._markers.get(marker);\n            if (m == null) {\n                // marker already deleted\n                return Promise.resolve();\n            }\n            return m.then(function (m) {\n                return _this._zone.run(function () {\n                    m.setMap(null);\n                    _this._markers.delete(marker);\n                });\n            });\n        };\n        MarkerManager.prototype.updateMarkerPosition = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setPosition({ lat: marker.latitude, lng: marker.longitude }); });\n        };\n        MarkerManager.prototype.updateTitle = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setTitle(marker.title); });\n        };\n        MarkerManager.prototype.updateLabel = function (marker) {\n            return this._markers.get(marker).then(function (m) { m.setLabel(marker.label); });\n        };\n        MarkerManager.prototype.updateDraggable = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setDraggable(marker.draggable); });\n        };\n        MarkerManager.prototype.updateIcon = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setIcon(marker.iconUrl); });\n        };\n        MarkerManager.prototype.updateOpacity = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setOpacity(marker.opacity); });\n        };\n        MarkerManager.prototype.updateVisible = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setVisible(marker.visible); });\n        };\n        MarkerManager.prototype.updateZIndex = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setZIndex(marker.zIndex); });\n        };\n        MarkerManager.prototype.updateClickable = function (marker) {\n            return this._markers.get(marker).then(function (m) { return m.setClickable(marker.clickable); });\n        };\n        MarkerManager.prototype.updateAnimation = function (marker) {\n            return this._markers.get(marker).then(function (m) {\n                if (typeof marker.animation === 'string') {\n                    m.setAnimation(google.maps.Animation[marker.animation]);\n                }\n                else {\n                    m.setAnimation(marker.animation);\n                }\n            });\n        };\n        MarkerManager.prototype.addMarker = function (marker) {\n            var markerPromise = this._mapsWrapper.createMarker({\n                position: { lat: marker.latitude, lng: marker.longitude },\n                label: marker.label,\n                draggable: marker.draggable,\n                icon: marker.iconUrl,\n                opacity: marker.opacity,\n                visible: marker.visible,\n                zIndex: marker.zIndex,\n                title: marker.title,\n                clickable: marker.clickable,\n                animation: (typeof marker.animation === 'string') ? google.maps.Animation[marker.animation] : marker.animation\n            });\n            this._markers.set(marker, markerPromise);\n        };\n        MarkerManager.prototype.getNativeMarker = function (marker) {\n            return this._markers.get(marker);\n        };\n        MarkerManager.prototype.createEventObservable = function (eventName, marker) {\n            var _this = this;\n            return new rxjs.Observable(function (observer) {\n                _this._markers.get(marker).then(function (m) {\n                    m.addListener(eventName, function (e) { return _this._zone.run(function () { return observer.next(e); }); });\n                });\n            });\n        };\n        MarkerManager.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        MarkerManager.ctorParameters = function () { return [\n            { type: GoogleMapsAPIWrapper, },\n            { type: core.NgZone, },\n        ]; };\n        return MarkerManager;\n    }());\n\n    var InfoWindowManager = /** @class */ (function () {\n        function InfoWindowManager(_mapsWrapper, _zone, _markerManager) {\n            this._mapsWrapper = _mapsWrapper;\n            this._zone = _zone;\n            this._markerManager = _markerManager;\n            this._infoWindows = new Map();\n        }\n        InfoWindowManager.prototype.deleteInfoWindow = function (infoWindow) {\n            var _this = this;\n            var iWindow = this._infoWindows.get(infoWindow);\n            if (iWindow == null) {\n                // info window already deleted\n                return Promise.resolve();\n            }\n            return iWindow.then(function (i) {\n                return _this._zone.run(function () {\n                    i.close();\n                    _this._infoWindows.delete(infoWindow);\n                });\n            });\n        };\n        InfoWindowManager.prototype.setPosition = function (infoWindow) {\n            return this._infoWindows.get(infoWindow).then(function (i) {\n                return i.setPosition({\n                    lat: infoWindow.latitude,\n                    lng: infoWindow.longitude\n                });\n            });\n        };\n        InfoWindowManager.prototype.setZIndex = function (infoWindow) {\n            return this._infoWindows.get(infoWindow)\n                .then(function (i) { return i.setZIndex(infoWindow.zIndex); });\n        };\n        InfoWindowManager.prototype.open = function (infoWindow) {\n            var _this = this;\n            return this._infoWindows.get(infoWindow).then(function (w) {\n                if (infoWindow.hostMarker != null) {\n                    return _this._markerManager.getNativeMarker(infoWindow.hostMarker).then(function (marker) {\n                        return _this._mapsWrapper.getNativeMap().then(function (map) { return w.open(map, marker); });\n                    });\n                }\n                return _this._mapsWrapper.getNativeMap().then(function (map) { return w.open(map); });\n            });\n        };\n        InfoWindowManager.prototype.close = function (infoWindow) {\n            return this._infoWindows.get(infoWindow).then(function (w) { return w.close(); });\n        };\n        InfoWindowManager.prototype.setOptions = function (infoWindow, options) {\n            return this._infoWindows.get(infoWindow).then(function (i) { return i.setOptions(options); });\n        };\n        InfoWindowManager.prototype.addInfoWindow = function (infoWindow) {\n            var options = {\n                content: infoWindow.content,\n                maxWidth: infoWindow.maxWidth,\n                zIndex: infoWindow.zIndex,\n                disableAutoPan: infoWindow.disableAutoPan\n            };\n            if (typeof infoWindow.latitude === 'number' && typeof infoWindow.longitude === 'number') {\n                options.position = { lat: infoWindow.latitude, lng: infoWindow.longitude };\n            }\n            var infoWindowPromise = this._mapsWrapper.createInfoWindow(options);\n            this._infoWindows.set(infoWindow, infoWindowPromise);\n        };\n        /**\n         * Creates a Google Maps event listener for the given InfoWindow as an Observable\n         */\n        /**\n            * Creates a Google Maps event listener for the given InfoWindow as an Observable\n            */\n        InfoWindowManager.prototype.createEventObservable = /**\n            * Creates a Google Maps event listener for the given InfoWindow as an Observable\n            */\n        function (eventName, infoWindow) {\n            var _this = this;\n            return new rxjs.Observable(function (observer) {\n                _this._infoWindows.get(infoWindow).then(function (i) {\n                    i.addListener(eventName, function (e) { return _this._zone.run(function () { return observer.next(e); }); });\n                });\n            });\n        };\n        InfoWindowManager.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        InfoWindowManager.ctorParameters = function () { return [\n            { type: GoogleMapsAPIWrapper, },\n            { type: core.NgZone, },\n            { type: MarkerManager, },\n        ]; };\n        return InfoWindowManager;\n    }());\n\n    /**\n     * Class to implement when you what to be able to make it work with the auto fit bounds feature\n     * of AGM.\n     */\n    var /**\n     * Class to implement when you what to be able to make it work with the auto fit bounds feature\n     * of AGM.\n     */\n    FitBoundsAccessor = /** @class */ (function () {\n        function FitBoundsAccessor() {\n        }\n        return FitBoundsAccessor;\n    }());\n\n    var infoWindowId = 0;\n    /**\n     * AgmInfoWindow renders a info window inside a {@link AgmMarker} or standalone.\n     *\n     * ### Example\n     * ```typescript\n     * import { Component } from '@angular/core';\n     *\n     * @Component({\n     *  selector: 'my-map-cmp',\n     *  styles: [`\n     *    .agm-map-container {\n     *      height: 300px;\n     *    }\n     * `],\n     *  template: `\n     *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n     *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n     *        <agm-info-window [disableAutoPan]=\"true\">\n     *          Hi, this is the content of the <strong>info window</strong>\n     *        </agm-info-window>\n     *      </agm-marker>\n     *    </agm-map>\n     *  `\n     * })\n     * ```\n     */\n    var AgmInfoWindow = /** @class */ (function () {\n        function AgmInfoWindow(_infoWindowManager, _el) {\n            this._infoWindowManager = _infoWindowManager;\n            this._el = _el;\n            /**\n               * Sets the open state for the InfoWindow. You can also call the open() and close() methods.\n               */\n            this.isOpen = false;\n            /**\n               * Emits an event when the info window is closed.\n               */\n            this.infoWindowClose = new core.EventEmitter();\n            this._infoWindowAddedToManager = false;\n            this._id = (infoWindowId++).toString();\n        }\n        AgmInfoWindow.prototype.ngOnInit = function () {\n            this.content = this._el.nativeElement.querySelector('.agm-info-window-content');\n            this._infoWindowManager.addInfoWindow(this);\n            this._infoWindowAddedToManager = true;\n            this._updateOpenState();\n            this._registerEventListeners();\n        };\n        /** @internal */\n        /** @internal */\n        AgmInfoWindow.prototype.ngOnChanges = /** @internal */\n        function (changes) {\n            if (!this._infoWindowAddedToManager) {\n                return;\n            }\n            if ((changes['latitude'] || changes['longitude']) && typeof this.latitude === 'number' &&\n                typeof this.longitude === 'number') {\n                this._infoWindowManager.setPosition(this);\n            }\n            if (changes['zIndex']) {\n                this._infoWindowManager.setZIndex(this);\n            }\n            if (changes['isOpen']) {\n                this._updateOpenState();\n            }\n            this._setInfoWindowOptions(changes);\n        };\n        AgmInfoWindow.prototype._registerEventListeners = function () {\n            var _this = this;\n            this._infoWindowManager.createEventObservable('closeclick', this).subscribe(function () {\n                _this.isOpen = false;\n                _this.infoWindowClose.emit();\n            });\n        };\n        AgmInfoWindow.prototype._updateOpenState = function () {\n            this.isOpen ? this.open() : this.close();\n        };\n        AgmInfoWindow.prototype._setInfoWindowOptions = function (changes) {\n            var options = {};\n            var optionKeys = Object.keys(changes).filter(function (k) { return AgmInfoWindow._infoWindowOptionsInputs.indexOf(k) !== -1; });\n            optionKeys.forEach(function (k) { options[k] = changes[k].currentValue; });\n            this._infoWindowManager.setOptions(this, options);\n        };\n        /**\n         * Opens the info window.\n         */\n        /**\n           * Opens the info window.\n           */\n        AgmInfoWindow.prototype.open = /**\n           * Opens the info window.\n           */\n        function () { return this._infoWindowManager.open(this); };\n        /**\n         * Closes the info window.\n         */\n        /**\n           * Closes the info window.\n           */\n        AgmInfoWindow.prototype.close = /**\n           * Closes the info window.\n           */\n        function () {\n            var _this = this;\n            return this._infoWindowManager.close(this).then(function () { _this.infoWindowClose.emit(); });\n        };\n        /** @internal */\n        /** @internal */\n        AgmInfoWindow.prototype.id = /** @internal */\n        function () { return this._id; };\n        /** @internal */\n        /** @internal */\n        AgmInfoWindow.prototype.toString = /** @internal */\n        function () { return 'AgmInfoWindow-' + this._id.toString(); };\n        /** @internal */\n        /** @internal */\n        AgmInfoWindow.prototype.ngOnDestroy = /** @internal */\n        function () { this._infoWindowManager.deleteInfoWindow(this); };\n        AgmInfoWindow._infoWindowOptionsInputs = ['disableAutoPan', 'maxWidth'];\n        AgmInfoWindow.decorators = [\n            { type: core.Component, args: [{\n                        selector: 'agm-info-window',\n                        template: \"<div class='agm-info-window-content'>\\n      <ng-content></ng-content>\\n    </div>\\n  \"\n                    },] },\n        ];\n        /** @nocollapse */\n        AgmInfoWindow.ctorParameters = function () { return [\n            { type: InfoWindowManager, },\n            { type: core.ElementRef, },\n        ]; };\n        AgmInfoWindow.propDecorators = {\n            \"latitude\": [{ type: core.Input },],\n            \"longitude\": [{ type: core.Input },],\n            \"disableAutoPan\": [{ type: core.Input },],\n            \"zIndex\": [{ type: core.Input },],\n            \"maxWidth\": [{ type: core.Input },],\n            \"isOpen\": [{ type: core.Input },],\n            \"infoWindowClose\": [{ type: core.Output },],\n        };\n        return AgmInfoWindow;\n    }());\n\n    var markerId = 0;\n    /**\n     * AgmMarker renders a map marker inside a {@link AgmMap}.\n     *\n     * ### Example\n     * ```typescript\n     * import { Component } from '@angular/core';\n     *\n     * @Component({\n     *  selector: 'my-map-cmp',\n     *  styles: [`\n     *    .agm-map-container {\n     *      height: 300px;\n     *    }\n     * `],\n     *  template: `\n     *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n     *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n     *      </agm-marker>\n     *    </agm-map>\n     *  `\n     * })\n     * ```\n     */\n    var AgmMarker = /** @class */ (function () {\n        function AgmMarker(_markerManager) {\n            this._markerManager = _markerManager;\n            /**\n               * If true, the marker can be dragged. Default value is false.\n               */\n            // tslint:disable-next-line:no-input-rename\n            this.draggable = false;\n            /**\n               * If true, the marker is visible\n               */\n            this.visible = true;\n            /**\n               * Whether to automatically open the child info window when the marker is clicked.\n               */\n            this.openInfoWindow = true;\n            /**\n               * The marker's opacity between 0.0 and 1.0.\n               */\n            this.opacity = 1;\n            /**\n               * All markers are displayed on the map in order of their zIndex, with higher values displaying in\n               * front of markers with lower values. By default, markers are displayed according to their\n               * vertical position on screen, with lower markers appearing in front of markers further up the\n               * screen.\n               */\n            this.zIndex = 1;\n            /**\n               * If true, the marker can be clicked. Default value is true.\n               */\n            // tslint:disable-next-line:no-input-rename\n            this.clickable = true;\n            /**\n               * This event emitter gets emitted when the user clicks on the marker.\n               */\n            this.markerClick = new core.EventEmitter();\n            /**\n               * This event is fired when the user rightclicks on the marker.\n               */\n            this.markerRightClick = new core.EventEmitter();\n            /**\n               * This event is fired when the user stops dragging the marker.\n               */\n            this.dragEnd = new core.EventEmitter();\n            /**\n               * This event is fired when the user mouses over the marker.\n               */\n            this.mouseOver = new core.EventEmitter();\n            /**\n               * This event is fired when the user mouses outside the marker.\n               */\n            this.mouseOut = new core.EventEmitter();\n            /**\n               * @internal\n               */\n            this.infoWindow = new core.QueryList();\n            this._markerAddedToManger = false;\n            this._observableSubscriptions = [];\n            this._fitBoundsDetails$ = new rxjs.ReplaySubject(1);\n            this._id = (markerId++).toString();\n        }\n        /* @internal */\n        /* @internal */\n        AgmMarker.prototype.ngAfterContentInit = /* @internal */\n        function () {\n            var _this = this;\n            this.handleInfoWindowUpdate();\n            this.infoWindow.changes.subscribe(function () { return _this.handleInfoWindowUpdate(); });\n        };\n        AgmMarker.prototype.handleInfoWindowUpdate = function () {\n            var _this = this;\n            if (this.infoWindow.length > 1) {\n                throw new Error('Expected no more than one info window.');\n            }\n            this.infoWindow.forEach(function (marker) {\n                marker.hostMarker = _this;\n            });\n        };\n        /** @internal */\n        /** @internal */\n        AgmMarker.prototype.ngOnChanges = /** @internal */\n        function (changes) {\n            if (typeof this.latitude === 'string') {\n                this.latitude = Number(this.latitude);\n            }\n            if (typeof this.longitude === 'string') {\n                this.longitude = Number(this.longitude);\n            }\n            if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n                return;\n            }\n            if (!this._markerAddedToManger) {\n                this._markerManager.addMarker(this);\n                this._updateFitBoundsDetails();\n                this._markerAddedToManger = true;\n                this._addEventListeners();\n                return;\n            }\n            if (changes['latitude'] || changes['longitude']) {\n                this._markerManager.updateMarkerPosition(this);\n                this._updateFitBoundsDetails();\n            }\n            if (changes['title']) {\n                this._markerManager.updateTitle(this);\n            }\n            if (changes['label']) {\n                this._markerManager.updateLabel(this);\n            }\n            if (changes['draggable']) {\n                this._markerManager.updateDraggable(this);\n            }\n            if (changes['iconUrl']) {\n                this._markerManager.updateIcon(this);\n            }\n            if (changes['opacity']) {\n                this._markerManager.updateOpacity(this);\n            }\n            if (changes['visible']) {\n                this._markerManager.updateVisible(this);\n            }\n            if (changes['zIndex']) {\n                this._markerManager.updateZIndex(this);\n            }\n            if (changes['clickable']) {\n                this._markerManager.updateClickable(this);\n            }\n            if (changes['animation']) {\n                this._markerManager.updateAnimation(this);\n            }\n        };\n        /**\n         * @internal\n         */\n        /**\n           * @internal\n           */\n        AgmMarker.prototype.getFitBoundsDetails$ = /**\n           * @internal\n           */\n        function () {\n            return this._fitBoundsDetails$.asObservable();\n        };\n        AgmMarker.prototype._updateFitBoundsDetails = function () {\n            this._fitBoundsDetails$.next({ latLng: { lat: this.latitude, lng: this.longitude } });\n        };\n        AgmMarker.prototype._addEventListeners = function () {\n            var _this = this;\n            var cs = this._markerManager.createEventObservable('click', this).subscribe(function () {\n                if (_this.openInfoWindow) {\n                    _this.infoWindow.forEach(function (infoWindow) { return infoWindow.open(); });\n                }\n                _this.markerClick.emit(_this);\n            });\n            this._observableSubscriptions.push(cs);\n            var rc = this._markerManager.createEventObservable('rightclick', this).subscribe(function () {\n                _this.markerRightClick.emit(null);\n            });\n            this._observableSubscriptions.push(rc);\n            var ds = this._markerManager.createEventObservable('dragend', this)\n                .subscribe(function (e) {\n                _this.dragEnd.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n            });\n            this._observableSubscriptions.push(ds);\n            var mover = this._markerManager.createEventObservable('mouseover', this)\n                .subscribe(function (e) {\n                _this.mouseOver.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n            });\n            this._observableSubscriptions.push(mover);\n            var mout = this._markerManager.createEventObservable('mouseout', this)\n                .subscribe(function (e) {\n                _this.mouseOut.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n            });\n            this._observableSubscriptions.push(mout);\n        };\n        /** @internal */\n        /** @internal */\n        AgmMarker.prototype.id = /** @internal */\n        function () { return this._id; };\n        /** @internal */\n        /** @internal */\n        AgmMarker.prototype.toString = /** @internal */\n        function () { return 'AgmMarker-' + this._id.toString(); };\n        /** @internal */\n        /** @internal */\n        AgmMarker.prototype.ngOnDestroy = /** @internal */\n        function () {\n            this._markerManager.deleteMarker(this);\n            // unsubscribe all registered observable subscriptions\n            this._observableSubscriptions.forEach(function (s) { return s.unsubscribe(); });\n        };\n        AgmMarker.decorators = [\n            { type: core.Directive, args: [{\n                        selector: 'agm-marker',\n                        providers: [\n                            { provide: FitBoundsAccessor, useExisting: core.forwardRef(function () { return AgmMarker; }) }\n                        ],\n                        inputs: [\n                            'latitude', 'longitude', 'title', 'label', 'draggable: markerDraggable', 'iconUrl',\n                            'openInfoWindow', 'opacity', 'visible', 'zIndex', 'animation'\n                        ],\n                        outputs: ['markerClick', 'dragEnd', 'mouseOver', 'mouseOut']\n                    },] },\n        ];\n        /** @nocollapse */\n        AgmMarker.ctorParameters = function () { return [\n            { type: MarkerManager, },\n        ]; };\n        AgmMarker.propDecorators = {\n            \"latitude\": [{ type: core.Input },],\n            \"longitude\": [{ type: core.Input },],\n            \"title\": [{ type: core.Input },],\n            \"label\": [{ type: core.Input },],\n            \"draggable\": [{ type: core.Input, args: ['markerDraggable',] },],\n            \"iconUrl\": [{ type: core.Input },],\n            \"visible\": [{ type: core.Input },],\n            \"openInfoWindow\": [{ type: core.Input },],\n            \"opacity\": [{ type: core.Input },],\n            \"zIndex\": [{ type: core.Input },],\n            \"clickable\": [{ type: core.Input, args: ['markerClickable',] },],\n            \"markerClick\": [{ type: core.Output },],\n            \"markerRightClick\": [{ type: core.Output },],\n            \"dragEnd\": [{ type: core.Output },],\n            \"mouseOver\": [{ type: core.Output },],\n            \"mouseOut\": [{ type: core.Output },],\n            \"infoWindow\": [{ type: core.ContentChildren, args: [AgmInfoWindow,] },],\n        };\n        return AgmMarker;\n    }());\n\n    var WindowRef = /** @class */ (function () {\n        function WindowRef() {\n        }\n        WindowRef.prototype.getNativeWindow = function () { return window; };\n        return WindowRef;\n    }());\n    var DocumentRef = /** @class */ (function () {\n        function DocumentRef() {\n        }\n        DocumentRef.prototype.getNativeDocument = function () { return document; };\n        return DocumentRef;\n    }());\n\n    var __extends = (undefined && undefined.__extends) || (function () {\n        var extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var GoogleMapsScriptProtocol;\n    (function (GoogleMapsScriptProtocol) {\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n    })(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n    /**\n     * Token for the config of the LazyMapsAPILoader. Please provide an object of type {@link\n     * LazyMapsAPILoaderConfig}.\n     */\n    var LAZY_MAPS_API_CONFIG = new core.InjectionToken('angular-google-maps LAZY_MAPS_API_CONFIG');\n    var LazyMapsAPILoader = /** @class */ (function (_super) {\n        __extends(LazyMapsAPILoader, _super);\n        function LazyMapsAPILoader(config, w, d) {\n            if (config === void 0) { config = null; }\n            var _this = _super.call(this) || this;\n            _this._SCRIPT_ID = 'agmGoogleMapsApiScript';\n            _this.callbackName = \"agmLazyMapsAPILoader\";\n            _this._config = config || {};\n            _this._windowRef = w;\n            _this._documentRef = d;\n            return _this;\n        }\n        LazyMapsAPILoader.prototype.load = function () {\n            var window = this._windowRef.getNativeWindow();\n            if (window.google && window.google.maps) {\n                // Google maps already loaded on the page.\n                return Promise.resolve();\n            }\n            if (this._scriptLoadingPromise) {\n                return this._scriptLoadingPromise;\n            }\n            // this can happen in HMR situations or Stackblitz.io editors.\n            var scriptOnPage = this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);\n            if (scriptOnPage) {\n                this._assignScriptLoadingPromise(scriptOnPage);\n                return this._scriptLoadingPromise;\n            }\n            var script = this._documentRef.getNativeDocument().createElement('script');\n            script.type = 'text/javascript';\n            script.async = true;\n            script.defer = true;\n            script.id = this._SCRIPT_ID;\n            script.src = this._getScriptSrc(this.callbackName);\n            this._assignScriptLoadingPromise(script);\n            this._documentRef.getNativeDocument().body.appendChild(script);\n            return this._scriptLoadingPromise;\n        };\n        LazyMapsAPILoader.prototype._assignScriptLoadingPromise = function (scriptElem) {\n            var _this = this;\n            this._scriptLoadingPromise = new Promise(function (resolve, reject) {\n                _this._windowRef.getNativeWindow()[_this.callbackName] = function () {\n                    resolve();\n                };\n                scriptElem.onerror = function (error) {\n                    reject(error);\n                };\n            });\n        };\n        LazyMapsAPILoader.prototype._getScriptSrc = function (callbackName) {\n            var protocolType = (this._config && this._config.protocol) || GoogleMapsScriptProtocol.HTTPS;\n            var protocol;\n            switch (protocolType) {\n                case GoogleMapsScriptProtocol.AUTO:\n                    protocol = '';\n                    break;\n                case GoogleMapsScriptProtocol.HTTP:\n                    protocol = 'http:';\n                    break;\n                case GoogleMapsScriptProtocol.HTTPS:\n                    protocol = 'https:';\n                    break;\n            }\n            var hostAndPath = this._config.hostAndPath || 'maps.googleapis.com/maps/api/js';\n            var queryParams = {\n                v: this._config.apiVersion || '3',\n                callback: callbackName,\n                key: this._config.apiKey,\n                client: this._config.clientId,\n                channel: this._config.channel,\n                libraries: this._config.libraries,\n                region: this._config.region,\n                language: this._config.language\n            };\n            var params = Object.keys(queryParams)\n                .filter(function (k) { return queryParams[k] != null; })\n                .filter(function (k) {\n                // remove empty arrays\n                return !Array.isArray(queryParams[k]) ||\n                    (Array.isArray(queryParams[k]) && queryParams[k].length > 0);\n            })\n                .map(function (k) {\n                // join arrays as comma seperated strings\n                var i = queryParams[k];\n                if (Array.isArray(i)) {\n                    return { key: k, value: i.join(',') };\n                }\n                return { key: k, value: queryParams[k] };\n            })\n                .map(function (entry) {\n                return entry.key + \"=\" + entry.value;\n            })\n                .join('&');\n            return protocol + \"//\" + hostAndPath + \"?\" + params;\n        };\n        LazyMapsAPILoader.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        LazyMapsAPILoader.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Optional }, { type: core.Inject, args: [LAZY_MAPS_API_CONFIG,] },] },\n            { type: WindowRef, },\n            { type: DocumentRef, },\n        ]; };\n        return LazyMapsAPILoader;\n    }(MapsAPILoader));\n\n    /**\n     * When using the NoOpMapsAPILoader, the Google Maps API must be added to the page via a `<script>`\n     * Tag.\n     * It's important that the Google Maps API script gets loaded first on the page.\n     */\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\n\n    /**\n     * @license Angular v6.0.0\n     * (c) 2010-2018 Google, Inc. https://angular.io/\n     * License: MIT\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _DOM = (null);\n    function getDOM() {\n        return _DOM;\n    }\n\n    function setRootDomAdapter(adapter) {\n        if (!_DOM) {\n            _DOM = adapter;\n        }\n    }\n    /* tslint:disable:requireParameterType */\n    /**\n     * Provides DOM operations in an environment-agnostic way.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    var DomAdapter = /** @class */ (function () {\n        function DomAdapter() {\n            this.resourceLoaderType = null;\n        }\n        Object.defineProperty(DomAdapter.prototype, \"attrToPropMap\", {\n            /**\n             * Maps attribute names to their corresponding property names for cases\n             * where attribute name doesn't match property name.\n             */\n            get: /**\n               * Maps attribute names to their corresponding property names for cases\n               * where attribute name doesn't match property name.\n               */\n            function () { return this._attrToPropMap; },\n            set: function (value) { this._attrToPropMap = value; },\n            enumerable: true,\n            configurable: true\n        });\n        return DomAdapter;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Provides DOM operations in any browser environment.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    var GenericBrowserDomAdapter = /** @class */ (function (_super) {\n        __extends$1(GenericBrowserDomAdapter, _super);\n        function GenericBrowserDomAdapter() {\n            var _this = _super.call(this) || this;\n            _this._animationPrefix = null;\n            _this._transitionEnd = null;\n            try {\n                var element_1 = _this.createElement('div', document);\n                if (_this.getStyle(element_1, 'animationName') != null) {\n                    _this._animationPrefix = '';\n                }\n                else {\n                    var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                    for (var i = 0; i < domPrefixes.length; i++) {\n                        if (_this.getStyle(element_1, domPrefixes[i] + 'AnimationName') != null) {\n                            _this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n                            break;\n                        }\n                    }\n                }\n                var transEndEventNames_1 = {\n                    WebkitTransition: 'webkitTransitionEnd',\n                    MozTransition: 'transitionend',\n                    OTransition: 'oTransitionEnd otransitionend',\n                    transition: 'transitionend'\n                };\n                Object.keys(transEndEventNames_1).forEach(function (key) {\n                    if (_this.getStyle(element_1, key) != null) {\n                        _this._transitionEnd = transEndEventNames_1[key];\n                    }\n                });\n            }\n            catch (e) {\n                _this._animationPrefix = null;\n                _this._transitionEnd = null;\n            }\n            return _this;\n        }\n        GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return el.getDistributedNodes(); };\n        GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n            el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n        };\n        GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };\n        GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {\n            return typeof document.body.createShadowRoot === 'function';\n        };\n        GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () { return this._animationPrefix ? this._animationPrefix : ''; };\n        GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return this._transitionEnd ? this._transitionEnd : ''; };\n        GenericBrowserDomAdapter.prototype.supportsAnimation = function () {\n            return this._animationPrefix != null && this._transitionEnd != null;\n        };\n        return GenericBrowserDomAdapter;\n    }(DomAdapter));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _attrToPropMap = {\n        'class': 'className',\n        'innerHtml': 'innerHTML',\n        'readonly': 'readOnly',\n        'tabindex': 'tabIndex',\n    };\n    var DOM_KEY_LOCATION_NUMPAD = 3;\n    // Map to convert some key or keyIdentifier values to what will be returned by getEventKey\n    var _keyMap = {\n        // The following values are here for cross-browser compatibility and to match the W3C standard\n        // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n        '\\b': 'Backspace',\n        '\\t': 'Tab',\n        '\\x7F': 'Delete',\n        '\\x1B': 'Escape',\n        'Del': 'Delete',\n        'Esc': 'Escape',\n        'Left': 'ArrowLeft',\n        'Right': 'ArrowRight',\n        'Up': 'ArrowUp',\n        'Down': 'ArrowDown',\n        'Menu': 'ContextMenu',\n        'Scroll': 'ScrollLock',\n        'Win': 'OS'\n    };\n    // There is a bug in Chrome for numeric keypad keys:\n    // https://code.google.com/p/chromium/issues/detail?id=155654\n    // 1, 2, 3 ... are reported as A, B, C ...\n    var _chromeNumKeyPadMap = {\n        'A': '1',\n        'B': '2',\n        'C': '3',\n        'D': '4',\n        'E': '5',\n        'F': '6',\n        'G': '7',\n        'H': '8',\n        'I': '9',\n        'J': '*',\n        'K': '+',\n        'M': '-',\n        'N': '.',\n        'O': '/',\n        '\\x60': '0',\n        '\\x90': 'NumLock'\n    };\n    var nodeContains;\n    if (core.ɵglobal['Node']) {\n        nodeContains = core.ɵglobal['Node'].prototype.contains || function (node) {\n            return !!(this.compareDocumentPosition(node) & 16);\n        };\n    }\n    /**\n     * A `DomAdapter` powered by full browser DOM APIs.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    /* tslint:disable:requireParameterType no-console */\n    var BrowserDomAdapter = /** @class */ (function (_super) {\n        __extends$1(BrowserDomAdapter, _super);\n        function BrowserDomAdapter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error('parse not implemented'); };\n        BrowserDomAdapter.makeCurrent = function () { setRootDomAdapter(new BrowserDomAdapter()); };\n        BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };\n        BrowserDomAdapter.prototype.setProperty = function (el, name, value) { el[name] = value; };\n        BrowserDomAdapter.prototype.getProperty = function (el, name) { return el[name]; };\n        BrowserDomAdapter.prototype.invoke = function (el, methodName, args) {\n            (_a = el)[methodName].apply(_a, __spread(args));\n            var _a;\n        };\n        // TODO(tbosch): move this into a separate environment class once we have it\n        // TODO(tbosch): move this into a separate environment class once we have it\n        BrowserDomAdapter.prototype.logError = \n        // TODO(tbosch): move this into a separate environment class once we have it\n        function (error) {\n            if (window.console) {\n                if (console.error) {\n                    console.error(error);\n                }\n                else {\n                    console.log(error);\n                }\n            }\n        };\n        BrowserDomAdapter.prototype.log = function (error) {\n            if (window.console) {\n                window.console.log && window.console.log(error);\n            }\n        };\n        BrowserDomAdapter.prototype.logGroup = function (error) {\n            if (window.console) {\n                window.console.group && window.console.group(error);\n            }\n        };\n        BrowserDomAdapter.prototype.logGroupEnd = function () {\n            if (window.console) {\n                window.console.groupEnd && window.console.groupEnd();\n            }\n        };\n        Object.defineProperty(BrowserDomAdapter.prototype, \"attrToPropMap\", {\n            get: function () { return _attrToPropMap; },\n            enumerable: true,\n            configurable: true\n        });\n        BrowserDomAdapter.prototype.contains = function (nodeA, nodeB) { return nodeContains.call(nodeA, nodeB); };\n        BrowserDomAdapter.prototype.querySelector = function (el, selector) { return el.querySelector(selector); };\n        BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };\n        BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };\n        BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n            el.addEventListener(evt, listener, false);\n            // Needed to follow Dart's subscription semantic, until fix of\n            // https://code.google.com/p/dart/issues/detail?id=17406\n            return function () { el.removeEventListener(evt, listener, false); };\n        };\n        BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };\n        BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {\n            var evt = this.getDefaultDocument().createEvent('MouseEvent');\n            evt.initEvent(eventType, true, true);\n            return evt;\n        };\n        BrowserDomAdapter.prototype.createEvent = function (eventType) {\n            var evt = this.getDefaultDocument().createEvent('Event');\n            evt.initEvent(eventType, true, true);\n            return evt;\n        };\n        BrowserDomAdapter.prototype.preventDefault = function (evt) {\n            evt.preventDefault();\n            evt.returnValue = false;\n        };\n        BrowserDomAdapter.prototype.isPrevented = function (evt) {\n            return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n        };\n        BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };\n        BrowserDomAdapter.prototype.getTemplateContent = function (el) {\n            return 'content' in el && this.isTemplateElement(el) ? el.content : null;\n        };\n        BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };\n        BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };\n        BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n        BrowserDomAdapter.prototype.type = function (node) { return node.type; };\n        BrowserDomAdapter.prototype.content = function (node) {\n            if (this.hasProperty(node, 'content')) {\n                return node.content;\n            }\n            else {\n                return node;\n            }\n        };\n        BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n        BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n        BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };\n        BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n        BrowserDomAdapter.prototype.childNodesAsList = function (el) {\n            var childNodes = el.childNodes;\n            var res = new Array(childNodes.length);\n            for (var i = 0; i < childNodes.length; i++) {\n                res[i] = childNodes[i];\n            }\n            return res;\n        };\n        BrowserDomAdapter.prototype.clearNodes = function (el) {\n            while (el.firstChild) {\n                el.removeChild(el.firstChild);\n            }\n        };\n        BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };\n        BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };\n        BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };\n        BrowserDomAdapter.prototype.remove = function (node) {\n            if (node.parentNode) {\n                node.parentNode.removeChild(node);\n            }\n            return node;\n        };\n        BrowserDomAdapter.prototype.insertBefore = function (parent, ref, node) { parent.insertBefore(node, ref); };\n        BrowserDomAdapter.prototype.insertAllBefore = function (parent, ref, nodes) {\n            nodes.forEach(function (n) { return parent.insertBefore(n, ref); });\n        };\n        BrowserDomAdapter.prototype.insertAfter = function (parent, ref, node) { parent.insertBefore(node, ref.nextSibling); };\n        BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };\n        BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };\n        BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };\n        BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };\n        BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n        BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };\n        BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n        BrowserDomAdapter.prototype.createComment = function (text) { return this.getDefaultDocument().createComment(text); };\n        BrowserDomAdapter.prototype.createTemplate = function (html) {\n            var t = this.getDefaultDocument().createElement('template');\n            t.innerHTML = html;\n            return t;\n        };\n        BrowserDomAdapter.prototype.createElement = function (tagName, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createElement(tagName);\n        };\n        BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createElementNS(ns, tagName);\n        };\n        BrowserDomAdapter.prototype.createTextNode = function (text, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createTextNode(text);\n        };\n        BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n            doc = doc || this.getDefaultDocument();\n            var el = doc.createElement('SCRIPT');\n            el.setAttribute(attrName, attrValue);\n            return el;\n        };\n        BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {\n            doc = doc || this.getDefaultDocument();\n            var style = doc.createElement('style');\n            this.appendChild(style, this.createTextNode(css, doc));\n            return style;\n        };\n        BrowserDomAdapter.prototype.createShadowRoot = function (el) { return el.createShadowRoot(); };\n        BrowserDomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n        BrowserDomAdapter.prototype.getHost = function (el) { return el.host; };\n        BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };\n        BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {\n            return element.getElementsByClassName(name);\n        };\n        BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {\n            return element.getElementsByTagName(name);\n        };\n        BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };\n        BrowserDomAdapter.prototype.addClass = function (element, className) { element.classList.add(className); };\n        BrowserDomAdapter.prototype.removeClass = function (element, className) { element.classList.remove(className); };\n        BrowserDomAdapter.prototype.hasClass = function (element, className) {\n            return element.classList.contains(className);\n        };\n        BrowserDomAdapter.prototype.setStyle = function (element, styleName, styleValue) {\n            element.style[styleName] = styleValue;\n        };\n        BrowserDomAdapter.prototype.removeStyle = function (element, stylename) {\n            // IE requires '' instead of null\n            // see https://github.com/angular/angular/issues/7916\n            element.style[stylename] = '';\n        };\n        BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };\n        BrowserDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n            var value = this.getStyle(element, styleName) || '';\n            return styleValue ? value == styleValue : value.length > 0;\n        };\n        BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };\n        BrowserDomAdapter.prototype.attributeMap = function (element) {\n            var res = new Map();\n            var elAttrs = element.attributes;\n            for (var i = 0; i < elAttrs.length; i++) {\n                var attrib = elAttrs.item(i);\n                res.set(attrib.name, attrib.value);\n            }\n            return res;\n        };\n        BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) {\n            return element.hasAttribute(attribute);\n        };\n        BrowserDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) {\n            return element.hasAttributeNS(ns, attribute);\n        };\n        BrowserDomAdapter.prototype.getAttribute = function (element, attribute) {\n            return element.getAttribute(attribute);\n        };\n        BrowserDomAdapter.prototype.getAttributeNS = function (element, ns, name) {\n            return element.getAttributeNS(ns, name);\n        };\n        BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };\n        BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {\n            element.setAttributeNS(ns, name, value);\n        };\n        BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };\n        BrowserDomAdapter.prototype.removeAttributeNS = function (element, ns, name) {\n            element.removeAttributeNS(ns, name);\n        };\n        BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };\n        BrowserDomAdapter.prototype.createHtmlDocument = function () {\n            return document.implementation.createHTMLDocument('fakeTitle');\n        };\n        BrowserDomAdapter.prototype.getDefaultDocument = function () { return document; };\n        BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {\n            try {\n                return el.getBoundingClientRect();\n            }\n            catch (e) {\n                return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n            }\n        };\n        BrowserDomAdapter.prototype.getTitle = function (doc) { return doc.title; };\n        BrowserDomAdapter.prototype.setTitle = function (doc, newTitle) { doc.title = newTitle || ''; };\n        BrowserDomAdapter.prototype.elementMatches = function (n, selector) {\n            if (this.isElementNode(n)) {\n                return n.matches && n.matches(selector) ||\n                    n.msMatchesSelector && n.msMatchesSelector(selector) ||\n                    n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n            }\n            return false;\n        };\n        BrowserDomAdapter.prototype.isTemplateElement = function (el) {\n            return this.isElementNode(el) && el.nodeName === 'TEMPLATE';\n        };\n        BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\n        BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };\n        BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\n        BrowserDomAdapter.prototype.hasShadowRoot = function (node) {\n            return node.shadowRoot != null && node instanceof HTMLElement;\n        };\n        BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };\n        BrowserDomAdapter.prototype.importIntoDoc = function (node) { return document.importNode(this.templateAwareRoot(node), true); };\n        BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };\n        BrowserDomAdapter.prototype.getHref = function (el) { return el.getAttribute('href'); };\n        BrowserDomAdapter.prototype.getEventKey = function (event) {\n            var key = event.key;\n            if (key == null) {\n                key = event.keyIdentifier;\n                // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n                // Safari cf\n                // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n                if (key == null) {\n                    return 'Unidentified';\n                }\n                if (key.startsWith('U+')) {\n                    key = String.fromCharCode(parseInt(key.substring(2), 16));\n                    if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                        // There is a bug in Chrome for numeric keypad keys:\n                        // https://code.google.com/p/chromium/issues/detail?id=155654\n                        // 1, 2, 3 ... are reported as A, B, C ...\n                        key = _chromeNumKeyPadMap[key];\n                    }\n                }\n            }\n            return _keyMap[key] || key;\n        };\n        BrowserDomAdapter.prototype.getGlobalEventTarget = function (doc, target) {\n            if (target === 'window') {\n                return window;\n            }\n            if (target === 'document') {\n                return doc;\n            }\n            if (target === 'body') {\n                return doc.body;\n            }\n            return null;\n        };\n        BrowserDomAdapter.prototype.getHistory = function () { return window.history; };\n        BrowserDomAdapter.prototype.getLocation = function () { return window.location; };\n        BrowserDomAdapter.prototype.getBaseHref = function (doc) {\n            var href = getBaseElementHref();\n            return href == null ? null : relativePath(href);\n        };\n        BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };\n        BrowserDomAdapter.prototype.getUserAgent = function () { return window.navigator.userAgent; };\n        BrowserDomAdapter.prototype.setData = function (element, name, value) {\n            this.setAttribute(element, 'data-' + name, value);\n        };\n        BrowserDomAdapter.prototype.getData = function (element, name) {\n            return this.getAttribute(element, 'data-' + name);\n        };\n        BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };\n        // TODO(tbosch): move this into a separate environment class once we have it\n        // TODO(tbosch): move this into a separate environment class once we have it\n        BrowserDomAdapter.prototype.supportsWebAnimation = \n        // TODO(tbosch): move this into a separate environment class once we have it\n        function () {\n            return typeof Element.prototype['animate'] === 'function';\n        };\n        BrowserDomAdapter.prototype.performanceNow = function () {\n            // performance.now() is not available in all browsers, see\n            // http://caniuse.com/#search=performance.now\n            return window.performance && window.performance.now ? window.performance.now() :\n                new Date().getTime();\n        };\n        BrowserDomAdapter.prototype.supportsCookies = function () { return true; };\n        BrowserDomAdapter.prototype.getCookie = function (name) { return common.ɵparseCookieValue(document.cookie, name); };\n        BrowserDomAdapter.prototype.setCookie = function (name, value) {\n            // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n            // not clear other cookies.\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n        };\n        return BrowserDomAdapter;\n    }(GenericBrowserDomAdapter));\n    var baseElement = null;\n    function getBaseElementHref() {\n        if (!baseElement) {\n            baseElement = (document.querySelector('base'));\n            if (!baseElement) {\n                return null;\n            }\n        }\n        return baseElement.getAttribute('href');\n    }\n    // based on urlUtils.js in AngularJS 1\n    var urlParsingNode;\n    function relativePath(url) {\n        if (!urlParsingNode) {\n            urlParsingNode = document.createElement('a');\n        }\n        urlParsingNode.setAttribute('href', url);\n        return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A DI Token representing the main rendering context. In a browser this is the DOM Document.\n     *\n     * Note: Document might not be available in the Application Context when Application and Rendering\n     * Contexts are not the same (e.g. when running the application into a Web Worker).\n     *\n     * @deprecated import from `@angular/common` instead.\n     */\n    var DOCUMENT$1 = common.DOCUMENT;\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function supportsState() {\n        return !!window.history.pushState;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * `PlatformLocation` encapsulates all of the direct calls to platform APIs.\n     * This class should not be used directly by an application developer. Instead, use\n     * {@link Location}.\n     */\n    var BrowserPlatformLocation = /** @class */ (function (_super) {\n        __extends$1(BrowserPlatformLocation, _super);\n        function BrowserPlatformLocation(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            _this._init();\n            return _this;\n        }\n        // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n        /** @internal */\n        // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n        /** @internal */\n        BrowserPlatformLocation.prototype._init = \n        // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n        /** @internal */\n        function () {\n            this.location = getDOM().getLocation();\n            this._history = getDOM().getHistory();\n        };\n        BrowserPlatformLocation.prototype.getBaseHrefFromDOM = function () { return getDOM().getBaseHref(this._doc); };\n        BrowserPlatformLocation.prototype.onPopState = function (fn) {\n            getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('popstate', fn, false);\n        };\n        BrowserPlatformLocation.prototype.onHashChange = function (fn) {\n            getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('hashchange', fn, false);\n        };\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"pathname\", {\n            get: function () { return this.location.pathname; },\n            set: function (newPath) { this.location.pathname = newPath; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"search\", {\n            get: function () { return this.location.search; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"hash\", {\n            get: function () { return this.location.hash; },\n            enumerable: true,\n            configurable: true\n        });\n        BrowserPlatformLocation.prototype.pushState = function (state, title, url) {\n            if (supportsState()) {\n                this._history.pushState(state, title, url);\n            }\n            else {\n                this.location.hash = url;\n            }\n        };\n        BrowserPlatformLocation.prototype.replaceState = function (state, title, url) {\n            if (supportsState()) {\n                this._history.replaceState(state, title, url);\n            }\n            else {\n                this.location.hash = url;\n            }\n        };\n        BrowserPlatformLocation.prototype.forward = function () { this._history.forward(); };\n        BrowserPlatformLocation.prototype.back = function () { this._history.back(); };\n        BrowserPlatformLocation.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        BrowserPlatformLocation.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n        ]; };\n        return BrowserPlatformLocation;\n    }(common.PlatformLocation));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * An id that identifies a particular application being bootstrapped, that should\n     * match across the client/server boundary.\n     */\n    var TRANSITION_ID = new core.InjectionToken('TRANSITION_ID');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var BrowserGetTestability = /** @class */ (function () {\n        function BrowserGetTestability() {\n        }\n        BrowserGetTestability.init = function () { core.setTestabilityGetter(new BrowserGetTestability()); };\n        BrowserGetTestability.prototype.addToWindow = function (registry) {\n            core.ɵglobal['getAngularTestability'] = function (elem, findInAncestors) {\n                if (findInAncestors === void 0) { findInAncestors = true; }\n                var testability = registry.findTestabilityInTree(elem, findInAncestors);\n                if (testability == null) {\n                    throw new Error('Could not find testability for element.');\n                }\n                return testability;\n            };\n            core.ɵglobal['getAllAngularTestabilities'] = function () { return registry.getAllTestabilities(); };\n            core.ɵglobal['getAllAngularRootElements'] = function () { return registry.getAllRootElements(); };\n            var whenAllStable = function (callback /** TODO #9100 */) {\n                var testabilities = core.ɵglobal['getAllAngularTestabilities']();\n                var count = testabilities.length;\n                var didWork = false;\n                var decrement = function (didWork_ /** TODO #9100 */) {\n                    didWork = didWork || didWork_;\n                    count--;\n                    if (count == 0) {\n                        callback(didWork);\n                    }\n                };\n                testabilities.forEach(function (testability /** TODO #9100 */) {\n                    testability.whenStable(decrement);\n                });\n            };\n            if (!core.ɵglobal['frameworkStabilizers']) {\n                core.ɵglobal['frameworkStabilizers'] = [];\n            }\n            core.ɵglobal['frameworkStabilizers'].push(whenAllStable);\n        };\n        BrowserGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {\n            if (elem == null) {\n                return null;\n            }\n            var t = registry.getTestability(elem);\n            if (t != null) {\n                return t;\n            }\n            else if (!findInAncestors) {\n                return null;\n            }\n            if (getDOM().isShadowRoot(elem)) {\n                return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);\n            }\n            return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);\n        };\n        return BrowserGetTestability;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n\n    /**\n     * Exports the value under a given `name` in the global property `ng`. For example `ng.probe` if\n     * `name` is `'probe'`.\n     * @param name Name under which it will be exported. Keep in mind this will be a property of the\n     * global `ng` object.\n     * @param value The value to export.\n     */\n    function exportNgVar(name, value) {\n        if (typeof COMPILED === 'undefined' || !COMPILED) {\n            // Note: we can't export `ng` when using closure enhanced optimization as:\n            // - closure declares globals itself for minified names, which sometimes clobber our `ng` global\n            // - we can't declare a closure extern as the namespace `ng` is already used within Google\n            //   for typings for angularJS (via `goog.provide('ng....')`).\n            var ng = core.ɵglobal['ng'] = core.ɵglobal['ng'] || {};\n            ng[name] = value;\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CORE_TOKENS = {\n        'ApplicationRef': core.ApplicationRef,\n        'NgZone': core.NgZone,\n    };\n    var INSPECT_GLOBAL_NAME = 'probe';\n    var CORE_TOKENS_GLOBAL_NAME = 'coreTokens';\n    /**\n     * Returns a {@link DebugElement} for the given native DOM element, or\n     * null if the given native element does not have an Angular view associated\n     * with it.\n     */\n    function inspectNativeElement(element) {\n        return core.getDebugNode(element);\n    }\n    function _createNgProbe(coreTokens) {\n        exportNgVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n        exportNgVar(CORE_TOKENS_GLOBAL_NAME, __assign({}, CORE_TOKENS, _ngProbeTokensToMap(coreTokens || [])));\n        return function () { return inspectNativeElement; };\n    }\n    function _ngProbeTokensToMap(tokens) {\n        return tokens.reduce(function (prev, t) { return (prev[t.name] = t.token, prev); }, {});\n    }\n    /**\n     * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n     */\n    var ELEMENT_PROBE_PROVIDERS = [\n        {\n            provide: core.APP_INITIALIZER,\n            useFactory: _createNgProbe,\n            deps: [\n                [core.NgProbeToken, new core.Optional()],\n            ],\n            multi: true,\n        },\n    ];\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     *\n     */\n    var EVENT_MANAGER_PLUGINS = new core.InjectionToken('EventManagerPlugins');\n    var EventManagerPlugin = /** @class */ (function () {\n        function EventManagerPlugin(_doc) {\n            this._doc = _doc;\n        }\n        EventManagerPlugin.prototype.addGlobalEventListener = function (element, eventName, handler) {\n            var target = getDOM().getGlobalEventTarget(this._doc, element);\n            if (!target) {\n                throw new Error(\"Unsupported event target \" + target + \" for event \" + eventName);\n            }\n            return this.addEventListener(target, eventName, handler);\n        };\n        return EventManagerPlugin;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var SharedStylesHost = /** @class */ (function () {\n        function SharedStylesHost() {\n            /** @internal */\n            this._stylesSet = new Set();\n        }\n        SharedStylesHost.prototype.addStyles = function (styles) {\n            var _this = this;\n            var additions = new Set();\n            styles.forEach(function (style) {\n                if (!_this._stylesSet.has(style)) {\n                    _this._stylesSet.add(style);\n                    additions.add(style);\n                }\n            });\n            this.onStylesAdded(additions);\n        };\n        SharedStylesHost.prototype.onStylesAdded = function (additions) { };\n        SharedStylesHost.prototype.getAllStyles = function () { return Array.from(this._stylesSet); };\n        SharedStylesHost.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        SharedStylesHost.ctorParameters = function () { return []; };\n        return SharedStylesHost;\n    }());\n    var DomSharedStylesHost = /** @class */ (function (_super) {\n        __extends$1(DomSharedStylesHost, _super);\n        function DomSharedStylesHost(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            _this._hostNodes = new Set();\n            _this._styleNodes = new Set();\n            _this._hostNodes.add(_doc.head);\n            return _this;\n        }\n        DomSharedStylesHost.prototype._addStylesToHost = function (styles, host) {\n            var _this = this;\n            styles.forEach(function (style) {\n                var styleEl = _this._doc.createElement('style');\n                styleEl.textContent = style;\n                _this._styleNodes.add(host.appendChild(styleEl));\n            });\n        };\n        DomSharedStylesHost.prototype.addHost = function (hostNode) {\n            this._addStylesToHost(this._stylesSet, hostNode);\n            this._hostNodes.add(hostNode);\n        };\n        DomSharedStylesHost.prototype.removeHost = function (hostNode) { this._hostNodes.delete(hostNode); };\n        DomSharedStylesHost.prototype.onStylesAdded = function (additions) {\n            var _this = this;\n            this._hostNodes.forEach(function (hostNode) { return _this._addStylesToHost(additions, hostNode); });\n        };\n        DomSharedStylesHost.prototype.ngOnDestroy = function () { this._styleNodes.forEach(function (styleNode) { return getDOM().remove(styleNode); }); };\n        DomSharedStylesHost.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        DomSharedStylesHost.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n        ]; };\n        return DomSharedStylesHost;\n    }(SharedStylesHost));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var NAMESPACE_URIS = {\n        'svg': 'http://www.w3.org/2000/svg',\n        'xhtml': 'http://www.w3.org/1999/xhtml',\n        'xlink': 'http://www.w3.org/1999/xlink',\n        'xml': 'http://www.w3.org/XML/1998/namespace',\n        'xmlns': 'http://www.w3.org/2000/xmlns/',\n    };\n    var COMPONENT_REGEX = /%COMP%/g;\n    var COMPONENT_VARIABLE = '%COMP%';\n    var HOST_ATTR = \"_nghost-\" + COMPONENT_VARIABLE;\n    var CONTENT_ATTR = \"_ngcontent-\" + COMPONENT_VARIABLE;\n    function shimContentAttribute(componentShortId) {\n        return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n    }\n    function shimHostAttribute(componentShortId) {\n        return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n    }\n    function flattenStyles(compId, styles, target) {\n        for (var i = 0; i < styles.length; i++) {\n            var style = styles[i];\n            if (Array.isArray(style)) {\n                flattenStyles(compId, style, target);\n            }\n            else {\n                style = style.replace(COMPONENT_REGEX, compId);\n                target.push(style);\n            }\n        }\n        return target;\n    }\n    function decoratePreventDefault(eventHandler) {\n        return function (event) {\n            var allowDefaultBehavior = eventHandler(event);\n            if (allowDefaultBehavior === false) {\n                // TODO(tbosch): move preventDefault into event plugins...\n                event.preventDefault();\n                event.returnValue = false;\n            }\n        };\n    }\n    var DefaultDomRenderer2 = /** @class */ (function () {\n        function DefaultDomRenderer2(eventManager) {\n            this.eventManager = eventManager;\n            this.data = Object.create(null);\n        }\n        DefaultDomRenderer2.prototype.destroy = function () { };\n        DefaultDomRenderer2.prototype.createElement = function (name, namespace) {\n            if (namespace) {\n                return document.createElementNS(NAMESPACE_URIS[namespace], name);\n            }\n            return document.createElement(name);\n        };\n        DefaultDomRenderer2.prototype.createComment = function (value) { return document.createComment(value); };\n        DefaultDomRenderer2.prototype.createText = function (value) { return document.createTextNode(value); };\n        DefaultDomRenderer2.prototype.appendChild = function (parent, newChild) { parent.appendChild(newChild); };\n        DefaultDomRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n            if (parent) {\n                parent.insertBefore(newChild, refChild);\n            }\n        };\n        DefaultDomRenderer2.prototype.removeChild = function (parent, oldChild) {\n            if (parent) {\n                parent.removeChild(oldChild);\n            }\n        };\n        DefaultDomRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n            var el = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n                selectorOrNode;\n            if (!el) {\n                throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n            }\n            el.textContent = '';\n            return el;\n        };\n        DefaultDomRenderer2.prototype.parentNode = function (node) { return node.parentNode; };\n        DefaultDomRenderer2.prototype.nextSibling = function (node) { return node.nextSibling; };\n        DefaultDomRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n            if (namespace) {\n                name = namespace + \":\" + name;\n                var namespaceUri = NAMESPACE_URIS[namespace];\n                if (namespaceUri) {\n                    el.setAttributeNS(namespaceUri, name, value);\n                }\n                else {\n                    el.setAttribute(name, value);\n                }\n            }\n            else {\n                el.setAttribute(name, value);\n            }\n        };\n        DefaultDomRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n            if (namespace) {\n                var namespaceUri = NAMESPACE_URIS[namespace];\n                if (namespaceUri) {\n                    el.removeAttributeNS(namespaceUri, name);\n                }\n                else {\n                    el.removeAttribute(namespace + \":\" + name);\n                }\n            }\n            else {\n                el.removeAttribute(name);\n            }\n        };\n        DefaultDomRenderer2.prototype.addClass = function (el, name) { el.classList.add(name); };\n        DefaultDomRenderer2.prototype.removeClass = function (el, name) { el.classList.remove(name); };\n        DefaultDomRenderer2.prototype.setStyle = function (el, style, value, flags) {\n            if (flags & core.RendererStyleFlags2.DashCase) {\n                el.style.setProperty(style, value, !!(flags & core.RendererStyleFlags2.Important) ? 'important' : '');\n            }\n            else {\n                el.style[style] = value;\n            }\n        };\n        DefaultDomRenderer2.prototype.removeStyle = function (el, style, flags) {\n            if (flags & core.RendererStyleFlags2.DashCase) {\n                el.style.removeProperty(style);\n            }\n            else {\n                // IE requires '' instead of null\n                // see https://github.com/angular/angular/issues/7916\n                el.style[style] = '';\n            }\n        };\n        DefaultDomRenderer2.prototype.setProperty = function (el, name, value) {\n            checkNoSyntheticProp(name, 'property');\n            el[name] = value;\n        };\n        DefaultDomRenderer2.prototype.setValue = function (node, value) { node.nodeValue = value; };\n        DefaultDomRenderer2.prototype.listen = function (target, event, callback) {\n            checkNoSyntheticProp(event, 'listener');\n            if (typeof target === 'string') {\n                return this.eventManager.addGlobalEventListener(target, event, decoratePreventDefault(callback));\n            }\n            return this.eventManager.addEventListener(target, event, decoratePreventDefault(callback));\n        };\n        return DefaultDomRenderer2;\n    }());\n    var AT_CHARCODE = '@'.charCodeAt(0);\n    function checkNoSyntheticProp(name, nameKind) {\n        if (name.charCodeAt(0) === AT_CHARCODE) {\n            throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n        }\n    }\n    var EmulatedEncapsulationDomRenderer2 = /** @class */ (function (_super) {\n        __extends$1(EmulatedEncapsulationDomRenderer2, _super);\n        function EmulatedEncapsulationDomRenderer2(eventManager, sharedStylesHost, component) {\n            var _this = _super.call(this, eventManager) || this;\n            _this.component = component;\n            var styles = flattenStyles(component.id, component.styles, []);\n            sharedStylesHost.addStyles(styles);\n            _this.contentAttr = shimContentAttribute(component.id);\n            _this.hostAttr = shimHostAttribute(component.id);\n            return _this;\n        }\n        EmulatedEncapsulationDomRenderer2.prototype.applyToHost = function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n        EmulatedEncapsulationDomRenderer2.prototype.createElement = function (parent, name) {\n            var el = _super.prototype.createElement.call(this, parent, name);\n            _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n            return el;\n        };\n        return EmulatedEncapsulationDomRenderer2;\n    }(DefaultDomRenderer2));\n    var ShadowDomRenderer = /** @class */ (function (_super) {\n        __extends$1(ShadowDomRenderer, _super);\n        function ShadowDomRenderer(eventManager, sharedStylesHost, hostEl, component) {\n            var _this = _super.call(this, eventManager) || this;\n            _this.sharedStylesHost = sharedStylesHost;\n            _this.hostEl = hostEl;\n            _this.component = component;\n            _this.shadowRoot = hostEl.createShadowRoot();\n            _this.sharedStylesHost.addHost(_this.shadowRoot);\n            var styles = flattenStyles(component.id, component.styles, []);\n            for (var i = 0; i < styles.length; i++) {\n                var styleEl = document.createElement('style');\n                styleEl.textContent = styles[i];\n                _this.shadowRoot.appendChild(styleEl);\n            }\n            return _this;\n        }\n        ShadowDomRenderer.prototype.nodeOrShadowRoot = function (node) { return node === this.hostEl ? this.shadowRoot : node; };\n        ShadowDomRenderer.prototype.destroy = function () { this.sharedStylesHost.removeHost(this.shadowRoot); };\n        ShadowDomRenderer.prototype.appendChild = function (parent, newChild) {\n            return _super.prototype.appendChild.call(this, this.nodeOrShadowRoot(parent), newChild);\n        };\n        ShadowDomRenderer.prototype.insertBefore = function (parent, newChild, refChild) {\n            return _super.prototype.insertBefore.call(this, this.nodeOrShadowRoot(parent), newChild, refChild);\n        };\n        ShadowDomRenderer.prototype.removeChild = function (parent, oldChild) {\n            return _super.prototype.removeChild.call(this, this.nodeOrShadowRoot(parent), oldChild);\n        };\n        ShadowDomRenderer.prototype.parentNode = function (node) {\n            return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this, this.nodeOrShadowRoot(node)));\n        };\n        return ShadowDomRenderer;\n    }(DefaultDomRenderer2));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ɵ0 = function (v) {\n        return '__zone_symbol__' + v;\n    };\n    /**\n     * Detect if Zone is present. If it is then use simple zone aware 'addEventListener'\n     * since Angular can do much more\n     * efficient bookkeeping than Zone can, because we have additional information. This speeds up\n     * addEventListener by 3x.\n     */\n    var __symbol__ = (typeof Zone !== 'undefined') && Zone['__symbol__'] || ɵ0;\n    var ADD_EVENT_LISTENER = __symbol__('addEventListener');\n    var REMOVE_EVENT_LISTENER = __symbol__('removeEventListener');\n    var symbolNames = {};\n    var FALSE = 'FALSE';\n    var ANGULAR = 'ANGULAR';\n    var NATIVE_ADD_LISTENER = 'addEventListener';\n    var NATIVE_REMOVE_LISTENER = 'removeEventListener';\n    // use the same symbol string which is used in zone.js\n    var stopSymbol = '__zone_symbol__propagationStopped';\n    var stopMethodSymbol = '__zone_symbol__stopImmediatePropagation';\n    var blackListedEvents = (typeof Zone !== 'undefined') && Zone[__symbol__('BLACK_LISTED_EVENTS')];\n    var blackListedMap;\n    if (blackListedEvents) {\n        blackListedMap = {};\n        blackListedEvents.forEach(function (eventName) { blackListedMap[eventName] = eventName; });\n    }\n    var isBlackListedEvent = function (eventName) {\n        if (!blackListedMap) {\n            return false;\n        }\n        return blackListedMap.hasOwnProperty(eventName);\n    };\n    // a global listener to handle all dom event,\n    // so we do not need to create a closure every time\n    var globalListener = function (event) {\n        var symbolName = symbolNames[event.type];\n        if (!symbolName) {\n            return;\n        }\n        var taskDatas = this[symbolName];\n        if (!taskDatas) {\n            return;\n        }\n        var args = [event];\n        if (taskDatas.length === 1) {\n            // if taskDatas only have one element, just invoke it\n            var taskData = taskDatas[0];\n            if (taskData.zone !== Zone.current) {\n                // only use Zone.run when Zone.current not equals to stored zone\n                return taskData.zone.run(taskData.handler, this, args);\n            }\n            else {\n                return taskData.handler.apply(this, args);\n            }\n        }\n        else {\n            // copy tasks as a snapshot to avoid event handlers remove\n            // itself or others\n            var copiedTasks = taskDatas.slice();\n            for (var i = 0; i < copiedTasks.length; i++) {\n                // if other listener call event.stopImmediatePropagation\n                // just break\n                if (event[stopSymbol] === true) {\n                    break;\n                }\n                var taskData = copiedTasks[i];\n                if (taskData.zone !== Zone.current) {\n                    // only use Zone.run when Zone.current not equals to stored zone\n                    taskData.zone.run(taskData.handler, this, args);\n                }\n                else {\n                    taskData.handler.apply(this, args);\n                }\n            }\n        }\n    };\n    var DomEventsPlugin = /** @class */ (function (_super) {\n        __extends$1(DomEventsPlugin, _super);\n        function DomEventsPlugin(doc, ngZone) {\n            var _this = _super.call(this, doc) || this;\n            _this.ngZone = ngZone;\n            _this.patchEvent();\n            return _this;\n        }\n        DomEventsPlugin.prototype.patchEvent = function () {\n            if (!Event || !Event.prototype) {\n                return;\n            }\n            if (Event.prototype[stopMethodSymbol]) {\n                // already patched by zone.js\n                return;\n            }\n            var delegate = Event.prototype[stopMethodSymbol] =\n                Event.prototype.stopImmediatePropagation;\n            Event.prototype.stopImmediatePropagation = function () {\n                if (this) {\n                    this[stopSymbol] = true;\n                }\n                // should call native delegate in case\n                // in some environment part of the application\n                // will not use the patched Event\n                delegate && delegate.apply(this, arguments);\n            };\n        };\n        // This plugin should come last in the list of plugins, because it accepts all\n        // events.\n        // This plugin should come last in the list of plugins, because it accepts all\n        // events.\n        DomEventsPlugin.prototype.supports = \n        // This plugin should come last in the list of plugins, because it accepts all\n        // events.\n        function (eventName) { return true; };\n        DomEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var _this = this;\n            /**\n                 * This code is about to add a listener to the DOM. If Zone.js is present, than\n                 * `addEventListener` has been patched. The patched code adds overhead in both\n                 * memory and speed (3x slower) than native. For this reason if we detect that\n                 * Zone.js is present we use a simple version of zone aware addEventListener instead.\n                 * The result is faster registration and the zone will be restored.\n                 * But ZoneSpec.onScheduleTask, ZoneSpec.onInvokeTask, ZoneSpec.onCancelTask\n                 * will not be invoked\n                 * We also do manual zone restoration in element.ts renderEventHandlerClosure method.\n                 *\n                 * NOTE: it is possible that the element is from different iframe, and so we\n                 * have to check before we execute the method.\n                 */\n            var zoneJsLoaded = element[ADD_EVENT_LISTENER];\n            var callback = handler;\n            // if zonejs is loaded and current zone is not ngZone\n            // we keep Zone.current on target for later restoration.\n            if (zoneJsLoaded && (!core.NgZone.isInAngularZone() || isBlackListedEvent(eventName))) {\n                var symbolName = symbolNames[eventName];\n                if (!symbolName) {\n                    symbolName = symbolNames[eventName] = __symbol__(ANGULAR + eventName + FALSE);\n                }\n                var taskDatas = element[symbolName];\n                var globalListenerRegistered = taskDatas && taskDatas.length > 0;\n                if (!taskDatas) {\n                    taskDatas = element[symbolName] = [];\n                }\n                var zone = isBlackListedEvent(eventName) ? Zone.root : Zone.current;\n                if (taskDatas.length === 0) {\n                    taskDatas.push({ zone: zone, handler: callback });\n                }\n                else {\n                    var callbackRegistered = false;\n                    for (var i = 0; i < taskDatas.length; i++) {\n                        if (taskDatas[i].handler === callback) {\n                            callbackRegistered = true;\n                            break;\n                        }\n                    }\n                    if (!callbackRegistered) {\n                        taskDatas.push({ zone: zone, handler: callback });\n                    }\n                }\n                if (!globalListenerRegistered) {\n                    element[ADD_EVENT_LISTENER](eventName, globalListener, false);\n                }\n            }\n            else {\n                element[NATIVE_ADD_LISTENER](eventName, callback, false);\n            }\n            return function () { return _this.removeEventListener(element, eventName, callback); };\n        };\n        DomEventsPlugin.prototype.removeEventListener = function (target, eventName, callback) {\n            var underlyingRemove = target[REMOVE_EVENT_LISTENER];\n            // zone.js not loaded, use native removeEventListener\n            if (!underlyingRemove) {\n                return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n            var symbolName = symbolNames[eventName];\n            var taskDatas = symbolName && target[symbolName];\n            if (!taskDatas) {\n                // addEventListener not using patched version\n                // just call native removeEventListener\n                return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n            // fix issue 20532, should be able to remove\n            // listener which was added inside of ngZone\n            var found = false;\n            for (var i = 0; i < taskDatas.length; i++) {\n                // remove listener from taskDatas if the callback equals\n                if (taskDatas[i].handler === callback) {\n                    found = true;\n                    taskDatas.splice(i, 1);\n                    break;\n                }\n            }\n            if (found) {\n                if (taskDatas.length === 0) {\n                    // all listeners are removed, we can remove the globalListener from target\n                    underlyingRemove.apply(target, [eventName, globalListener, false]);\n                }\n            }\n            else {\n                // not found in taskDatas, the callback may be added inside of ngZone\n                // use native remove listener to remove the callback\n                target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n        };\n        DomEventsPlugin.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        DomEventsPlugin.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n            { type: core.NgZone, },\n        ]; };\n        return DomEventsPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var EVENT_NAMES = {\n        // pan\n        'pan': true,\n        'panstart': true,\n        'panmove': true,\n        'panend': true,\n        'pancancel': true,\n        'panleft': true,\n        'panright': true,\n        'panup': true,\n        'pandown': true,\n        // pinch\n        'pinch': true,\n        'pinchstart': true,\n        'pinchmove': true,\n        'pinchend': true,\n        'pinchcancel': true,\n        'pinchin': true,\n        'pinchout': true,\n        // press\n        'press': true,\n        'pressup': true,\n        // rotate\n        'rotate': true,\n        'rotatestart': true,\n        'rotatemove': true,\n        'rotateend': true,\n        'rotatecancel': true,\n        // swipe\n        'swipe': true,\n        'swipeleft': true,\n        'swiperight': true,\n        'swipeup': true,\n        'swipedown': true,\n        // tap\n        'tap': true,\n    };\n    /**\n     * A DI token that you can use to provide{@link HammerGestureConfig} to Angular. Use it to configure\n     * Hammer gestures.\n     *\n     * @experimental\n     */\n    var HAMMER_GESTURE_CONFIG = new core.InjectionToken('HammerGestureConfig');\n    /**\n     * @experimental\n     */\n    var HammerGestureConfig = /** @class */ (function () {\n        function HammerGestureConfig() {\n            this.events = [];\n            this.overrides = {};\n        }\n        HammerGestureConfig.prototype.buildHammer = function (element) {\n            var mc = new Hammer(element, this.options);\n            mc.get('pinch').set({ enable: true });\n            mc.get('rotate').set({ enable: true });\n            for (var eventName in this.overrides) {\n                mc.get(eventName).set(this.overrides[eventName]);\n            }\n            return mc;\n        };\n        HammerGestureConfig.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        HammerGestureConfig.ctorParameters = function () { return []; };\n        return HammerGestureConfig;\n    }());\n    var HammerGesturesPlugin = /** @class */ (function (_super) {\n        __extends$1(HammerGesturesPlugin, _super);\n        function HammerGesturesPlugin(doc, _config, console) {\n            var _this = _super.call(this, doc) || this;\n            _this._config = _config;\n            _this.console = console;\n            return _this;\n        }\n        HammerGesturesPlugin.prototype.supports = function (eventName) {\n            if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {\n                return false;\n            }\n            if (!window.Hammer) {\n                this.console.warn(\"Hammer.js is not loaded, can not bind '\" + eventName + \"' event.\");\n                return false;\n            }\n            return true;\n        };\n        HammerGesturesPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var _this = this;\n            var zone = this.manager.getZone();\n            eventName = eventName.toLowerCase();\n            return zone.runOutsideAngular(function () {\n                // Creating the manager bind events, must be done outside of angular\n                var mc = _this._config.buildHammer(element);\n                var callback = function (eventObj) {\n                    zone.runGuarded(function () { handler(eventObj); });\n                };\n                mc.on(eventName, callback);\n                return function () { return mc.off(eventName, callback); };\n            });\n        };\n        HammerGesturesPlugin.prototype.isCustomEvent = function (eventName) { return this._config.events.indexOf(eventName) > -1; };\n        HammerGesturesPlugin.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        HammerGesturesPlugin.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n            { type: HammerGestureConfig, decorators: [{ type: core.Inject, args: [HAMMER_GESTURE_CONFIG,] },] },\n            { type: core.ɵConsole, },\n        ]; };\n        return HammerGesturesPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];\n    var ɵ0$1 = function (event) { return event.altKey; };\n    var ɵ1$1 = function (event) { return event.ctrlKey; };\n    var ɵ2$1 = function (event) { return event.metaKey; };\n    var ɵ3 = function (event) { return event.shiftKey; };\n    var MODIFIER_KEY_GETTERS = {\n        'alt': ɵ0$1,\n        'control': ɵ1$1,\n        'meta': ɵ2$1,\n        'shift': ɵ3\n    };\n    /**\n     * @experimental\n     */\n    var KeyEventsPlugin = /** @class */ (function (_super) {\n        __extends$1(KeyEventsPlugin, _super);\n        function KeyEventsPlugin(doc) {\n            return _super.call(this, doc) || this;\n        }\n        KeyEventsPlugin.prototype.supports = function (eventName) { return KeyEventsPlugin.parseEventName(eventName) != null; };\n        KeyEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var parsedEvent = (KeyEventsPlugin.parseEventName(eventName));\n            var outsideHandler = KeyEventsPlugin.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());\n            return this.manager.getZone().runOutsideAngular(function () {\n                return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);\n            });\n        };\n        KeyEventsPlugin.parseEventName = function (eventName) {\n            var parts = eventName.toLowerCase().split('.');\n            var domEventName = parts.shift();\n            if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {\n                return null;\n            }\n            var key = KeyEventsPlugin._normalizeKey((parts.pop()));\n            var fullKey = '';\n            MODIFIER_KEYS.forEach(function (modifierName) {\n                var index = parts.indexOf(modifierName);\n                if (index > -1) {\n                    parts.splice(index, 1);\n                    fullKey += modifierName + '.';\n                }\n            });\n            fullKey += key;\n            if (parts.length != 0 || key.length === 0) {\n                // returning null instead of throwing to let another plugin process the event\n                return null;\n            }\n            var result = {};\n            result['domEventName'] = domEventName;\n            result['fullKey'] = fullKey;\n            return result;\n        };\n        KeyEventsPlugin.getEventFullKey = function (event) {\n            var fullKey = '';\n            var key = getDOM().getEventKey(event);\n            key = key.toLowerCase();\n            if (key === ' ') {\n                key = 'space'; // for readability\n            }\n            else if (key === '.') {\n                key = 'dot'; // because '.' is used as a separator in event names\n            }\n            MODIFIER_KEYS.forEach(function (modifierName) {\n                if (modifierName != key) {\n                    var modifierGetter = MODIFIER_KEY_GETTERS[modifierName];\n                    if (modifierGetter(event)) {\n                        fullKey += modifierName + '.';\n                    }\n                }\n            });\n            fullKey += key;\n            return fullKey;\n        };\n        KeyEventsPlugin.eventCallback = function (fullKey, handler, zone) {\n            return function (event /** TODO #9100 */) {\n                if (KeyEventsPlugin.getEventFullKey(event) === fullKey) {\n                    zone.runGuarded(function () { return handler(event); });\n                }\n            };\n        };\n        /** @internal */\n        /** @internal */\n        KeyEventsPlugin._normalizeKey = /** @internal */\n        function (keyName) {\n            // TODO: switch to a Map if the mapping grows too much\n            switch (keyName) {\n                case 'esc':\n                    return 'escape';\n                default:\n                    return keyName;\n            }\n        };\n        KeyEventsPlugin.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        KeyEventsPlugin.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n        ]; };\n        return KeyEventsPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * DomSanitizer helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing\n     * values to be safe to use in the different DOM contexts.\n     *\n     * For example, when binding a URL in an `<a [href]=\"someValue\">` hyperlink, `someValue` will be\n     * sanitized so that an attacker cannot inject e.g. a `javascript:` URL that would execute code on\n     * the website.\n     *\n     * In specific situations, it might be necessary to disable sanitization, for example if the\n     * application genuinely needs to produce a `javascript:` style link with a dynamic value in it.\n     * Users can bypass security by constructing a value with one of the `bypassSecurityTrust...`\n     * methods, and then binding to that value from the template.\n     *\n     * These situations should be very rare, and extraordinary care must be taken to avoid creating a\n     * Cross Site Scripting (XSS) security bug!\n     *\n     * When using `bypassSecurityTrust...`, make sure to call the method as early as possible and as\n     * close as possible to the source of the value, to make it easy to verify no security bug is\n     * created by its use.\n     *\n     * It is not required (and not recommended) to bypass security if the value is safe, e.g. a URL that\n     * does not start with a suspicious protocol, or an HTML snippet that does not contain dangerous\n     * code. The sanitizer leaves safe values intact.\n     *\n     * @security Calling any of the `bypassSecurityTrust...` APIs disables Angular's built-in\n     * sanitization for the value passed in. Carefully check and audit all values and code paths going\n     * into this call. Make sure any user data is appropriately escaped for this security context.\n     * For more detail, see the [Security Guide](http://g.co/ng/security).\n     *\n     *\n     */\n    var DomSanitizer = /** @class */ (function () {\n        function DomSanitizer() {\n        }\n        return DomSanitizer;\n    }());\n    var DomSanitizerImpl = /** @class */ (function (_super) {\n        __extends$1(DomSanitizerImpl, _super);\n        function DomSanitizerImpl(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            return _this;\n        }\n        DomSanitizerImpl.prototype.sanitize = function (ctx, value) {\n            if (value == null)\n                return null;\n            switch (ctx) {\n                case core.SecurityContext.NONE:\n                    return value;\n                case core.SecurityContext.HTML:\n                    if (value instanceof SafeHtmlImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'HTML');\n                    return core.ɵ_sanitizeHtml(this._doc, String(value));\n                case core.SecurityContext.STYLE:\n                    if (value instanceof SafeStyleImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'Style');\n                    return core.ɵ_sanitizeStyle(value);\n                case core.SecurityContext.SCRIPT:\n                    if (value instanceof SafeScriptImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'Script');\n                    throw new Error('unsafe value used in a script context');\n                case core.SecurityContext.URL:\n                    if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {\n                        // Allow resource URLs in URL contexts, they are strictly more trusted.\n                        return value.changingThisBreaksApplicationSecurity;\n                    }\n                    this.checkNotSafeValue(value, 'URL');\n                    return core.ɵ_sanitizeUrl(String(value));\n                case core.SecurityContext.RESOURCE_URL:\n                    if (value instanceof SafeResourceUrlImpl) {\n                        return value.changingThisBreaksApplicationSecurity;\n                    }\n                    this.checkNotSafeValue(value, 'ResourceURL');\n                    throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');\n                default:\n                    throw new Error(\"Unexpected SecurityContext \" + ctx + \" (see http://g.co/ng/security#xss)\");\n            }\n        };\n        DomSanitizerImpl.prototype.checkNotSafeValue = function (value, expectedType) {\n            if (value instanceof SafeValueImpl) {\n                throw new Error(\"Required a safe \" + expectedType + \", got a \" + value.getTypeName() + \" \" +\n                    \"(see http://g.co/ng/security#xss)\");\n            }\n        };\n        DomSanitizerImpl.prototype.bypassSecurityTrustHtml = function (value) { return new SafeHtmlImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustStyle = function (value) { return new SafeStyleImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustScript = function (value) { return new SafeScriptImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustUrl = function (value) { return new SafeUrlImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl = function (value) {\n            return new SafeResourceUrlImpl(value);\n        };\n        DomSanitizerImpl.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        DomSanitizerImpl.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Inject, args: [DOCUMENT$1,] },] },\n        ]; };\n        return DomSanitizerImpl;\n    }(DomSanitizer));\n    var SafeValueImpl = /** @class */ (function () {\n        function SafeValueImpl(changingThisBreaksApplicationSecurity) {\n            // empty\n            this.changingThisBreaksApplicationSecurity = changingThisBreaksApplicationSecurity;\n        }\n        SafeValueImpl.prototype.toString = function () {\n            return \"SafeValue must use [property]=binding: \" + this.changingThisBreaksApplicationSecurity +\n                \" (see http://g.co/ng/security#xss)\";\n        };\n        return SafeValueImpl;\n    }());\n    var SafeHtmlImpl = /** @class */ (function (_super) {\n        __extends$1(SafeHtmlImpl, _super);\n        function SafeHtmlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeHtmlImpl.prototype.getTypeName = function () { return 'HTML'; };\n        return SafeHtmlImpl;\n    }(SafeValueImpl));\n    var SafeStyleImpl = /** @class */ (function (_super) {\n        __extends$1(SafeStyleImpl, _super);\n        function SafeStyleImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeStyleImpl.prototype.getTypeName = function () { return 'Style'; };\n        return SafeStyleImpl;\n    }(SafeValueImpl));\n    var SafeScriptImpl = /** @class */ (function (_super) {\n        __extends$1(SafeScriptImpl, _super);\n        function SafeScriptImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeScriptImpl.prototype.getTypeName = function () { return 'Script'; };\n        return SafeScriptImpl;\n    }(SafeValueImpl));\n    var SafeUrlImpl = /** @class */ (function (_super) {\n        __extends$1(SafeUrlImpl, _super);\n        function SafeUrlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeUrlImpl.prototype.getTypeName = function () { return 'URL'; };\n        return SafeUrlImpl;\n    }(SafeValueImpl));\n    var SafeResourceUrlImpl = /** @class */ (function (_super) {\n        __extends$1(SafeResourceUrlImpl, _super);\n        function SafeResourceUrlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeResourceUrlImpl.prototype.getTypeName = function () { return 'ResourceURL'; };\n        return SafeResourceUrlImpl;\n    }(SafeValueImpl));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var INTERNAL_BROWSER_PLATFORM_PROVIDERS = [\n        { provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_BROWSER_ID },\n        { provide: core.PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true },\n        { provide: common.PlatformLocation, useClass: BrowserPlatformLocation, deps: [DOCUMENT$1] },\n        { provide: DOCUMENT$1, useFactory: _document, deps: [] },\n    ];\n    /**\n     *\n     */\n    var platformBrowser = core.createPlatformFactory(core.platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);\n    function initDomAdapter() {\n        BrowserDomAdapter.makeCurrent();\n        BrowserGetTestability.init();\n    }\n    function _document() {\n        return document;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     *\n     */\n    var VERSION = new core.Version('6.0.0');\n\n    /**\n     * @license Angular v6.0.4\n     * (c) 2010-2018 Google, Inc. https://angular.io/\n     * License: MIT\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Supported http methods.\n     * @deprecated see https://angular.io/guide/http\n     */\n    var RequestMethod;\n    (function (RequestMethod) {\n        RequestMethod[RequestMethod[\"Get\"] = 0] = \"Get\";\n        RequestMethod[RequestMethod[\"Post\"] = 1] = \"Post\";\n        RequestMethod[RequestMethod[\"Put\"] = 2] = \"Put\";\n        RequestMethod[RequestMethod[\"Delete\"] = 3] = \"Delete\";\n        RequestMethod[RequestMethod[\"Options\"] = 4] = \"Options\";\n        RequestMethod[RequestMethod[\"Head\"] = 5] = \"Head\";\n        RequestMethod[RequestMethod[\"Patch\"] = 6] = \"Patch\";\n    })(RequestMethod || (RequestMethod = {}));\n    /**\n     * All possible states in which a connection can be, based on\n     * [States](http://www.w3.org/TR/XMLHttpRequest/#states) from the `XMLHttpRequest` spec, but with an\n     * additional \"CANCELLED\" state.\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ReadyState;\n    (function (ReadyState) {\n        ReadyState[ReadyState[\"Unsent\"] = 0] = \"Unsent\";\n        ReadyState[ReadyState[\"Open\"] = 1] = \"Open\";\n        ReadyState[ReadyState[\"HeadersReceived\"] = 2] = \"HeadersReceived\";\n        ReadyState[ReadyState[\"Loading\"] = 3] = \"Loading\";\n        ReadyState[ReadyState[\"Done\"] = 4] = \"Done\";\n        ReadyState[ReadyState[\"Cancelled\"] = 5] = \"Cancelled\";\n    })(ReadyState || (ReadyState = {}));\n    /**\n     * Acceptable response types to be associated with a {@link Response}, based on\n     * [ResponseType](https://fetch.spec.whatwg.org/#responsetype) from the Fetch spec.\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ResponseType;\n    (function (ResponseType) {\n        ResponseType[ResponseType[\"Basic\"] = 0] = \"Basic\";\n        ResponseType[ResponseType[\"Cors\"] = 1] = \"Cors\";\n        ResponseType[ResponseType[\"Default\"] = 2] = \"Default\";\n        ResponseType[ResponseType[\"Error\"] = 3] = \"Error\";\n        ResponseType[ResponseType[\"Opaque\"] = 4] = \"Opaque\";\n    })(ResponseType || (ResponseType = {}));\n    /**\n     * Supported content type to be automatically associated with a {@link Request}.\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ContentType;\n    (function (ContentType) {\n        ContentType[ContentType[\"NONE\"] = 0] = \"NONE\";\n        ContentType[ContentType[\"JSON\"] = 1] = \"JSON\";\n        ContentType[ContentType[\"FORM\"] = 2] = \"FORM\";\n        ContentType[ContentType[\"FORM_DATA\"] = 3] = \"FORM_DATA\";\n        ContentType[ContentType[\"TEXT\"] = 4] = \"TEXT\";\n        ContentType[ContentType[\"BLOB\"] = 5] = \"BLOB\";\n        ContentType[ContentType[\"ARRAY_BUFFER\"] = 6] = \"ARRAY_BUFFER\";\n    })(ContentType || (ContentType = {}));\n    /**\n     * Define which buffer to use to store the response\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ResponseContentType;\n    (function (ResponseContentType) {\n        ResponseContentType[ResponseContentType[\"Text\"] = 0] = \"Text\";\n        ResponseContentType[ResponseContentType[\"Json\"] = 1] = \"Json\";\n        ResponseContentType[ResponseContentType[\"ArrayBuffer\"] = 2] = \"ArrayBuffer\";\n        ResponseContentType[ResponseContentType[\"Blob\"] = 3] = \"Blob\";\n    })(ResponseContentType || (ResponseContentType = {}));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Polyfill for [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers), as\n     * specified in the [Fetch Spec](https://fetch.spec.whatwg.org/#headers-class).\n     *\n     * The only known difference between this `Headers` implementation and the spec is the\n     * lack of an `entries` method.\n     *\n     * ### Example\n     *\n     * ```\n     * import {Headers} from '@angular/http';\n     *\n     * var firstHeaders = new Headers();\n     * firstHeaders.append('Content-Type', 'image/jpeg');\n     * console.log(firstHeaders.get('Content-Type')) //'image/jpeg'\n     *\n     * // Create headers from Plain Old JavaScript Object\n     * var secondHeaders = new Headers({\n     *   'X-My-Custom-Header': 'Angular'\n     * });\n     * console.log(secondHeaders.get('X-My-Custom-Header')); //'Angular'\n     *\n     * var thirdHeaders = new Headers(secondHeaders);\n     * console.log(thirdHeaders.get('X-My-Custom-Header')); //'Angular'\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var Headers = /** @class */ (function () {\n        // TODO(vicb): any -> string|string[]\n        function Headers(headers) {\n            var _this = this;\n            /** @internal header names are lower case */\n            this._headers = new Map();\n            /** @internal map lower case names to actual names */\n            this._normalizedNames = new Map();\n            if (!headers) {\n                return;\n            }\n            if (headers instanceof Headers) {\n                headers.forEach(function (values, name) {\n                    values.forEach(function (value) { return _this.append(name, value); });\n                });\n                return;\n            }\n            Object.keys(headers).forEach(function (name) {\n                var values = Array.isArray(headers[name]) ? headers[name] : [headers[name]];\n                _this.delete(name);\n                values.forEach(function (value) { return _this.append(name, value); });\n            });\n        }\n        /**\n         * Returns a new Headers instance from the given DOMString of Response Headers\n         */\n        Headers.fromResponseHeaderString = function (headersString) {\n            var headers = new Headers();\n            headersString.split('\\n').forEach(function (line) {\n                var index = line.indexOf(':');\n                if (index > 0) {\n                    var name_1 = line.slice(0, index);\n                    var value = line.slice(index + 1).trim();\n                    headers.set(name_1, value);\n                }\n            });\n            return headers;\n        };\n        /**\n         * Appends a header to existing list of header values for a given header name.\n         */\n        Headers.prototype.append = function (name, value) {\n            var values = this.getAll(name);\n            if (values === null) {\n                this.set(name, value);\n            }\n            else {\n                values.push(value);\n            }\n        };\n        /**\n         * Deletes all header values for the given name.\n         */\n        Headers.prototype.delete = function (name) {\n            var lcName = name.toLowerCase();\n            this._normalizedNames.delete(lcName);\n            this._headers.delete(lcName);\n        };\n        Headers.prototype.forEach = function (fn) {\n            var _this = this;\n            this._headers.forEach(function (values, lcName) { return fn(values, _this._normalizedNames.get(lcName), _this._headers); });\n        };\n        /**\n         * Returns first header that matches given name.\n         */\n        Headers.prototype.get = function (name) {\n            var values = this.getAll(name);\n            if (values === null) {\n                return null;\n            }\n            return values.length > 0 ? values[0] : null;\n        };\n        /**\n         * Checks for existence of header by given name.\n         */\n        Headers.prototype.has = function (name) { return this._headers.has(name.toLowerCase()); };\n        /**\n         * Returns the names of the headers\n         */\n        Headers.prototype.keys = function () { return Array.from(this._normalizedNames.values()); };\n        /**\n         * Sets or overrides header value for given name.\n         */\n        Headers.prototype.set = function (name, value) {\n            if (Array.isArray(value)) {\n                if (value.length) {\n                    this._headers.set(name.toLowerCase(), [value.join(',')]);\n                }\n            }\n            else {\n                this._headers.set(name.toLowerCase(), [value]);\n            }\n            this.mayBeSetNormalizedName(name);\n        };\n        /**\n         * Returns values of all headers.\n         */\n        Headers.prototype.values = function () { return Array.from(this._headers.values()); };\n        /**\n         * Returns string of all headers.\n         */\n        // TODO(vicb): returns {[name: string]: string[]}\n        Headers.prototype.toJSON = function () {\n            var _this = this;\n            var serialized = {};\n            this._headers.forEach(function (values, name) {\n                var split = [];\n                values.forEach(function (v) { return split.push.apply(split, __spread(v.split(','))); });\n                serialized[_this._normalizedNames.get(name)] = split;\n            });\n            return serialized;\n        };\n        /**\n         * Returns list of header values for a given name.\n         */\n        Headers.prototype.getAll = function (name) {\n            return this.has(name) ? this._headers.get(name.toLowerCase()) || null : null;\n        };\n        /**\n         * This method is not implemented.\n         */\n        Headers.prototype.entries = function () { throw new Error('\"entries\" method is not implemented on Headers class'); };\n        Headers.prototype.mayBeSetNormalizedName = function (name) {\n            var lcName = name.toLowerCase();\n            if (!this._normalizedNames.has(lcName)) {\n                this._normalizedNames.set(lcName, name);\n            }\n        };\n        return Headers;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Creates a response options object to be optionally provided when instantiating a\n     * {@link Response}.\n     *\n     * This class is based on the `ResponseInit` description in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#responseinit).\n     *\n     * All values are null by default. Typical defaults can be found in the\n     * {@link BaseResponseOptions} class, which sub-classes `ResponseOptions`.\n     *\n     * This class may be used in tests to build {@link Response Responses} for\n     * mock responses (see {@link MockBackend}).\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/P9Jkk8e8cz6NVzbcxEsD?p=preview))\n     *\n     * ```typescript\n     * import {ResponseOptions, Response} from '@angular/http';\n     *\n     * var options = new ResponseOptions({\n     *   body: '{\"name\":\"Jeff\"}'\n     * });\n     * var res = new Response(options);\n     *\n     * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ResponseOptions = /** @class */ (function () {\n        function ResponseOptions(opts) {\n            if (opts === void 0) { opts = {}; }\n            var body = opts.body, status = opts.status, headers = opts.headers, statusText = opts.statusText, type = opts.type, url = opts.url;\n            this.body = body != null ? body : null;\n            this.status = status != null ? status : null;\n            this.headers = headers != null ? headers : null;\n            this.statusText = statusText != null ? statusText : null;\n            this.type = type != null ? type : null;\n            this.url = url != null ? url : null;\n        }\n        /**\n         * Creates a copy of the `ResponseOptions` instance, using the optional input as values to\n         * override\n         * existing values. This method will not change the values of the instance on which it is being\n         * called.\n         *\n         * This may be useful when sharing a base `ResponseOptions` object inside tests,\n         * where certain properties may change from test to test.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/1lXquqFfgduTFBWjNoRE?p=preview))\n         *\n         * ```typescript\n         * import {ResponseOptions, Response} from '@angular/http';\n         *\n         * var options = new ResponseOptions({\n         *   body: {name: 'Jeff'}\n         * });\n         * var res = new Response(options.merge({\n         *   url: 'https://google.com'\n         * }));\n         * console.log('options.url:', options.url); // null\n         * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n         * console.log('res.url:', res.url); // https://google.com\n         * ```\n         */\n        ResponseOptions.prototype.merge = function (options) {\n            return new ResponseOptions({\n                body: options && options.body != null ? options.body : this.body,\n                status: options && options.status != null ? options.status : this.status,\n                headers: options && options.headers != null ? options.headers : this.headers,\n                statusText: options && options.statusText != null ? options.statusText : this.statusText,\n                type: options && options.type != null ? options.type : this.type,\n                url: options && options.url != null ? options.url : this.url,\n            });\n        };\n        return ResponseOptions;\n    }());\n    /**\n     * Subclass of {@link ResponseOptions}, with default values.\n     *\n     * Default values:\n     *  * status: 200\n     *  * headers: empty {@link Headers} object\n     *\n     * This class could be extended and bound to the {@link ResponseOptions} class\n     * when configuring an {@link Injector}, in order to override the default options\n     * used by {@link Http} to create {@link Response Responses}.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/qv8DLT?p=preview))\n     *\n     * ```typescript\n     * import {provide} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {HTTP_PROVIDERS, Headers, Http, BaseResponseOptions, ResponseOptions} from\n     * '@angular/http';\n     * import {App} from './myapp';\n     *\n     * class MyOptions extends BaseResponseOptions {\n     *   headers:Headers = new Headers({network: 'github'});\n     * }\n     *\n     * bootstrap(App, [HTTP_PROVIDERS, {provide: ResponseOptions, useClass: MyOptions}]);\n     * ```\n     *\n     * The options could also be extended when manually creating a {@link Response}\n     * object.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/VngosOWiaExEtbstDoix?p=preview))\n     *\n     * ```\n     * import {BaseResponseOptions, Response} from '@angular/http';\n     *\n     * var options = new BaseResponseOptions();\n     * var res = new Response(options.merge({\n     *   body: 'Angular',\n     *   headers: new Headers({framework: 'angular'})\n     * }));\n     * console.log('res.headers.get(\"framework\"):', res.headers.get('framework')); // angular\n     * console.log('res.text():', res.text()); // Angular;\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var BaseResponseOptions = /** @class */ (function (_super) {\n        __extends$1(BaseResponseOptions, _super);\n        function BaseResponseOptions() {\n            return _super.call(this, { status: 200, statusText: 'Ok', type: ResponseType.Default, headers: new Headers() }) || this;\n        }\n        BaseResponseOptions.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        BaseResponseOptions.ctorParameters = function () { return []; };\n        return BaseResponseOptions;\n    }(ResponseOptions));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Abstract class from which real backends are derived.\n     *\n     * The primary purpose of a `ConnectionBackend` is to create new connections to fulfill a given\n     * {@link Request}.\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var ConnectionBackend = /** @class */ (function () {\n        function ConnectionBackend() {\n        }\n        return ConnectionBackend;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function normalizeMethodName(method) {\n        if (typeof method !== 'string')\n            return method;\n        switch (method.toUpperCase()) {\n            case 'GET':\n                return RequestMethod.Get;\n            case 'POST':\n                return RequestMethod.Post;\n            case 'PUT':\n                return RequestMethod.Put;\n            case 'DELETE':\n                return RequestMethod.Delete;\n            case 'OPTIONS':\n                return RequestMethod.Options;\n            case 'HEAD':\n                return RequestMethod.Head;\n            case 'PATCH':\n                return RequestMethod.Patch;\n        }\n        throw new Error(\"Invalid request method. The method \\\"\" + method + \"\\\" is not supported.\");\n    }\n\n    function stringToArrayBuffer(input) {\n        var view = new Uint16Array(input.length);\n        for (var i = 0, strLen = input.length; i < strLen; i++) {\n            view[i] = input.charCodeAt(i);\n        }\n        return view.buffer;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function paramParser(rawParams) {\n        if (rawParams === void 0) { rawParams = ''; }\n        var map = new Map();\n        if (rawParams.length > 0) {\n            var params = rawParams.split('&');\n            params.forEach(function (param) {\n                var eqIdx = param.indexOf('=');\n                var _a = __read(eqIdx == -1 ? [param, ''] : [param.slice(0, eqIdx), param.slice(eqIdx + 1)], 2), key = _a[0], val = _a[1];\n                var list = map.get(key) || [];\n                list.push(val);\n                map.set(key, list);\n            });\n        }\n        return map;\n    }\n    /**\n     * @deprecated see https://angular.io/guide/http\n     **/\n    var QueryEncoder = /** @class */ (function () {\n        function QueryEncoder() {\n        }\n        QueryEncoder.prototype.encodeKey = function (k) { return standardEncoding(k); };\n        QueryEncoder.prototype.encodeValue = function (v) { return standardEncoding(v); };\n        return QueryEncoder;\n    }());\n    function standardEncoding(v) {\n        return encodeURIComponent(v)\n            .replace(/%40/gi, '@')\n            .replace(/%3A/gi, ':')\n            .replace(/%24/gi, '$')\n            .replace(/%2C/gi, ',')\n            .replace(/%3B/gi, ';')\n            .replace(/%2B/gi, '+')\n            .replace(/%3D/gi, '=')\n            .replace(/%3F/gi, '?')\n            .replace(/%2F/gi, '/');\n    }\n    /**\n     * Map-like representation of url search parameters, based on\n     * [URLSearchParams](https://url.spec.whatwg.org/#urlsearchparams) in the url living standard,\n     * with several extensions for merging URLSearchParams objects:\n     *   - setAll()\n     *   - appendAll()\n     *   - replaceAll()\n     *\n     * This class accepts an optional second parameter of ${@link QueryEncoder},\n     * which is used to serialize parameters before making a request. By default,\n     * `QueryEncoder` encodes keys and values of parameters using `encodeURIComponent`,\n     * and then un-encodes certain characters that are allowed to be part of the query\n     * according to IETF RFC 3986: https://tools.ietf.org/html/rfc3986.\n     *\n     * These are the characters that are not encoded: `! $ \\' ( ) * + , ; A 9 - . _ ~ ? /`\n     *\n     * If the set of allowed query characters is not acceptable for a particular backend,\n     * `QueryEncoder` can be subclassed and provided as the 2nd argument to URLSearchParams.\n     *\n     * ```\n     * import {URLSearchParams, QueryEncoder} from '@angular/http';\n     * class MyQueryEncoder extends QueryEncoder {\n     *   encodeKey(k: string): string {\n     *     return myEncodingFunction(k);\n     *   }\n     *\n     *   encodeValue(v: string): string {\n     *     return myEncodingFunction(v);\n     *   }\n     * }\n     *\n     * let params = new URLSearchParams('', new MyQueryEncoder());\n     * ```\n     * @deprecated see https://angular.io/guide/http\n     */\n    var URLSearchParams = /** @class */ (function () {\n        function URLSearchParams(rawParams, queryEncoder) {\n            if (rawParams === void 0) { rawParams = ''; }\n            if (queryEncoder === void 0) { queryEncoder = new QueryEncoder(); }\n            this.rawParams = rawParams;\n            this.queryEncoder = queryEncoder;\n            this.paramsMap = paramParser(rawParams);\n        }\n        URLSearchParams.prototype.clone = function () {\n            var clone = new URLSearchParams('', this.queryEncoder);\n            clone.appendAll(this);\n            return clone;\n        };\n        URLSearchParams.prototype.has = function (param) { return this.paramsMap.has(param); };\n        URLSearchParams.prototype.get = function (param) {\n            var storedParam = this.paramsMap.get(param);\n            return Array.isArray(storedParam) ? storedParam[0] : null;\n        };\n        URLSearchParams.prototype.getAll = function (param) { return this.paramsMap.get(param) || []; };\n        URLSearchParams.prototype.set = function (param, val) {\n            if (val === void 0 || val === null) {\n                this.delete(param);\n                return;\n            }\n            var list = this.paramsMap.get(param) || [];\n            list.length = 0;\n            list.push(val);\n            this.paramsMap.set(param, list);\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `set(name, values[0])`\n        //\n        // E.g: \"a=[1,2,3], c=[8]\" + \"a=[4,5,6], b=[7]\" = \"a=[4], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.setAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var list = _this.paramsMap.get(param) || [];\n                list.length = 0;\n                list.push(value[0]);\n                _this.paramsMap.set(param, list);\n            });\n        };\n        URLSearchParams.prototype.append = function (param, val) {\n            if (val === void 0 || val === null)\n                return;\n            var list = this.paramsMap.get(param) || [];\n            list.push(val);\n            this.paramsMap.set(param, list);\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `append(name, value)`\n        // for each value in `values`.\n        //\n        // E.g: \"a=[1,2], c=[8]\" + \"a=[3,4], b=[7]\" = \"a=[1,2,3,4], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.appendAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var list = _this.paramsMap.get(param) || [];\n                for (var i = 0; i < value.length; ++i) {\n                    list.push(value[i]);\n                }\n                _this.paramsMap.set(param, list);\n            });\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `delete(name)`,\n        // followed by `set(name, values)`\n        //\n        // E.g: \"a=[1,2,3], c=[8]\" + \"a=[4,5,6], b=[7]\" = \"a=[4,5,6], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.replaceAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var list = _this.paramsMap.get(param) || [];\n                list.length = 0;\n                for (var i = 0; i < value.length; ++i) {\n                    list.push(value[i]);\n                }\n                _this.paramsMap.set(param, list);\n            });\n        };\n        URLSearchParams.prototype.toString = function () {\n            var _this = this;\n            var paramsList = [];\n            this.paramsMap.forEach(function (values, k) {\n                values.forEach(function (v) { return paramsList.push(_this.queryEncoder.encodeKey(k) + '=' + _this.queryEncoder.encodeValue(v)); });\n            });\n            return paramsList.join('&');\n        };\n        URLSearchParams.prototype.delete = function (param) { this.paramsMap.delete(param); };\n        return URLSearchParams;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * HTTP request body used by both {@link Request} and {@link Response}\n     * https://fetch.spec.whatwg.org/#body\n     */\n    var Body = /** @class */ (function () {\n        function Body() {\n        }\n        /**\n         * Attempts to return body as parsed `JSON` object, or raises an exception.\n         */\n        Body.prototype.json = function () {\n            if (typeof this._body === 'string') {\n                return JSON.parse(this._body);\n            }\n            if (this._body instanceof ArrayBuffer) {\n                return JSON.parse(this.text());\n            }\n            return this._body;\n        };\n        /**\n         * Returns the body as a string, presuming `toString()` can be called on the response body.\n         *\n         * When decoding an `ArrayBuffer`, the optional `encodingHint` parameter determines how the\n         * bytes in the buffer will be interpreted. Valid values are:\n         *\n         * - `legacy` - incorrectly interpret the bytes as UTF-16 (technically, UCS-2). Only characters\n         *   in the Basic Multilingual Plane are supported, surrogate pairs are not handled correctly.\n         *   In addition, the endianness of the 16-bit octet pairs in the `ArrayBuffer` is not taken\n         *   into consideration. This is the default behavior to avoid breaking apps, but should be\n         *   considered deprecated.\n         *\n         * - `iso-8859` - interpret the bytes as ISO-8859 (which can be used for ASCII encoded text).\n         */\n        Body.prototype.text = function (encodingHint) {\n            if (encodingHint === void 0) { encodingHint = 'legacy'; }\n            if (this._body instanceof URLSearchParams) {\n                return this._body.toString();\n            }\n            if (this._body instanceof ArrayBuffer) {\n                switch (encodingHint) {\n                    case 'legacy':\n                        return String.fromCharCode.apply(null, new Uint16Array(this._body));\n                    case 'iso-8859':\n                        return String.fromCharCode.apply(null, new Uint8Array(this._body));\n                    default:\n                        throw new Error(\"Invalid value for encodingHint: \" + encodingHint);\n                }\n            }\n            if (this._body == null) {\n                return '';\n            }\n            if (typeof this._body === 'object') {\n                return JSON.stringify(this._body, null, 2);\n            }\n            return this._body.toString();\n        };\n        /**\n         * Return the body as an ArrayBuffer\n         */\n        Body.prototype.arrayBuffer = function () {\n            if (this._body instanceof ArrayBuffer) {\n                return this._body;\n            }\n            return stringToArrayBuffer(this.text());\n        };\n        /**\n          * Returns the request's body as a Blob, assuming that body exists.\n          */\n        Body.prototype.blob = function () {\n            if (this._body instanceof Blob) {\n                return this._body;\n            }\n            if (this._body instanceof ArrayBuffer) {\n                return new Blob([this._body]);\n            }\n            throw new Error('The request body isn\\'t either a blob or an array buffer');\n        };\n        return Body;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Creates `Response` instances from provided values.\n     *\n     * Though this object isn't\n     * usually instantiated by end-users, it is the primary object interacted with when it comes time to\n     * add data to a view.\n     *\n     * ### Example\n     *\n     * ```\n     * http.request('my-friends.txt').subscribe(response => this.friends = response.text());\n     * ```\n     *\n     * The Response's interface is inspired by the Response constructor defined in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#response-class), but is considered a static value whose body\n     * can be accessed many times. There are other differences in the implementation, but this is the\n     * most significant.\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var Response = /** @class */ (function (_super) {\n        __extends$1(Response, _super);\n        function Response(responseOptions) {\n            var _this = _super.call(this) || this;\n            _this._body = responseOptions.body;\n            _this.status = responseOptions.status;\n            _this.ok = (_this.status >= 200 && _this.status <= 299);\n            _this.statusText = responseOptions.statusText;\n            _this.headers = responseOptions.headers;\n            _this.type = responseOptions.type;\n            _this.url = responseOptions.url;\n            return _this;\n        }\n        Response.prototype.toString = function () {\n            return \"Response with status: \" + this.status + \" \" + this.statusText + \" for URL: \" + this.url;\n        };\n        return Response;\n    }(Body));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _nextRequestId = 0;\n    var JSONP_HOME = '__ng_jsonp__';\n    var _jsonpConnections = null;\n    function _getJsonpConnections() {\n        var w = typeof window == 'object' ? window : {};\n        if (_jsonpConnections === null) {\n            _jsonpConnections = w[JSONP_HOME] = {};\n        }\n        return _jsonpConnections;\n    }\n    // Make sure not to evaluate this in a non-browser environment!\n    var BrowserJsonp = /** @class */ (function () {\n        function BrowserJsonp() {\n        }\n        // Construct a <script> element with the specified URL\n        BrowserJsonp.prototype.build = function (url) {\n            var node = document.createElement('script');\n            node.src = url;\n            return node;\n        };\n        BrowserJsonp.prototype.nextRequestID = function () { return \"__req\" + _nextRequestId++; };\n        BrowserJsonp.prototype.requestCallback = function (id) { return JSONP_HOME + \".\" + id + \".finished\"; };\n        BrowserJsonp.prototype.exposeConnection = function (id, connection) {\n            var connections = _getJsonpConnections();\n            connections[id] = connection;\n        };\n        BrowserJsonp.prototype.removeConnection = function (id) {\n            var connections = _getJsonpConnections();\n            connections[id] = null;\n        };\n        // Attach the <script> element to the DOM\n        BrowserJsonp.prototype.send = function (node) { document.body.appendChild((node)); };\n        // Remove <script> element from the DOM\n        BrowserJsonp.prototype.cleanup = function (node) {\n            if (node.parentNode) {\n                node.parentNode.removeChild((node));\n            }\n        };\n        BrowserJsonp.decorators = [\n            { type: core.Injectable }\n        ];\n        return BrowserJsonp;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var JSONP_ERR_NO_CALLBACK = 'JSONP injected script did not invoke callback.';\n    var JSONP_ERR_WRONG_METHOD = 'JSONP requests must use GET request method.';\n    /**\n     * Base class for an in-flight JSONP request.\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var JSONPConnection = /** @class */ (function () {\n        /** @internal */\n        function JSONPConnection(req, _dom, baseResponseOptions) {\n            var _this = this;\n            this._dom = _dom;\n            this.baseResponseOptions = baseResponseOptions;\n            this._finished = false;\n            if (req.method !== RequestMethod.Get) {\n                throw new TypeError(JSONP_ERR_WRONG_METHOD);\n            }\n            this.request = req;\n            this.response = new rxjs.Observable(function (responseObserver) {\n                _this.readyState = ReadyState.Loading;\n                var id = _this._id = _dom.nextRequestID();\n                _dom.exposeConnection(id, _this);\n                // Workaround Dart\n                // url = url.replace(/=JSONP_CALLBACK(&|$)/, `generated method`);\n                var callback = _dom.requestCallback(_this._id);\n                var url = req.url;\n                if (url.indexOf('=JSONP_CALLBACK&') > -1) {\n                    url = url.replace('=JSONP_CALLBACK&', \"=\" + callback + \"&\");\n                }\n                else if (url.lastIndexOf('=JSONP_CALLBACK') === url.length - '=JSONP_CALLBACK'.length) {\n                    url = url.substring(0, url.length - '=JSONP_CALLBACK'.length) + (\"=\" + callback);\n                }\n                var script = _this._script = _dom.build(url);\n                var onLoad = function (event) {\n                    if (_this.readyState === ReadyState.Cancelled)\n                        return;\n                    _this.readyState = ReadyState.Done;\n                    _dom.cleanup(script);\n                    if (!_this._finished) {\n                        var responseOptions_1 = new ResponseOptions({ body: JSONP_ERR_NO_CALLBACK, type: ResponseType.Error, url: url });\n                        if (baseResponseOptions) {\n                            responseOptions_1 = baseResponseOptions.merge(responseOptions_1);\n                        }\n                        responseObserver.error(new Response(responseOptions_1));\n                        return;\n                    }\n                    var responseOptions = new ResponseOptions({ body: _this._responseData, url: url });\n                    if (_this.baseResponseOptions) {\n                        responseOptions = _this.baseResponseOptions.merge(responseOptions);\n                    }\n                    responseObserver.next(new Response(responseOptions));\n                    responseObserver.complete();\n                };\n                var onError = function (error) {\n                    if (_this.readyState === ReadyState.Cancelled)\n                        return;\n                    _this.readyState = ReadyState.Done;\n                    _dom.cleanup(script);\n                    var responseOptions = new ResponseOptions({ body: error.message, type: ResponseType.Error });\n                    if (baseResponseOptions) {\n                        responseOptions = baseResponseOptions.merge(responseOptions);\n                    }\n                    responseObserver.error(new Response(responseOptions));\n                };\n                script.addEventListener('load', onLoad);\n                script.addEventListener('error', onError);\n                _dom.send(script);\n                return function () {\n                    _this.readyState = ReadyState.Cancelled;\n                    script.removeEventListener('load', onLoad);\n                    script.removeEventListener('error', onError);\n                    _this._dom.cleanup(script);\n                };\n            });\n        }\n        /**\n         * Callback called when the JSONP request completes, to notify the application\n         * of the new data.\n         */\n        JSONPConnection.prototype.finished = function (data) {\n            // Don't leak connections\n            this._finished = true;\n            this._dom.removeConnection(this._id);\n            if (this.readyState === ReadyState.Cancelled)\n                return;\n            this._responseData = data;\n        };\n        return JSONPConnection;\n    }());\n    /**\n     * A {@link ConnectionBackend} that uses the JSONP strategy of making requests.\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var JSONPBackend = /** @class */ (function (_super) {\n        __extends$1(JSONPBackend, _super);\n        /** @internal */\n        function JSONPBackend(_browserJSONP, _baseResponseOptions) {\n            var _this = _super.call(this) || this;\n            _this._browserJSONP = _browserJSONP;\n            _this._baseResponseOptions = _baseResponseOptions;\n            return _this;\n        }\n        JSONPBackend.prototype.createConnection = function (request) {\n            return new JSONPConnection(request, this._browserJSONP, this._baseResponseOptions);\n        };\n        JSONPBackend.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        JSONPBackend.ctorParameters = function () { return [\n            { type: BrowserJsonp },\n            { type: ResponseOptions }\n        ]; };\n        return JSONPBackend;\n    }(ConnectionBackend));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Creates a request options object to be optionally provided when instantiating a\n     * {@link Request}.\n     *\n     * This class is based on the `RequestInit` description in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#requestinit).\n     *\n     * All values are null by default. Typical defaults can be found in the {@link BaseRequestOptions}\n     * class, which sub-classes `RequestOptions`.\n     *\n     * ```typescript\n     * import {RequestOptions, Request, RequestMethod} from '@angular/http';\n     *\n     * const options = new RequestOptions({\n     *   method: RequestMethod.Post,\n     *   url: 'https://google.com'\n     * });\n     * const req = new Request(options);\n     * console.log('req.method:', RequestMethod[req.method]); // Post\n     * console.log('options.url:', options.url); // https://google.com\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var RequestOptions = /** @class */ (function () {\n        // TODO(Dzmitry): remove search when this.search is removed\n        function RequestOptions(opts) {\n            if (opts === void 0) { opts = {}; }\n            var method = opts.method, headers = opts.headers, body = opts.body, url = opts.url, search = opts.search, params = opts.params, withCredentials = opts.withCredentials, responseType = opts.responseType;\n            this.method = method != null ? normalizeMethodName(method) : null;\n            this.headers = headers != null ? headers : null;\n            this.body = body != null ? body : null;\n            this.url = url != null ? url : null;\n            this.params = this._mergeSearchParams(params || search);\n            this.withCredentials = withCredentials != null ? withCredentials : null;\n            this.responseType = responseType != null ? responseType : null;\n        }\n        Object.defineProperty(RequestOptions.prototype, \"search\", {\n            /**\n             * @deprecated from 4.0.0. Use params instead.\n             */\n            get: function () { return this.params; },\n            /**\n             * @deprecated from 4.0.0. Use params instead.\n             */\n            set: function (params) { this.params = params; },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Creates a copy of the `RequestOptions` instance, using the optional input as values to override\n         * existing values. This method will not change the values of the instance on which it is being\n         * called.\n         *\n         * Note that `headers` and `search` will override existing values completely if present in\n         * the `options` object. If these values should be merged, it should be done prior to calling\n         * `merge` on the `RequestOptions` instance.\n         *\n         * ```typescript\n         * import {RequestOptions, Request, RequestMethod} from '@angular/http';\n         *\n         * const options = new RequestOptions({\n         *   method: RequestMethod.Post\n         * });\n         * const req = new Request(options.merge({\n         *   url: 'https://google.com'\n         * }));\n         * console.log('req.method:', RequestMethod[req.method]); // Post\n         * console.log('options.url:', options.url); // null\n         * console.log('req.url:', req.url); // https://google.com\n         * ```\n         */\n        RequestOptions.prototype.merge = function (options) {\n            return new RequestOptions({\n                method: options && options.method != null ? options.method : this.method,\n                headers: options && options.headers != null ? options.headers : new Headers(this.headers),\n                body: options && options.body != null ? options.body : this.body,\n                url: options && options.url != null ? options.url : this.url,\n                params: options && this._mergeSearchParams(options.params || options.search),\n                withCredentials: options && options.withCredentials != null ? options.withCredentials :\n                    this.withCredentials,\n                responseType: options && options.responseType != null ? options.responseType :\n                    this.responseType\n            });\n        };\n        RequestOptions.prototype._mergeSearchParams = function (params) {\n            if (!params)\n                return this.params;\n            if (params instanceof URLSearchParams) {\n                return params.clone();\n            }\n            if (typeof params === 'string') {\n                return new URLSearchParams(params);\n            }\n            return this._parseParams(params);\n        };\n        RequestOptions.prototype._parseParams = function (objParams) {\n            var _this = this;\n            if (objParams === void 0) { objParams = {}; }\n            var params = new URLSearchParams();\n            Object.keys(objParams).forEach(function (key) {\n                var value = objParams[key];\n                if (Array.isArray(value)) {\n                    value.forEach(function (item) { return _this._appendParam(key, item, params); });\n                }\n                else {\n                    _this._appendParam(key, value, params);\n                }\n            });\n            return params;\n        };\n        RequestOptions.prototype._appendParam = function (key, value, params) {\n            if (typeof value !== 'string') {\n                value = JSON.stringify(value);\n            }\n            params.append(key, value);\n        };\n        return RequestOptions;\n    }());\n    /**\n     * Subclass of {@link RequestOptions}, with default values.\n     *\n     * Default values:\n     *  * method: {@link RequestMethod RequestMethod.Get}\n     *  * headers: empty {@link Headers} object\n     *\n     * This class could be extended and bound to the {@link RequestOptions} class\n     * when configuring an {@link Injector}, in order to override the default options\n     * used by {@link Http} to create and send {@link Request Requests}.\n     *\n     * ```typescript\n     * import {BaseRequestOptions, RequestOptions} from '@angular/http';\n     *\n     * class MyOptions extends BaseRequestOptions {\n     *   search: string = 'coreTeam=true';\n     * }\n     *\n     * {provide: RequestOptions, useClass: MyOptions};\n     * ```\n     *\n     * The options could also be extended when manually creating a {@link Request}\n     * object.\n     *\n     * ```\n     * import {BaseRequestOptions, Request, RequestMethod} from '@angular/http';\n     *\n     * const options = new BaseRequestOptions();\n     * const req = new Request(options.merge({\n     *   method: RequestMethod.Post,\n     *   url: 'https://google.com'\n     * }));\n     * console.log('req.method:', RequestMethod[req.method]); // Post\n     * console.log('options.url:', options.url); // null\n     * console.log('req.url:', req.url); // https://google.com\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var BaseRequestOptions = /** @class */ (function (_super) {\n        __extends$1(BaseRequestOptions, _super);\n        function BaseRequestOptions() {\n            return _super.call(this, { method: RequestMethod.Get, headers: new Headers() }) || this;\n        }\n        BaseRequestOptions.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        BaseRequestOptions.ctorParameters = function () { return []; };\n        return BaseRequestOptions;\n    }(RequestOptions));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // TODO(jeffbcross): properly implement body accessors\n    /**\n     * Creates `Request` instances from provided values.\n     *\n     * The Request's interface is inspired by the Request constructor defined in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#request-class),\n     * but is considered a static value whose body can be accessed many times. There are other\n     * differences in the implementation, but this is the most significant.\n     *\n     * `Request` instances are typically created by higher-level classes, like {@link Http} and\n     * {@link Jsonp}, but it may occasionally be useful to explicitly create `Request` instances.\n     * One such example is when creating services that wrap higher-level services, like {@link Http},\n     * where it may be useful to generate a `Request` with arbitrary headers and search params.\n     *\n     * ```typescript\n     * import {Injectable, Injector} from '@angular/core';\n     * import {HTTP_PROVIDERS, Http, Request, RequestMethod} from '@angular/http';\n     *\n     * @Injectable()\n     * class AutoAuthenticator {\n     *   constructor(public http:Http) {}\n     *   request(url:string) {\n     *     return this.http.request(new Request({\n     *       method: RequestMethod.Get,\n     *       url: url,\n     *       search: 'password=123'\n     *     }));\n     *   }\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([HTTP_PROVIDERS, AutoAuthenticator]);\n     * var authenticator = injector.get(AutoAuthenticator);\n     * authenticator.request('people.json').subscribe(res => {\n     *   //URL should have included '?password=123'\n     *   console.log('people', res.json());\n     * });\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var Request = /** @class */ (function (_super) {\n        __extends$1(Request, _super);\n        function Request(requestOptions) {\n            var _this = _super.call(this) || this;\n            // TODO: assert that url is present\n            var url = requestOptions.url;\n            _this.url = requestOptions.url;\n            var paramsArg = requestOptions.params || requestOptions.search;\n            if (paramsArg) {\n                var params = void 0;\n                if (typeof paramsArg === 'object' && !(paramsArg instanceof URLSearchParams)) {\n                    params = urlEncodeParams(paramsArg).toString();\n                }\n                else {\n                    params = paramsArg.toString();\n                }\n                if (params.length > 0) {\n                    var prefix = '?';\n                    if (_this.url.indexOf('?') != -1) {\n                        prefix = (_this.url[_this.url.length - 1] == '&') ? '' : '&';\n                    }\n                    // TODO: just delete search-query-looking string in url?\n                    _this.url = url + prefix + params;\n                }\n            }\n            _this._body = requestOptions.body;\n            _this.method = normalizeMethodName(requestOptions.method);\n            // TODO(jeffbcross): implement behavior\n            // Defaults to 'omit', consistent with browser\n            _this.headers = new Headers(requestOptions.headers);\n            _this.contentType = _this.detectContentType();\n            _this.withCredentials = requestOptions.withCredentials;\n            _this.responseType = requestOptions.responseType;\n            return _this;\n        }\n        /**\n         * Returns the content type enum based on header options.\n         */\n        Request.prototype.detectContentType = function () {\n            switch (this.headers.get('content-type')) {\n                case 'application/json':\n                    return ContentType.JSON;\n                case 'application/x-www-form-urlencoded':\n                    return ContentType.FORM;\n                case 'multipart/form-data':\n                    return ContentType.FORM_DATA;\n                case 'text/plain':\n                case 'text/html':\n                    return ContentType.TEXT;\n                case 'application/octet-stream':\n                    return this._body instanceof ArrayBuffer$1 ? ContentType.ARRAY_BUFFER : ContentType.BLOB;\n                default:\n                    return this.detectContentTypeFromBody();\n            }\n        };\n        /**\n         * Returns the content type of request's body based on its type.\n         */\n        Request.prototype.detectContentTypeFromBody = function () {\n            if (this._body == null) {\n                return ContentType.NONE;\n            }\n            else if (this._body instanceof URLSearchParams) {\n                return ContentType.FORM;\n            }\n            else if (this._body instanceof FormData) {\n                return ContentType.FORM_DATA;\n            }\n            else if (this._body instanceof Blob$1) {\n                return ContentType.BLOB;\n            }\n            else if (this._body instanceof ArrayBuffer$1) {\n                return ContentType.ARRAY_BUFFER;\n            }\n            else if (this._body && typeof this._body === 'object') {\n                return ContentType.JSON;\n            }\n            else {\n                return ContentType.TEXT;\n            }\n        };\n        /**\n         * Returns the request's body according to its type. If body is undefined, return\n         * null.\n         */\n        Request.prototype.getBody = function () {\n            switch (this.contentType) {\n                case ContentType.JSON:\n                    return this.text();\n                case ContentType.FORM:\n                    return this.text();\n                case ContentType.FORM_DATA:\n                    return this._body;\n                case ContentType.TEXT:\n                    return this.text();\n                case ContentType.BLOB:\n                    return this.blob();\n                case ContentType.ARRAY_BUFFER:\n                    return this.arrayBuffer();\n                default:\n                    return null;\n            }\n        };\n        return Request;\n    }(Body));\n    function urlEncodeParams(params) {\n        var searchParams = new URLSearchParams();\n        Object.keys(params).forEach(function (key) {\n            var value = params[key];\n            if (value && Array.isArray(value)) {\n                value.forEach(function (element) { return searchParams.append(key, element.toString()); });\n            }\n            else {\n                searchParams.append(key, value.toString());\n            }\n        });\n        return searchParams;\n    }\n    var noop = function () { };\n    var w = typeof window == 'object' ? window : noop;\n    var FormData = w /** TODO #9100 */['FormData'] || noop;\n    var Blob$1 = w /** TODO #9100 */['Blob'] || noop;\n    var ArrayBuffer$1 = w /** TODO #9100 */['ArrayBuffer'] || noop;\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function httpRequest(backend, request) {\n        return backend.createConnection(request).response;\n    }\n    function mergeOptions(defaultOpts, providedOpts, method, url) {\n        var newOptions = defaultOpts;\n        if (providedOpts) {\n            // Hack so Dart can used named parameters\n            return newOptions.merge(new RequestOptions({\n                method: providedOpts.method || method,\n                url: providedOpts.url || url,\n                search: providedOpts.search,\n                params: providedOpts.params,\n                headers: providedOpts.headers,\n                body: providedOpts.body,\n                withCredentials: providedOpts.withCredentials,\n                responseType: providedOpts.responseType\n            }));\n        }\n        return newOptions.merge(new RequestOptions({ method: method, url: url }));\n    }\n    /**\n     * Performs http requests using `XMLHttpRequest` as the default backend.\n     *\n     * `Http` is available as an injectable class, with methods to perform http requests. Calling\n     * `request` returns an `Observable` which will emit a single {@link Response} when a\n     * response is received.\n     *\n     * ### Example\n     *\n     * ```typescript\n     * import {Http, HTTP_PROVIDERS} from '@angular/http';\n     * import {map} from 'rxjs/operators';\n     *\n     * @Component({\n     *   selector: 'http-app',\n     *   viewProviders: [HTTP_PROVIDERS],\n     *   templateUrl: 'people.html'\n     * })\n     * class PeopleComponent {\n     *   constructor(http: Http) {\n     *     http.get('people.json')\n     *       // Call map on the response observable to get the parsed people object\n     *       .pipe(map(res => res.json()))\n     *       // Subscribe to the observable to get the parsed people object and attach it to the\n     *       // component\n     *       .subscribe(people => this.people = people);\n     *   }\n     * }\n     * ```\n     *\n     *\n     * ### Example\n     *\n     * ```\n     * http.get('people.json').subscribe((res:Response) => this.people = res.json());\n     * ```\n     *\n     * The default construct used to perform requests, `XMLHttpRequest`, is abstracted as a \"Backend\" (\n     * {@link XHRBackend} in this case), which could be mocked with dependency injection by replacing\n     * the {@link XHRBackend} provider, as in the following example:\n     *\n     * ### Example\n     *\n     * ```typescript\n     * import {BaseRequestOptions, Http} from '@angular/http';\n     * import {MockBackend} from '@angular/http/testing';\n     * var injector = Injector.resolveAndCreate([\n     *   BaseRequestOptions,\n     *   MockBackend,\n     *   {provide: Http, useFactory:\n     *       function(backend, defaultOptions) {\n     *         return new Http(backend, defaultOptions);\n     *       },\n     *       deps: [MockBackend, BaseRequestOptions]}\n     * ]);\n     * var http = injector.get(Http);\n     * http.get('request-from-mock-backend.json').subscribe((res:Response) => doSomething(res));\n     * ```\n     *\n     * @deprecated see https://angular.io/guide/http\n     */\n    var Http = /** @class */ (function () {\n        function Http(_backend, _defaultOptions) {\n            this._backend = _backend;\n            this._defaultOptions = _defaultOptions;\n        }\n        /**\n         * Performs any type of http request. First argument is required, and can either be a url or\n         * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}\n         * object can be provided as the 2nd argument. The options object will be merged with the values\n         * of {@link BaseRequestOptions} before performing the request.\n         */\n        Http.prototype.request = function (url, options) {\n            var responseObservable;\n            if (typeof url === 'string') {\n                responseObservable = httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url)));\n            }\n            else if (url instanceof Request) {\n                responseObservable = httpRequest(this._backend, url);\n            }\n            else {\n                throw new Error('First argument must be a url string or Request instance.');\n            }\n            return responseObservable;\n        };\n        /**\n         * Performs a request with `get` http method.\n         */\n        Http.prototype.get = function (url, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url)));\n        };\n        /**\n         * Performs a request with `post` http method.\n         */\n        Http.prototype.post = function (url, body, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Post, url)));\n        };\n        /**\n         * Performs a request with `put` http method.\n         */\n        Http.prototype.put = function (url, body, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Put, url)));\n        };\n        /**\n         * Performs a request with `delete` http method.\n         */\n        Http.prototype.delete = function (url, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Delete, url)));\n        };\n        /**\n         * Performs a request with `patch` http method.\n         */\n        Http.prototype.patch = function (url, body, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Patch, url)));\n        };\n        /**\n         * Performs a request with `head` http method.\n         */\n        Http.prototype.head = function (url, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Head, url)));\n        };\n        /**\n         * Performs a request with `options` http method.\n         */\n        Http.prototype.options = function (url, options) {\n            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Options, url)));\n        };\n        Http.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        Http.ctorParameters = function () { return [\n            { type: ConnectionBackend },\n            { type: RequestOptions }\n        ]; };\n        return Http;\n    }());\n    /**\n     * @deprecated see https://angular.io/guide/http\n     */\n    var Jsonp = /** @class */ (function (_super) {\n        __extends$1(Jsonp, _super);\n        function Jsonp(backend, defaultOptions) {\n            return _super.call(this, backend, defaultOptions) || this;\n        }\n        /**\n         * Performs any type of http request. First argument is required, and can either be a url or\n         * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}\n         * object can be provided as the 2nd argument. The options object will be merged with the values\n         * of {@link BaseRequestOptions} before performing the request.\n         *\n         * @security Regular XHR is the safest alternative to JSONP for most applications, and is\n         * supported by all current browsers. Because JSONP creates a `<script>` element with\n         * contents retrieved from a remote source, attacker-controlled data introduced by an untrusted\n         * source could expose your application to XSS risks. Data exposed by JSONP may also be\n         * readable by malicious third-party websites. In addition, JSONP introduces potential risk for\n         * future security issues (e.g. content sniffing).  For more detail, see the\n         * [Security Guide](http://g.co/ng/security).\n         */\n        Jsonp.prototype.request = function (url, options) {\n            var responseObservable;\n            if (typeof url === 'string') {\n                url =\n                    new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url));\n            }\n            if (url instanceof Request) {\n                if (url.method !== RequestMethod.Get) {\n                    throw new Error('JSONP requests must use GET request method.');\n                }\n                responseObservable = httpRequest(this._backend, url);\n            }\n            else {\n                throw new Error('First argument must be a url string or Request instance.');\n            }\n            return responseObservable;\n        };\n        Jsonp.decorators = [\n            { type: core.Injectable }\n        ];\n        /** @nocollapse */\n        Jsonp.ctorParameters = function () { return [\n            { type: ConnectionBackend },\n            { type: RequestOptions }\n        ]; };\n        return Jsonp;\n    }(Http));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @module\n     * @description\n     * Entry point for all public APIs of the common package.\n     */\n    /**\n     * @deprecated see https://angular.io/guide/http\n     */\n    var VERSION$1 = new core.Version('6.0.4');\n\n    /**\r\n     * @fileoverview added by tsickle\r\n     * @suppress {checkTypes} checked by tsc\r\n     */\r\n    var AgmDirection = /** @class */ (function () {\r\n        function AgmDirection(gmapsApi, http) {\r\n            this.gmapsApi = gmapsApi;\r\n            this.http = http;\r\n            this.travelMode = 'DRIVING';\r\n            this.transitOptions = undefined;\r\n            this.drivingOptions = undefined;\r\n            this.waypoints = [];\r\n            this.optimizeWaypoints = true;\r\n            this.provideRouteAlternatives = false;\r\n            this.avoidHighways = false;\r\n            this.avoidTolls = false;\r\n            this.visible = true;\r\n            // Direction change event handler\r\n            this.onChange = new core.EventEmitter();\r\n            // Direction response for the new request\r\n            this.onResponse = new core.EventEmitter();\r\n            this.sendInfoWindow = new core.EventEmitter();\r\n            this.directionsService = undefined;\r\n            this.directionsDisplay = undefined;\r\n            this.waypointsMarker = [];\r\n            this.isFirstChange = true;\r\n        }\r\n        /**\r\n         * @return {?}\r\n         */\r\n        AgmDirection.prototype.ngOnInit = /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.visible === true) {\r\n                this.directionDraw();\r\n            }\r\n        };\r\n        /**\r\n         * @param {?} obj\r\n         * @return {?}\r\n         */\r\n        AgmDirection.prototype.ngOnChanges = /**\r\n         * @param {?} obj\r\n         * @return {?}\r\n         */\r\n        function (obj) {\r\n            /**\r\n                 * When visible is false then remove the direction layer\r\n                 */\r\n            if (!this.visible) {\r\n                try {\r\n                    if (typeof this.originMarker !== 'undefined') {\r\n                        this.originMarker.setMap(null);\r\n                        this.destinationMarker.setMap(null);\r\n                        this.waypointsMarker.forEach(function (w) { return w.setMap(null); });\r\n                    }\r\n                    this.directionsDisplay.setPanel(null);\r\n                    this.directionsDisplay.setMap(null);\r\n                    this.directionsDisplay = undefined;\r\n                }\r\n                catch (/** @type {?} */ e) { }\r\n            }\r\n            else {\r\n                if (this.isFirstChange) {\r\n                    /**\r\n                             * When visible is false at the first time\r\n                             */\r\n                    if (typeof this.directionsDisplay === 'undefined') {\r\n                        this.directionDraw();\r\n                    }\r\n                    this.isFirstChange = false;\r\n                    return;\r\n                }\r\n                /**\r\n                       * When renderOptions are not first change then reset the display\r\n                       */\r\n                if (typeof obj.renderOptions !== 'undefined') {\r\n                    if (obj.renderOptions.firstChange === false) {\r\n                        if (typeof this.originMarker !== 'undefined') {\r\n                            this.originMarker.setMap(null);\r\n                            this.destinationMarker.setMap(null);\r\n                            this.waypointsMarker.forEach(function (w) { return w.setMap(null); });\r\n                        }\r\n                        this.directionsDisplay.setPanel(null);\r\n                        this.directionsDisplay.setMap(null);\r\n                        this.directionsDisplay = undefined;\r\n                    }\r\n                }\r\n                this.directionDraw();\r\n            }\r\n        };\r\n        /**\r\n         * This event is fired when the user creating or updating this direction\r\n         * @return {?}\r\n         */\r\n        AgmDirection.prototype.directionDraw = /**\r\n         * This event is fired when the user creating or updating this direction\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            var _this = this;\r\n            this.gmapsApi.getNativeMap().then(function (map) {\r\n                if (typeof _this.directionsDisplay === 'undefined') {\r\n                    _this.directionsDisplay = new google.maps.DirectionsRenderer(_this.renderOptions);\r\n                    _this.directionsDisplay.setMap(map);\r\n                    _this.directionsDisplay.addListener('directions_changed', function () {\r\n                        _this.onChange.emit(_this.directionsDisplay.getDirections());\r\n                    });\r\n                }\r\n                if (typeof _this.directionsService === 'undefined') {\r\n                    _this.directionsService = new google.maps.DirectionsService;\r\n                }\r\n                if (typeof _this.panel === 'undefined') {\r\n                    _this.directionsDisplay.setPanel(null);\r\n                }\r\n                else {\r\n                    _this.directionsDisplay.setPanel(_this.panel);\r\n                }\r\n                var /** @type {?} */ requestObj = {\r\n                    origin: _this.origin,\r\n                    destination: _this.destination,\r\n                    waypoints: _this.waypoints\r\n                };\r\n                /**\r\n                 * @param {?} s\r\n                 * @return {?}\r\n                 */\r\n                function hashCode(s) {\r\n                    for (var /** @type {?} */ i = 0, /** @type {?} */ h = 0; i < s.length; i++) {\r\n                        h = Math.imul(31, h) + s.charCodeAt(i) | 0;\r\n                    }\r\n                    return h;\r\n                }\r\n                var /** @type {?} */ hash = hashCode(JSON.stringify(requestObj));\r\n                // Render exist direction\r\n                if (typeof _this.renderRoute === 'object' && _this.renderRoute !== null) {\r\n                    _this.directionsDisplay.setDirections(_this.renderRoute);\r\n                    _this.renderRoute = null; // or set undefined, ''\r\n                }\r\n                else {\r\n                    _this.http.get(\"/umbraco/api/thirdpartycaching/GetGoogleDirections?request=\" + hash).subscribe(function (cacheResponse) {\r\n                        cacheResponse = cacheResponse.json();\r\n                        console.log('cached response: ', cacheResponse);\r\n                        if (cacheResponse == null) {\r\n                            // Request new direction\r\n                            // Request new direction\r\n                            _this.directionsService.route({\r\n                                origin: _this.origin,\r\n                                destination: _this.destination,\r\n                                travelMode: _this.travelMode,\r\n                                transitOptions: _this.transitOptions,\r\n                                drivingOptions: _this.drivingOptions,\r\n                                waypoints: _this.waypoints,\r\n                                optimizeWaypoints: _this.optimizeWaypoints,\r\n                                provideRouteAlternatives: _this.provideRouteAlternatives,\r\n                                avoidHighways: _this.avoidHighways,\r\n                                avoidTolls: _this.avoidTolls,\r\n                            }, function (response, status) {\r\n                                _this.onResponse.emit(response);\r\n                                if (status === 'OK') {\r\n                                    _this.directionsDisplay.setDirections(response);\r\n                                    _this.http.post(\"/umbraco/api/thirdpartycaching/SaveGoogleDirections?request=\" + hash, response).subscribe(function (saveRes) {\r\n                                        console.log('save response:', saveRes);\r\n                                    });\r\n                                    /**\r\n                                                   * Emit The DirectionsResult Object\r\n                                                   * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n                                                   */\r\n                                    // Custom Markers\r\n                                    if (typeof _this.markerOptions !== 'undefined') {\r\n                                        // Remove origin markers\r\n                                        try {\r\n                                            if (typeof _this.originMarker !== 'undefined') {\r\n                                                google.maps.event.clearListeners(_this.originMarker, 'click');\r\n                                                _this.originMarker.setMap(null);\r\n                                            }\r\n                                            if (typeof _this.destinationMarker !== 'undefined') {\r\n                                                google.maps.event.clearListeners(_this.destinationMarker, 'click');\r\n                                                _this.destinationMarker.setMap(null);\r\n                                            }\r\n                                            _this.waypointsMarker.forEach(function (w) {\r\n                                                if (typeof w !== 'undefined') {\r\n                                                    google.maps.event.clearListeners(w, 'click');\r\n                                                    w.setMap(null);\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                        catch (/** @type {?} */ err) {\r\n                                            console.error('Can not reset custom marker.', err);\r\n                                        }\r\n                                        // Set custom markers\r\n                                        var /** @type {?} */ _route_1 = response.routes[0].legs[0];\r\n                                        try {\r\n                                            // Origin Marker\r\n                                            if (typeof _this.markerOptions.origin !== 'undefined') {\r\n                                                _this.markerOptions.origin.map = map;\r\n                                                _this.markerOptions.origin.position = _route_1.start_location;\r\n                                                _this.originMarker = _this.setMarker(map, _this.originMarker, _this.markerOptions.origin, _route_1.start_address);\r\n                                            }\r\n                                            // Destination Marker\r\n                                            if (typeof _this.markerOptions.destination !== 'undefined') {\r\n                                                _this.markerOptions.destination.map = map;\r\n                                                _this.markerOptions.destination.position = _route_1.end_location;\r\n                                                _this.destinationMarker = _this.setMarker(map, _this.destinationMarker, _this.markerOptions.destination, _route_1.end_address);\r\n                                            }\r\n                                            // Waypoints Marker\r\n                                            if (typeof _this.markerOptions.waypoints !== 'undefined') {\r\n                                                _this.waypoints.forEach(function (waypoint, index) {\r\n                                                    // If waypoints are not array then set all the same\r\n                                                    if (!Array.isArray(_this.markerOptions.waypoints)) {\r\n                                                        _this.markerOptions.waypoints.map = map;\r\n                                                        _this.markerOptions.waypoints.position = _route_1.via_waypoints[index];\r\n                                                        _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints, _route_1.via_waypoints[index]));\r\n                                                    }\r\n                                                    else {\r\n                                                        _this.markerOptions.waypoints[index].map = map;\r\n                                                        _this.markerOptions.waypoints[index].position = _route_1.via_waypoints[index];\r\n                                                        _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints[index], _route_1.via_waypoints[index]));\r\n                                                    }\r\n                                                }); // End forEach\r\n                                            }\r\n                                        }\r\n                                        catch (/** @type {?} */ err) {\r\n                                            console.error('MarkerOptions error.', err);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            _this.onResponse.emit(cacheResponse);\r\n                            _this.directionsDisplay.setDirections(cacheResponse);\r\n                            /**\r\n                                         * Emit The DirectionsResult Object\r\n                                         * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n                                         */\r\n                            // Custom Markers\r\n                            if (typeof _this.markerOptions !== 'undefined') {\r\n                                // Remove origin markers\r\n                                try {\r\n                                    if (typeof _this.originMarker !== 'undefined') {\r\n                                        google.maps.event.clearListeners(_this.originMarker, 'click');\r\n                                        _this.originMarker.setMap(null);\r\n                                    }\r\n                                    if (typeof _this.destinationMarker !== 'undefined') {\r\n                                        google.maps.event.clearListeners(_this.destinationMarker, 'click');\r\n                                        _this.destinationMarker.setMap(null);\r\n                                    }\r\n                                    _this.waypointsMarker.forEach(function (w) {\r\n                                        if (typeof w !== 'undefined') {\r\n                                            google.maps.event.clearListeners(w, 'click');\r\n                                            w.setMap(null);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                catch (/** @type {?} */ err) {\r\n                                    console.error('Can not reset custom marker.', err);\r\n                                }\r\n                                // Set custom markers\r\n                                var /** @type {?} */ _route_2 = cacheResponse.routes[0].legs[0];\r\n                                try {\r\n                                    // Origin Marker\r\n                                    if (typeof _this.markerOptions.origin !== 'undefined') {\r\n                                        _this.markerOptions.origin.map = map;\r\n                                        _this.markerOptions.origin.position = _route_2.start_location;\r\n                                        _this.originMarker = _this.setMarker(map, _this.originMarker, _this.markerOptions.origin, _route_2.start_address);\r\n                                    }\r\n                                    // Destination Marker\r\n                                    if (typeof _this.markerOptions.destination !== 'undefined') {\r\n                                        _this.markerOptions.destination.map = map;\r\n                                        _this.markerOptions.destination.position = _route_2.end_location;\r\n                                        _this.destinationMarker = _this.setMarker(map, _this.destinationMarker, _this.markerOptions.destination, _route_2.end_address);\r\n                                    }\r\n                                    // Waypoints Marker\r\n                                    if (typeof _this.markerOptions.waypoints !== 'undefined') {\r\n                                        _this.waypoints.forEach(function (waypoint, index) {\r\n                                            // If waypoints are not array then set all the same\r\n                                            if (!Array.isArray(_this.markerOptions.waypoints)) {\r\n                                                _this.markerOptions.waypoints.map = map;\r\n                                                _this.markerOptions.waypoints.position = _route_2.via_waypoints[index];\r\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints, _route_2.via_waypoints[index]));\r\n                                            }\r\n                                            else {\r\n                                                _this.markerOptions.waypoints[index].map = map;\r\n                                                _this.markerOptions.waypoints[index].position = _route_2.via_waypoints[index];\r\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints[index], _route_2.via_waypoints[index]));\r\n                                            }\r\n                                        }); // End forEach\r\n                                    }\r\n                                }\r\n                                catch (/** @type {?} */ err) {\r\n                                    console.error('MarkerOptions error.', err);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        /**\r\n         * Custom Origin and Destination Icon\r\n         * \\@memberof AgmDirection\r\n         * @param {?} map map\r\n         * @param {?} marker marker\r\n         * @param {?} markerOpts properties\r\n         * @param {?} content marker's infowindow content\r\n         * @return {?} new marker\r\n         */\r\n        AgmDirection.prototype.setMarker = /**\r\n         * Custom Origin and Destination Icon\r\n         * \\@memberof AgmDirection\r\n         * @param {?} map map\r\n         * @param {?} marker marker\r\n         * @param {?} markerOpts properties\r\n         * @param {?} content marker's infowindow content\r\n         * @return {?} new marker\r\n         */\r\n        function (map, marker, markerOpts, content) {\r\n            var _this = this;\r\n            if (typeof this.infoWindow === 'undefined') {\r\n                this.infoWindow = new google.maps.InfoWindow({});\r\n                this.sendInfoWindow.emit(this.infoWindow);\r\n            }\r\n            marker = new google.maps.Marker(markerOpts);\r\n            marker.addListener('click', function () {\r\n                var /** @type {?} */ infowindoContent = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\r\n                _this.infoWindow.setContent(infowindoContent);\r\n                _this.infoWindow.open(map, marker);\r\n            });\r\n            return marker;\r\n        };\r\n        AgmDirection.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: 'agm-direction',\r\n                    },] }\r\n        ];\r\n        /** @nocollapse */\r\n        AgmDirection.ctorParameters = function () { return [\r\n            { type: GoogleMapsAPIWrapper, },\r\n            { type: Http, },\r\n        ]; };\r\n        AgmDirection.propDecorators = {\r\n            \"origin\": [{ type: core.Input },],\r\n            \"destination\": [{ type: core.Input },],\r\n            \"travelMode\": [{ type: core.Input },],\r\n            \"transitOptions\": [{ type: core.Input },],\r\n            \"drivingOptions\": [{ type: core.Input },],\r\n            \"waypoints\": [{ type: core.Input },],\r\n            \"optimizeWaypoints\": [{ type: core.Input },],\r\n            \"provideRouteAlternatives\": [{ type: core.Input },],\r\n            \"avoidHighways\": [{ type: core.Input },],\r\n            \"avoidTolls\": [{ type: core.Input },],\r\n            \"renderOptions\": [{ type: core.Input },],\r\n            \"visible\": [{ type: core.Input },],\r\n            \"panel\": [{ type: core.Input },],\r\n            \"markerOptions\": [{ type: core.Input },],\r\n            \"infoWindow\": [{ type: core.Input },],\r\n            \"renderRoute\": [{ type: core.Input },],\r\n            \"onChange\": [{ type: core.Output },],\r\n            \"onResponse\": [{ type: core.Output },],\r\n            \"sendInfoWindow\": [{ type: core.Output },],\r\n        };\r\n        return AgmDirection;\r\n    }());\n\n    /**\r\n     * @fileoverview added by tsickle\r\n     * @suppress {checkTypes} checked by tsc\r\n     */\r\n    var AgmDirectionModule = /** @class */ (function () {\r\n        function AgmDirectionModule() {\r\n        }\r\n        /**\r\n         * @return {?}\r\n         */\r\n        AgmDirectionModule.forRoot = /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return {\r\n                ngModule: AgmDirectionModule,\r\n            };\r\n        };\r\n        AgmDirectionModule.decorators = [\r\n            { type: core.NgModule, args: [{\r\n                        imports: [],\r\n                        declarations: [\r\n                            AgmDirection,\r\n                        ],\r\n                        exports: [\r\n                            AgmDirection,\r\n                        ]\r\n                    },] }\r\n        ];\r\n        return AgmDirectionModule;\r\n    }());\n\n    exports.AgmDirectionModule = AgmDirectionModule;\n    exports.ɵa = AgmDirection;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=agm-direction.umd.js.map\n"]}