{"version":3,"file":"agm-direction.js","sources":["../package/src/directive/agm-direction.directive.ts","../package/src/modules/agm-direction.module.ts"],"sourcesContent":["import { Directive, Input, Output, OnChanges, OnInit, EventEmitter } from '@angular/core';\r\nimport { GoogleMapsAPIWrapper } from '@agm/core';\r\nimport { InfoWindow, Marker, GoogleMap } from '@agm/core/services/google-maps-types';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\ndeclare var google: any;\r\n@Directive({\r\n  selector: 'agm-direction',\r\n})\r\nexport class AgmDirection implements OnChanges, OnInit {\r\n\r\n  /**\r\n   * LatLng | String | google.maps.Place\r\n   */\r\n  @Input() origin: any;\r\n\r\n  /**\r\n   * LatLng | String | google.maps.Place\r\n   */\r\n  @Input() destination: any;\r\n\r\n  @Input() travelMode: String = 'DRIVING';\r\n  @Input() transitOptions: any = undefined;\r\n  @Input() drivingOptions: any = undefined;\r\n  @Input() waypoints: any = [];\r\n  @Input() optimizeWaypoints: Boolean = true;\r\n  @Input() provideRouteAlternatives: Boolean = false;\r\n  @Input() avoidHighways: Boolean = false;\r\n  @Input() avoidTolls: Boolean = false;\r\n  @Input() renderOptions: any;\r\n  @Input() visible: Boolean = true;\r\n  @Input() panel: object | undefined;\r\n  @Input() markerOptions: { origin: any, destination: any, waypoints: any };\r\n  @Input() infoWindow: InfoWindow;\r\n\r\n  // Render exist directoin\r\n  @Input() renderRoute: any;\r\n\r\n  // Direction change event handler\r\n  @Output() onChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // Direction response for the new request\r\n  @Output() onResponse: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Output() sendInfoWindow: EventEmitter<InfoWindow> = new EventEmitter<InfoWindow>();\r\n\r\n  public directionsService: any = undefined;\r\n  public directionsDisplay: any = undefined;\r\n\r\n  // Use for custom marker\r\n  private originMarker: any;\r\n  private destinationMarker: any;\r\n  private waypointsMarker: any = [];\r\n\r\n  // Use for visible flag\r\n  private isFirstChange: Boolean = true;\r\n\r\n  constructor(\r\n    private gmapsApi: GoogleMapsAPIWrapper,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.visible === true) {\r\n      this.directionDraw();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(obj: any) {\r\n    /**\r\n     * When visible is false then remove the direction layer\r\n     */\r\n    if (!this.visible) {\r\n      try {\r\n        if (typeof this.originMarker !== 'undefined') {\r\n          this.originMarker.setMap(null);\r\n          this.destinationMarker.setMap(null);\r\n          this.waypointsMarker.forEach((w: any) => w.setMap(null));\r\n        }\r\n        this.directionsDisplay.setPanel(null);\r\n        this.directionsDisplay.setMap(null);\r\n        this.directionsDisplay = undefined;\r\n      } catch (e) { }\r\n    } else {\r\n      if (this.isFirstChange) {\r\n        /**\r\n         * When visible is false at the first time\r\n         */\r\n        if (typeof this.directionsDisplay === 'undefined') {\r\n          this.directionDraw();\r\n        }\r\n        this.isFirstChange = false;\r\n        return;\r\n      }\r\n\r\n      /**\r\n       * When renderOptions are not first change then reset the display\r\n       */\r\n      if (typeof obj.renderOptions !== 'undefined') {\r\n        if (obj.renderOptions.firstChange === false) {\r\n          if (typeof this.originMarker !== 'undefined') {\r\n            this.originMarker.setMap(null);\r\n            this.destinationMarker.setMap(null);\r\n            this.waypointsMarker.forEach((w: any) => w.setMap(null));\r\n          }\r\n          this.directionsDisplay.setPanel(null);\r\n          this.directionsDisplay.setMap(null);\r\n          this.directionsDisplay = undefined;\r\n        }\r\n      }\r\n      this.directionDraw();\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * This event is fired when the user creating or updating this direction\r\n   */\r\n  private directionDraw() {\r\n\r\n    this.gmapsApi.getNativeMap().then((map: GoogleMap) => {\r\n\r\n      if (typeof this.directionsDisplay === 'undefined') {\r\n        this.directionsDisplay = new google.maps.DirectionsRenderer(this.renderOptions);\r\n        this.directionsDisplay.setMap(map);\r\n        this.directionsDisplay.addListener('directions_changed', () => {\r\n          this.onChange.emit(this.directionsDisplay.getDirections());\r\n        });\r\n      }\r\n\r\n      if (typeof this.directionsService === 'undefined') {\r\n        this.directionsService = new google.maps.DirectionsService;\r\n      }\r\n\r\n      if (typeof this.panel === 'undefined') {\r\n        this.directionsDisplay.setPanel(null);\r\n      } else {\r\n        this.directionsDisplay.setPanel(this.panel);\r\n      }\r\n\r\n      const requestObj = {\r\n        origin: this.origin,\r\n        destination: this.destination,\r\n        waypoints: this.waypoints\r\n      };\r\n\r\n      function hashCode(s: string) {\r\n        for(var i = 0, h = 0; i < s.length; i++)\r\n        {\r\n          h = Math.imul(31, h) + s.charCodeAt(i) | 0;\r\n        }\r\n        return h;\r\n      }\r\n\r\n      const hash = hashCode(JSON.stringify(requestObj));\r\n\r\n      // Render exist direction\r\n      if (typeof this.renderRoute === 'object' && this.renderRoute !== null) {\r\n        this.directionsDisplay.setDirections(this.renderRoute);\r\n        this.renderRoute = null; // or set undefined, ''\r\n      } else {\r\n        //   if ((window)[<any>'featureToggles'][<any>'CacheThirdPartyApi'].toString() === 'true')\r\n        \r\n        if ((<any>window).featureToggles.CacheThirdPartyApi === 'true') {\r\n          this.http.get(`/umbraco/api/thirdpartycaching/GetGoogleDirections?request=${hash}`).subscribe((cacheResponse: any) => {\r\n            console.log('cached response: ', cacheResponse);\r\n            if (cacheResponse == null) {\r\n\r\n            // Request new direction\r\n            this.directionsService.route({\r\n              origin: this.origin,\r\n              destination: this.destination,\r\n              travelMode: this.travelMode,\r\n              transitOptions: this.transitOptions,\r\n              drivingOptions: this.drivingOptions,\r\n              waypoints: this.waypoints,\r\n              optimizeWaypoints: this.optimizeWaypoints,\r\n              provideRouteAlternatives: this.provideRouteAlternatives,\r\n              avoidHighways: this.avoidHighways,\r\n              avoidTolls: this.avoidTolls,\r\n            }, (response: any, status: any) => {\r\n\r\n              this.onResponse.emit(response);\r\n\r\n              if (status === 'OK') {\r\n                this.directionsDisplay.setDirections(response);\r\n\r\n                this.http.post(`/umbraco/api/thirdpartycaching/SaveGoogleDirections?request=${hash}`, response).subscribe((saveRes) => {\r\n                  console.log('save response:', saveRes);\r\n                });\r\n\r\n                /**\r\n                 * Emit The DirectionsResult Object\r\n                 * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n                 */\r\n\r\n                // Custom Markers\r\n                if (typeof this.markerOptions !== 'undefined') {\r\n\r\n                  // Remove origin markers\r\n                  try {\r\n                    if (typeof this.originMarker !== 'undefined') {\r\n                      google.maps.event.clearListeners(this.originMarker, 'click');\r\n                      this.originMarker.setMap(null);\r\n                    }\r\n                    if (typeof this.destinationMarker !== 'undefined') {\r\n                      google.maps.event.clearListeners(this.destinationMarker, 'click');\r\n                      this.destinationMarker.setMap(null);\r\n                    }\r\n                    this.waypointsMarker.forEach((w: any) => {\r\n                      if (typeof w !== 'undefined') {\r\n                        google.maps.event.clearListeners(w, 'click');\r\n                        w.setMap(null);\r\n                      }\r\n                    });\r\n\r\n                  } catch (err) {\r\n                    console.error('Can not reset custom marker.', err);\r\n                  }\r\n\r\n                  // Set custom markers\r\n                  const _route = response.routes[0].legs[0];\r\n                  try {\r\n                    // Origin Marker\r\n                    if (typeof this.markerOptions.origin !== 'undefined') {\r\n                      this.markerOptions.origin.map = map;\r\n                      this.markerOptions.origin.position = _route.start_location;\r\n                      this.originMarker = this.setMarker(\r\n                        map,\r\n                        this.originMarker,\r\n                        this.markerOptions.origin,\r\n                        _route.start_address,\r\n                      );\r\n                    }\r\n\r\n                    // Destination Marker\r\n                    if (typeof this.markerOptions.destination !== 'undefined') {\r\n                      this.markerOptions.destination.map = map;\r\n                      this.markerOptions.destination.position = _route.end_location;\r\n                      this.destinationMarker = this.setMarker(\r\n                        map,\r\n                        this.destinationMarker,\r\n                        this.markerOptions.destination,\r\n                        _route.end_address,\r\n                      );\r\n                    }\r\n\r\n                    // Waypoints Marker\r\n                    if (typeof this.markerOptions.waypoints !== 'undefined') {\r\n\r\n                      this.waypoints.forEach((waypoint: any, index: number) => {\r\n\r\n                        // If waypoints are not array then set all the same\r\n                        if (!Array.isArray(this.markerOptions.waypoints)) {\r\n                          this.markerOptions.waypoints.map = map;\r\n                          this.markerOptions.waypoints.position = _route.via_waypoints[index];\r\n                          this.waypointsMarker.push(this.setMarker(\r\n                            map,\r\n                            waypoint,\r\n                            this.markerOptions.waypoints,\r\n                            _route.via_waypoints[index],\r\n                          ));\r\n                        } else {\r\n                          this.markerOptions.waypoints[index].map = map;\r\n                          this.markerOptions.waypoints[index].position = _route.via_waypoints[index];\r\n                          this.waypointsMarker.push(this.setMarker(\r\n                            map,\r\n                            waypoint,\r\n                            this.markerOptions.waypoints[index],\r\n                            _route.via_waypoints[index],\r\n                          ));\r\n                        }\r\n\r\n                      }); // End forEach\r\n\r\n                    }\r\n                  } catch (err) {\r\n                    console.error('MarkerOptions error.', err);\r\n                  }\r\n                }\r\n\r\n              }\r\n\r\n            });\r\n            } else {\r\n              \r\n              this.onResponse.emit(cacheResponse);\r\n\r\n              this.directionsDisplay.setDirections(cacheResponse);\r\n\r\n\r\n              /**\r\n               * Emit The DirectionsResult Object\r\n               * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n               */\r\n\r\n              // Custom Markers\r\n              if (typeof this.markerOptions !== 'undefined') {\r\n\r\n                // Remove origin markers\r\n                try {\r\n                  if (typeof this.originMarker !== 'undefined') {\r\n                    google.maps.event.clearListeners(this.originMarker, 'click');\r\n                    this.originMarker.setMap(null);\r\n                  }\r\n                  if (typeof this.destinationMarker !== 'undefined') {\r\n                    google.maps.event.clearListeners(this.destinationMarker, 'click');\r\n                    this.destinationMarker.setMap(null);\r\n                  }\r\n                  this.waypointsMarker.forEach((w: any) => {\r\n                    if (typeof w !== 'undefined') {\r\n                      google.maps.event.clearListeners(w, 'click');\r\n                      w.setMap(null);\r\n                    }\r\n                  });\r\n\r\n                } catch (err) {\r\n                  console.error('Can not reset custom marker.', err);\r\n                }\r\n\r\n                // Set custom markers\r\n                const _route = cacheResponse.routes[0].legs[0];\r\n                try {\r\n                  // Origin Marker\r\n                  if (typeof this.markerOptions.origin !== 'undefined') {\r\n                    this.markerOptions.origin.map = map;\r\n                    this.markerOptions.origin.position = _route.start_location;\r\n                    this.originMarker = this.setMarker(\r\n                      map,\r\n                      this.originMarker,\r\n                      this.markerOptions.origin,\r\n                      _route.start_address,\r\n                    );\r\n                  }\r\n\r\n                  // Destination Marker\r\n                  if (typeof this.markerOptions.destination !== 'undefined') {\r\n                    this.markerOptions.destination.map = map;\r\n                    this.markerOptions.destination.position = _route.end_location;\r\n                    this.destinationMarker = this.setMarker(\r\n                      map,\r\n                      this.destinationMarker,\r\n                      this.markerOptions.destination,\r\n                      _route.end_address,\r\n                    );\r\n                  }\r\n\r\n                  // Waypoints Marker\r\n                  if (typeof this.markerOptions.waypoints !== 'undefined') {\r\n\r\n                    this.waypoints.forEach((waypoint: any, index: number) => {\r\n\r\n                      // If waypoints are not array then set all the same\r\n                      if (!Array.isArray(this.markerOptions.waypoints)) {\r\n                        this.markerOptions.waypoints.map = map;\r\n                        this.markerOptions.waypoints.position = _route.via_waypoints[index];\r\n                        this.waypointsMarker.push(this.setMarker(\r\n                          map,\r\n                          waypoint,\r\n                          this.markerOptions.waypoints,\r\n                          _route.via_waypoints[index],\r\n                        ));\r\n                      } else {\r\n                        this.markerOptions.waypoints[index].map = map;\r\n                        this.markerOptions.waypoints[index].position = _route.via_waypoints[index];\r\n                        this.waypointsMarker.push(this.setMarker(\r\n                          map,\r\n                          waypoint,\r\n                          this.markerOptions.waypoints[index],\r\n                          _route.via_waypoints[index],\r\n                        ));\r\n                      }\r\n\r\n                    }); // End forEach\r\n\r\n                  }\r\n                } catch (err) {\r\n                  console.error('MarkerOptions error.', err);\r\n                }\r\n              }\r\n\r\n              \r\n\r\n            }\r\n          });\r\n        } else {\r\n              // Request new direction\r\n              this.directionsService.route({\r\n                origin: this.origin,\r\n                destination: this.destination,\r\n                travelMode: this.travelMode,\r\n                transitOptions: this.transitOptions,\r\n                drivingOptions: this.drivingOptions,\r\n                waypoints: this.waypoints,\r\n                optimizeWaypoints: this.optimizeWaypoints,\r\n                provideRouteAlternatives: this.provideRouteAlternatives,\r\n                avoidHighways: this.avoidHighways,\r\n                avoidTolls: this.avoidTolls,\r\n              }, (response: any, status: any) => {\r\n  \r\n                this.onResponse.emit(response);\r\n  \r\n                if (status === 'OK') {\r\n                  this.directionsDisplay.setDirections(response);\r\n  \r\n              \r\n  \r\n                  /**\r\n                   * Emit The DirectionsResult Object\r\n                   * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n                   */\r\n  \r\n                  // Custom Markers\r\n                  if (typeof this.markerOptions !== 'undefined') {\r\n  \r\n                    // Remove origin markers\r\n                    try {\r\n                      if (typeof this.originMarker !== 'undefined') {\r\n                        google.maps.event.clearListeners(this.originMarker, 'click');\r\n                        this.originMarker.setMap(null);\r\n                      }\r\n                      if (typeof this.destinationMarker !== 'undefined') {\r\n                        google.maps.event.clearListeners(this.destinationMarker, 'click');\r\n                        this.destinationMarker.setMap(null);\r\n                      }\r\n                      this.waypointsMarker.forEach((w: any) => {\r\n                        if (typeof w !== 'undefined') {\r\n                          google.maps.event.clearListeners(w, 'click');\r\n                          w.setMap(null);\r\n                        }\r\n                      });\r\n  \r\n                    } catch (err) {\r\n                      console.error('Can not reset custom marker.', err);\r\n                    }\r\n  \r\n                    // Set custom markers\r\n                    const _route = response.routes[0].legs[0];\r\n                    try {\r\n                      // Origin Marker\r\n                      if (typeof this.markerOptions.origin !== 'undefined') {\r\n                        this.markerOptions.origin.map = map;\r\n                        this.markerOptions.origin.position = _route.start_location;\r\n                        this.originMarker = this.setMarker(\r\n                          map,\r\n                          this.originMarker,\r\n                          this.markerOptions.origin,\r\n                          _route.start_address,\r\n                        );\r\n                      }\r\n  \r\n                      // Destination Marker\r\n                      if (typeof this.markerOptions.destination !== 'undefined') {\r\n                        this.markerOptions.destination.map = map;\r\n                        this.markerOptions.destination.position = _route.end_location;\r\n                        this.destinationMarker = this.setMarker(\r\n                          map,\r\n                          this.destinationMarker,\r\n                          this.markerOptions.destination,\r\n                          _route.end_address,\r\n                        );\r\n                      }\r\n  \r\n                      // Waypoints Marker\r\n                      if (typeof this.markerOptions.waypoints !== 'undefined') {\r\n  \r\n                        this.waypoints.forEach((waypoint: any, index: number) => {\r\n  \r\n                          // If waypoints are not array then set all the same\r\n                          if (!Array.isArray(this.markerOptions.waypoints)) {\r\n                            this.markerOptions.waypoints.map = map;\r\n                            this.markerOptions.waypoints.position = _route.via_waypoints[index];\r\n                            this.waypointsMarker.push(this.setMarker(\r\n                              map,\r\n                              waypoint,\r\n                              this.markerOptions.waypoints,\r\n                              _route.via_waypoints[index],\r\n                            ));\r\n                          } else {\r\n                            this.markerOptions.waypoints[index].map = map;\r\n                            this.markerOptions.waypoints[index].position = _route.via_waypoints[index];\r\n                            this.waypointsMarker.push(this.setMarker(\r\n                              map,\r\n                              waypoint,\r\n                              this.markerOptions.waypoints[index],\r\n                              _route.via_waypoints[index],\r\n                            ));\r\n                          }\r\n  \r\n                        }); // End forEach\r\n  \r\n                      }\r\n                    } catch (err) {\r\n                      console.error('MarkerOptions error.', err);\r\n                    }\r\n                  }\r\n  \r\n                }\r\n  \r\n              });\r\n\r\n      }\r\n      \r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Custom Origin and Destination Icon\r\n   * @param map map\r\n   * @param marker marker\r\n   * @param markerOpts properties\r\n   * @param content marker's infowindow content\r\n   * @returns new marker\r\n   * @memberof AgmDirection\r\n   */\r\n  private setMarker(map: GoogleMap, marker: any, markerOpts: any, content: string) {\r\n    if (typeof this.infoWindow === 'undefined') {\r\n      this.infoWindow = new google.maps.InfoWindow({});\r\n      this.sendInfoWindow.emit(this.infoWindow);\r\n    }\r\n    marker = new google.maps.Marker(markerOpts);\r\n    marker.addListener('click', () => {\r\n      const infowindoContent: string = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\r\n      this.infoWindow.setContent(infowindoContent);\r\n      this.infoWindow.open(map, marker);\r\n    });\r\n    return marker;\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { AgmDirection } from '../directive/agm-direction.directive';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nexport * from '../directive/agm-direction.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        HttpClientModule,\r\n    ],\r\n    declarations: [\r\n        AgmDirection,\r\n    ],\r\n    exports: [\r\n        AgmDirection,\r\n    ]\r\n})\r\nexport class AgmDirectionModule {\r\n    static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: AgmDirectionModule,\r\n        };\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}